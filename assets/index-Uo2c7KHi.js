var YD=Object.defineProperty;var QD=(t,e,r)=>e in t?YD(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Zg=(t,e,r)=>QD(t,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var ud=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Re(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var zI={exports:{}},um={},WI={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wf=Symbol.for("react.element"),XD=Symbol.for("react.portal"),JD=Symbol.for("react.fragment"),ZD=Symbol.for("react.strict_mode"),eL=Symbol.for("react.profiler"),tL=Symbol.for("react.provider"),rL=Symbol.for("react.context"),nL=Symbol.for("react.forward_ref"),iL=Symbol.for("react.suspense"),aL=Symbol.for("react.memo"),oL=Symbol.for("react.lazy"),iE=Symbol.iterator;function sL(t){return t===null||typeof t!="object"?null:(t=iE&&t[iE]||t["@@iterator"],typeof t=="function"?t:null)}var qI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},HI=Object.assign,GI={};function kl(t,e,r){this.props=t,this.context=e,this.refs=GI,this.updater=r||qI}kl.prototype.isReactComponent={};kl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};kl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function KI(){}KI.prototype=kl.prototype;function sb(t,e,r){this.props=t,this.context=e,this.refs=GI,this.updater=r||qI}var lb=sb.prototype=new KI;lb.constructor=sb;HI(lb,kl.prototype);lb.isPureReactComponent=!0;var aE=Array.isArray,YI=Object.prototype.hasOwnProperty,ub={current:null},QI={key:!0,ref:!0,__self:!0,__source:!0};function XI(t,e,r){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)YI.call(e,n)&&!QI.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:wf,type:t,key:a,ref:o,props:i,_owner:ub.current}}function lL(t,e){return{$$typeof:wf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function cb(t){return typeof t=="object"&&t!==null&&t.$$typeof===wf}function uL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var oE=/\/+/g;function ev(t,e){return typeof t=="object"&&t!==null&&t.key!=null?uL(""+t.key):e.toString(36)}function Qd(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case wf:case XD:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+ev(o,0):n,aE(i)?(r="",t!=null&&(r=t.replace(oE,"$&/")+"/"),Qd(i,e,r,"",function(u){return u})):i!=null&&(cb(i)&&(i=lL(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(oE,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",aE(t))for(var s=0;s<t.length;s++){a=t[s];var l=n+ev(a,s);o+=Qd(a,e,r,l,i)}else if(l=sL(t),typeof l=="function")for(t=l.call(t),s=0;!(a=t.next()).done;)a=a.value,l=n+ev(a,s++),o+=Qd(a,e,r,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function cd(t,e,r){if(t==null)return t;var n=[],i=0;return Qd(t,n,"","",function(a){return e.call(r,a,i++)}),n}function cL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var wr={current:null},Xd={transition:null},fL={ReactCurrentDispatcher:wr,ReactCurrentBatchConfig:Xd,ReactCurrentOwner:ub};function JI(){throw Error("act(...) is not supported in production builds of React.")}be.Children={map:cd,forEach:function(t,e,r){cd(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return cd(t,function(){e++}),e},toArray:function(t){return cd(t,function(e){return e})||[]},only:function(t){if(!cb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};be.Component=kl;be.Fragment=JD;be.Profiler=eL;be.PureComponent=sb;be.StrictMode=ZD;be.Suspense=iL;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fL;be.act=JI;be.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=HI({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=ub.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)YI.call(e,l)&&!QI.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:wf,type:t.type,key:i,ref:a,props:n,_owner:o}};be.createContext=function(t){return t={$$typeof:rL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:tL,_context:t},t.Consumer=t};be.createElement=XI;be.createFactory=function(t){var e=XI.bind(null,t);return e.type=t,e};be.createRef=function(){return{current:null}};be.forwardRef=function(t){return{$$typeof:nL,render:t}};be.isValidElement=cb;be.lazy=function(t){return{$$typeof:oL,_payload:{_status:-1,_result:t},_init:cL}};be.memo=function(t,e){return{$$typeof:aL,type:t,compare:e===void 0?null:e}};be.startTransition=function(t){var e=Xd.transition;Xd.transition={};try{t()}finally{Xd.transition=e}};be.unstable_act=JI;be.useCallback=function(t,e){return wr.current.useCallback(t,e)};be.useContext=function(t){return wr.current.useContext(t)};be.useDebugValue=function(){};be.useDeferredValue=function(t){return wr.current.useDeferredValue(t)};be.useEffect=function(t,e){return wr.current.useEffect(t,e)};be.useId=function(){return wr.current.useId()};be.useImperativeHandle=function(t,e,r){return wr.current.useImperativeHandle(t,e,r)};be.useInsertionEffect=function(t,e){return wr.current.useInsertionEffect(t,e)};be.useLayoutEffect=function(t,e){return wr.current.useLayoutEffect(t,e)};be.useMemo=function(t,e){return wr.current.useMemo(t,e)};be.useReducer=function(t,e,r){return wr.current.useReducer(t,e,r)};be.useRef=function(t){return wr.current.useRef(t)};be.useState=function(t){return wr.current.useState(t)};be.useSyncExternalStore=function(t,e,r){return wr.current.useSyncExternalStore(t,e,r)};be.useTransition=function(){return wr.current.useTransition()};be.version="18.3.1";WI.exports=be;var D=WI.exports;const M=Re(D);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dL=D,hL=Symbol.for("react.element"),pL=Symbol.for("react.fragment"),mL=Object.prototype.hasOwnProperty,gL=dL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vL={key:!0,ref:!0,__self:!0,__source:!0};function ZI(t,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)mL.call(e,n)&&!vL.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:hL,type:t,key:a,ref:o,props:i,_owner:gL.current}}um.Fragment=pL;um.jsx=ZI;um.jsxs=ZI;zI.exports=um;var g=zI.exports,hy={},ek={exports:{}},Gr={},tk={exports:{}},rk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,z){var Y=V.length;V.push(z);e:for(;0<Y;){var ee=Y-1>>>1,Q=V[ee];if(0<i(Q,z))V[ee]=z,V[Y]=Q,Y=ee;else break e}}function r(V){return V.length===0?null:V[0]}function n(V){if(V.length===0)return null;var z=V[0],Y=V.pop();if(Y!==z){V[0]=Y;e:for(var ee=0,Q=V.length,re=Q>>>1;ee<re;){var Ee=2*(ee+1)-1,Ne=V[Ee],it=Ee+1,Dt=V[it];if(0>i(Ne,Y))it<Q&&0>i(Dt,Ne)?(V[ee]=Dt,V[it]=Y,ee=it):(V[ee]=Ne,V[Ee]=Y,ee=Ee);else if(it<Q&&0>i(Dt,Y))V[ee]=Dt,V[it]=Y,ee=it;else break e}}return z}function i(V,z){var Y=V.sortIndex-z.sortIndex;return Y!==0?Y:V.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,f=null,h=3,p=!1,y=!1,m=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(V){for(var z=r(u);z!==null;){if(z.callback===null)n(u);else if(z.startTime<=V)n(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=r(u)}}function I(V){if(m=!1,w(V),!y)if(r(l)!==null)y=!0,B(T);else{var z=r(u);z!==null&&W(I,z.startTime-V)}}function T(V,z){y=!1,m&&(m=!1,v(E),E=-1),p=!0;var Y=h;try{for(w(z),f=r(l);f!==null&&(!(f.expirationTime>z)||V&&!k());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,h=f.priorityLevel;var Q=ee(f.expirationTime<=z);z=t.unstable_now(),typeof Q=="function"?f.callback=Q:f===r(l)&&n(l),w(z)}else n(l);f=r(l)}if(f!==null)var re=!0;else{var Ee=r(u);Ee!==null&&W(I,Ee.startTime-z),re=!1}return re}finally{f=null,h=Y,p=!1}}var O=!1,S=null,E=-1,A=5,C=-1;function k(){return!(t.unstable_now()-C<A)}function j(){if(S!==null){var V=t.unstable_now();C=V;var z=!0;try{z=S(!0,V)}finally{z?N():(O=!1,S=null)}}else O=!1}var N;if(typeof _=="function")N=function(){_(j)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,$=F.port2;F.port1.onmessage=j,N=function(){$.postMessage(null)}}else N=function(){b(j,0)};function B(V){S=V,O||(O=!0,N())}function W(V,z){E=b(function(){V(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,B(T))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(V){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var Y=h;h=z;try{return V()}finally{h=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,z){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Y=h;h=V;try{return z()}finally{h=Y}},t.unstable_scheduleCallback=function(V,z,Y){var ee=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ee+Y:ee):Y=ee,V){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=Y+Q,V={id:c++,callback:z,priorityLevel:V,startTime:Y,expirationTime:Q,sortIndex:-1},Y>ee?(V.sortIndex=Y,e(u,V),r(l)===null&&V===r(u)&&(m?(v(E),E=-1):m=!0,W(I,Y-ee))):(V.sortIndex=Q,e(l,V),y||p||(y=!0,B(T))),V},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(V){var z=h;return function(){var Y=h;h=z;try{return V.apply(this,arguments)}finally{h=Y}}}})(rk);tk.exports=rk;var yL=tk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _L=D,qr=yL;function X(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nk=new Set,cc={};function Do(t,e){Vs(t,e),Vs(t+"Capture",e)}function Vs(t,e){for(cc[t]=e,t=0;t<e.length;t++)nk.add(e[t])}var Ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),py=Object.prototype.hasOwnProperty,bL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sE={},lE={};function wL(t){return py.call(lE,t)?!0:py.call(sE,t)?!1:bL.test(t)?lE[t]=!0:(sE[t]=!0,!1)}function xL(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function EL(t,e,r,n){if(e===null||typeof e>"u"||xL(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function xr(t,e,r,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var Ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ht[t]=new xr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ht[e]=new xr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ht[t]=new xr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ht[t]=new xr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ht[t]=new xr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ht[t]=new xr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ht[t]=new xr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ht[t]=new xr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ht[t]=new xr(t,5,!1,t.toLowerCase(),null,!1,!1)});var fb=/[\-:]([a-z])/g;function db(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(fb,db);Ht[e]=new xr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(fb,db);Ht[e]=new xr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(fb,db);Ht[e]=new xr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ht[t]=new xr(t,1,!1,t.toLowerCase(),null,!1,!1)});Ht.xlinkHref=new xr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ht[t]=new xr(t,1,!1,t.toLowerCase(),null,!0,!0)});function hb(t,e,r,n){var i=Ht.hasOwnProperty(e)?Ht[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(EL(e,r,i,n)&&(r=null),n||i===null?wL(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Li=_L.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fd=Symbol.for("react.element"),ls=Symbol.for("react.portal"),us=Symbol.for("react.fragment"),pb=Symbol.for("react.strict_mode"),my=Symbol.for("react.profiler"),ik=Symbol.for("react.provider"),ak=Symbol.for("react.context"),mb=Symbol.for("react.forward_ref"),gy=Symbol.for("react.suspense"),vy=Symbol.for("react.suspense_list"),gb=Symbol.for("react.memo"),Ji=Symbol.for("react.lazy"),ok=Symbol.for("react.offscreen"),uE=Symbol.iterator;function pu(t){return t===null||typeof t!="object"?null:(t=uE&&t[uE]||t["@@iterator"],typeof t=="function"?t:null)}var lt=Object.assign,tv;function Ru(t){if(tv===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);tv=e&&e[1]||""}return`
`+tv+t}var rv=!1;function nv(t,e){if(!t||rv)return"";rv=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=s);break}}}finally{rv=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Ru(t):""}function SL(t){switch(t.tag){case 5:return Ru(t.type);case 16:return Ru("Lazy");case 13:return Ru("Suspense");case 19:return Ru("SuspenseList");case 0:case 2:case 15:return t=nv(t.type,!1),t;case 11:return t=nv(t.type.render,!1),t;case 1:return t=nv(t.type,!0),t;default:return""}}function yy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case us:return"Fragment";case ls:return"Portal";case my:return"Profiler";case pb:return"StrictMode";case gy:return"Suspense";case vy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ak:return(t.displayName||"Context")+".Consumer";case ik:return(t._context.displayName||"Context")+".Provider";case mb:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case gb:return e=t.displayName||null,e!==null?e:yy(t.type)||"Memo";case Ji:e=t._payload,t=t._init;try{return yy(t(e))}catch{}}return null}function AL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yy(e);case 8:return e===pb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Pa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function TL(t){var e=sk(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function dd(t){t._valueTracker||(t._valueTracker=TL(t))}function lk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=sk(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function _h(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _y(t,e){var r=e.checked;return lt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function cE(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Pa(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function uk(t,e){e=e.checked,e!=null&&hb(t,"checked",e,!1)}function by(t,e){uk(t,e);var r=Pa(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?wy(t,e.type,r):e.hasOwnProperty("defaultValue")&&wy(t,e.type,Pa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function fE(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function wy(t,e,r){(e!=="number"||_h(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Mu=Array.isArray;function As(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Pa(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function xy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(X(91));return lt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function dE(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(X(92));if(Mu(r)){if(1<r.length)throw Error(X(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Pa(r)}}function ck(t,e){var r=Pa(e.value),n=Pa(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function hE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function fk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ey(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?fk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var hd,dk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(hd=hd||document.createElement("div"),hd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=hd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fc(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var zu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},PL=["Webkit","ms","Moz","O"];Object.keys(zu).forEach(function(t){PL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),zu[e]=zu[t]})});function hk(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||zu.hasOwnProperty(t)&&zu[t]?(""+e).trim():e+"px"}function pk(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=hk(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var OL=lt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sy(t,e){if(e){if(OL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(X(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(X(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(X(61))}if(e.style!=null&&typeof e.style!="object")throw Error(X(62))}}function Ay(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ty=null;function vb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Py=null,Ts=null,Ps=null;function pE(t){if(t=Sf(t)){if(typeof Py!="function")throw Error(X(280));var e=t.stateNode;e&&(e=pm(e),Py(t.stateNode,t.type,e))}}function mk(t){Ts?Ps?Ps.push(t):Ps=[t]:Ts=t}function gk(){if(Ts){var t=Ts,e=Ps;if(Ps=Ts=null,pE(t),e)for(t=0;t<e.length;t++)pE(e[t])}}function vk(t,e){return t(e)}function yk(){}var iv=!1;function _k(t,e,r){if(iv)return t(e,r);iv=!0;try{return vk(t,e,r)}finally{iv=!1,(Ts!==null||Ps!==null)&&(yk(),gk())}}function dc(t,e){var r=t.stateNode;if(r===null)return null;var n=pm(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(X(231,e,typeof r));return r}var Oy=!1;if(Ei)try{var mu={};Object.defineProperty(mu,"passive",{get:function(){Oy=!0}}),window.addEventListener("test",mu,mu),window.removeEventListener("test",mu,mu)}catch{Oy=!1}function IL(t,e,r,n,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var Wu=!1,bh=null,wh=!1,Iy=null,kL={onError:function(t){Wu=!0,bh=t}};function CL(t,e,r,n,i,a,o,s,l){Wu=!1,bh=null,IL.apply(kL,arguments)}function NL(t,e,r,n,i,a,o,s,l){if(CL.apply(this,arguments),Wu){if(Wu){var u=bh;Wu=!1,bh=null}else throw Error(X(198));wh||(wh=!0,Iy=u)}}function Lo(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function bk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function mE(t){if(Lo(t)!==t)throw Error(X(188))}function jL(t){var e=t.alternate;if(!e){if(e=Lo(t),e===null)throw Error(X(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return mE(i),t;if(a===n)return mE(i),e;a=a.sibling}throw Error(X(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(X(189))}}if(r.alternate!==n)throw Error(X(190))}if(r.tag!==3)throw Error(X(188));return r.stateNode.current===r?t:e}function wk(t){return t=jL(t),t!==null?xk(t):null}function xk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=xk(t);if(e!==null)return e;t=t.sibling}return null}var Ek=qr.unstable_scheduleCallback,gE=qr.unstable_cancelCallback,RL=qr.unstable_shouldYield,ML=qr.unstable_requestPaint,mt=qr.unstable_now,$L=qr.unstable_getCurrentPriorityLevel,yb=qr.unstable_ImmediatePriority,Sk=qr.unstable_UserBlockingPriority,xh=qr.unstable_NormalPriority,DL=qr.unstable_LowPriority,Ak=qr.unstable_IdlePriority,cm=null,Fn=null;function LL(t){if(Fn&&typeof Fn.onCommitFiberRoot=="function")try{Fn.onCommitFiberRoot(cm,t,void 0,(t.current.flags&128)===128)}catch{}}var xn=Math.clz32?Math.clz32:BL,FL=Math.log,VL=Math.LN2;function BL(t){return t>>>=0,t===0?32:31-(FL(t)/VL|0)|0}var pd=64,md=4194304;function $u(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Eh(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var s=o&~i;s!==0?n=$u(s):(a&=o,a!==0&&(n=$u(a)))}else o=r&~i,o!==0?n=$u(o):a!==0&&(n=$u(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-xn(e),i=1<<r,n|=t[r],e&=~i;return n}function UL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zL(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-xn(a),s=1<<o,l=i[o];l===-1?(!(s&r)||s&n)&&(i[o]=UL(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}}function ky(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Tk(){var t=pd;return pd<<=1,!(pd&4194240)&&(pd=64),t}function av(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function xf(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xn(e),t[e]=r}function WL(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-xn(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function _b(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-xn(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var $e=0;function Pk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ok,bb,Ik,kk,Ck,Cy=!1,gd=[],da=null,ha=null,pa=null,hc=new Map,pc=new Map,ta=[],qL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vE(t,e){switch(t){case"focusin":case"focusout":da=null;break;case"dragenter":case"dragleave":ha=null;break;case"mouseover":case"mouseout":pa=null;break;case"pointerover":case"pointerout":hc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":pc.delete(e.pointerId)}}function gu(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Sf(e),e!==null&&bb(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function HL(t,e,r,n,i){switch(e){case"focusin":return da=gu(da,t,e,r,n,i),!0;case"dragenter":return ha=gu(ha,t,e,r,n,i),!0;case"mouseover":return pa=gu(pa,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return hc.set(a,gu(hc.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,pc.set(a,gu(pc.get(a)||null,t,e,r,n,i)),!0}return!1}function Nk(t){var e=io(t.target);if(e!==null){var r=Lo(e);if(r!==null){if(e=r.tag,e===13){if(e=bk(r),e!==null){t.blockedOn=e,Ck(t.priority,function(){Ik(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Ny(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Ty=n,r.target.dispatchEvent(n),Ty=null}else return e=Sf(r),e!==null&&bb(e),t.blockedOn=r,!1;e.shift()}return!0}function yE(t,e,r){Jd(t)&&r.delete(e)}function GL(){Cy=!1,da!==null&&Jd(da)&&(da=null),ha!==null&&Jd(ha)&&(ha=null),pa!==null&&Jd(pa)&&(pa=null),hc.forEach(yE),pc.forEach(yE)}function vu(t,e){t.blockedOn===e&&(t.blockedOn=null,Cy||(Cy=!0,qr.unstable_scheduleCallback(qr.unstable_NormalPriority,GL)))}function mc(t){function e(i){return vu(i,t)}if(0<gd.length){vu(gd[0],t);for(var r=1;r<gd.length;r++){var n=gd[r];n.blockedOn===t&&(n.blockedOn=null)}}for(da!==null&&vu(da,t),ha!==null&&vu(ha,t),pa!==null&&vu(pa,t),hc.forEach(e),pc.forEach(e),r=0;r<ta.length;r++)n=ta[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<ta.length&&(r=ta[0],r.blockedOn===null);)Nk(r),r.blockedOn===null&&ta.shift()}var Os=Li.ReactCurrentBatchConfig,Sh=!0;function KL(t,e,r,n){var i=$e,a=Os.transition;Os.transition=null;try{$e=1,wb(t,e,r,n)}finally{$e=i,Os.transition=a}}function YL(t,e,r,n){var i=$e,a=Os.transition;Os.transition=null;try{$e=4,wb(t,e,r,n)}finally{$e=i,Os.transition=a}}function wb(t,e,r,n){if(Sh){var i=Ny(t,e,r,n);if(i===null)mv(t,e,n,Ah,r),vE(t,n);else if(HL(i,t,e,r,n))n.stopPropagation();else if(vE(t,n),e&4&&-1<qL.indexOf(t)){for(;i!==null;){var a=Sf(i);if(a!==null&&Ok(a),a=Ny(t,e,r,n),a===null&&mv(t,e,n,Ah,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else mv(t,e,n,null,r)}}var Ah=null;function Ny(t,e,r,n){if(Ah=null,t=vb(n),t=io(t),t!==null)if(e=Lo(t),e===null)t=null;else if(r=e.tag,r===13){if(t=bk(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ah=t,null}function jk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($L()){case yb:return 1;case Sk:return 4;case xh:case DL:return 16;case Ak:return 536870912;default:return 16}default:return 16}}var la=null,xb=null,Zd=null;function Rk(){if(Zd)return Zd;var t,e=xb,r=e.length,n,i="value"in la?la.value:la.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return Zd=i.slice(t,1<n?1-n:void 0)}function eh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vd(){return!0}function _E(){return!1}function Kr(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?vd:_E,this.isPropagationStopped=_E,this}return lt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=vd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=vd)},persist:function(){},isPersistent:vd}),e}var Cl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eb=Kr(Cl),Ef=lt({},Cl,{view:0,detail:0}),QL=Kr(Ef),ov,sv,yu,fm=lt({},Ef,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sb,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==yu&&(yu&&t.type==="mousemove"?(ov=t.screenX-yu.screenX,sv=t.screenY-yu.screenY):sv=ov=0,yu=t),ov)},movementY:function(t){return"movementY"in t?t.movementY:sv}}),bE=Kr(fm),XL=lt({},fm,{dataTransfer:0}),JL=Kr(XL),ZL=lt({},Ef,{relatedTarget:0}),lv=Kr(ZL),eF=lt({},Cl,{animationName:0,elapsedTime:0,pseudoElement:0}),tF=Kr(eF),rF=lt({},Cl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),nF=Kr(rF),iF=lt({},Cl,{data:0}),wE=Kr(iF),aF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=sF[t])?!!e[t]:!1}function Sb(){return lF}var uF=lt({},Ef,{key:function(t){if(t.key){var e=aF[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=eh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?oF[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sb,charCode:function(t){return t.type==="keypress"?eh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?eh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cF=Kr(uF),fF=lt({},fm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xE=Kr(fF),dF=lt({},Ef,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sb}),hF=Kr(dF),pF=lt({},Cl,{propertyName:0,elapsedTime:0,pseudoElement:0}),mF=Kr(pF),gF=lt({},fm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),vF=Kr(gF),yF=[9,13,27,32],Ab=Ei&&"CompositionEvent"in window,qu=null;Ei&&"documentMode"in document&&(qu=document.documentMode);var _F=Ei&&"TextEvent"in window&&!qu,Mk=Ei&&(!Ab||qu&&8<qu&&11>=qu),EE=" ",SE=!1;function $k(t,e){switch(t){case"keyup":return yF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var cs=!1;function bF(t,e){switch(t){case"compositionend":return Dk(e);case"keypress":return e.which!==32?null:(SE=!0,EE);case"textInput":return t=e.data,t===EE&&SE?null:t;default:return null}}function wF(t,e){if(cs)return t==="compositionend"||!Ab&&$k(t,e)?(t=Rk(),Zd=xb=la=null,cs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Mk&&e.locale!=="ko"?null:e.data;default:return null}}var xF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function AE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!xF[t.type]:e==="textarea"}function Lk(t,e,r,n){mk(n),e=Th(e,"onChange"),0<e.length&&(r=new Eb("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Hu=null,gc=null;function EF(t){Yk(t,0)}function dm(t){var e=hs(t);if(lk(e))return t}function SF(t,e){if(t==="change")return e}var Fk=!1;if(Ei){var uv;if(Ei){var cv="oninput"in document;if(!cv){var TE=document.createElement("div");TE.setAttribute("oninput","return;"),cv=typeof TE.oninput=="function"}uv=cv}else uv=!1;Fk=uv&&(!document.documentMode||9<document.documentMode)}function PE(){Hu&&(Hu.detachEvent("onpropertychange",Vk),gc=Hu=null)}function Vk(t){if(t.propertyName==="value"&&dm(gc)){var e=[];Lk(e,gc,t,vb(t)),_k(EF,e)}}function AF(t,e,r){t==="focusin"?(PE(),Hu=e,gc=r,Hu.attachEvent("onpropertychange",Vk)):t==="focusout"&&PE()}function TF(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return dm(gc)}function PF(t,e){if(t==="click")return dm(e)}function OF(t,e){if(t==="input"||t==="change")return dm(e)}function IF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Tn=typeof Object.is=="function"?Object.is:IF;function vc(t,e){if(Tn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!py.call(e,i)||!Tn(t[i],e[i]))return!1}return!0}function OE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function IE(t,e){var r=OE(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=OE(r)}}function Bk(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Bk(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Uk(){for(var t=window,e=_h();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=_h(t.document)}return e}function Tb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function kF(t){var e=Uk(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Bk(r.ownerDocument.documentElement,r)){if(n!==null&&Tb(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=IE(r,a);var o=IE(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var CF=Ei&&"documentMode"in document&&11>=document.documentMode,fs=null,jy=null,Gu=null,Ry=!1;function kE(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ry||fs==null||fs!==_h(n)||(n=fs,"selectionStart"in n&&Tb(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Gu&&vc(Gu,n)||(Gu=n,n=Th(jy,"onSelect"),0<n.length&&(e=new Eb("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=fs)))}function yd(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var ds={animationend:yd("Animation","AnimationEnd"),animationiteration:yd("Animation","AnimationIteration"),animationstart:yd("Animation","AnimationStart"),transitionend:yd("Transition","TransitionEnd")},fv={},zk={};Ei&&(zk=document.createElement("div").style,"AnimationEvent"in window||(delete ds.animationend.animation,delete ds.animationiteration.animation,delete ds.animationstart.animation),"TransitionEvent"in window||delete ds.transitionend.transition);function hm(t){if(fv[t])return fv[t];if(!ds[t])return t;var e=ds[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in zk)return fv[t]=e[r];return t}var Wk=hm("animationend"),qk=hm("animationiteration"),Hk=hm("animationstart"),Gk=hm("transitionend"),Kk=new Map,CE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ja(t,e){Kk.set(t,e),Do(e,[t])}for(var dv=0;dv<CE.length;dv++){var hv=CE[dv],NF=hv.toLowerCase(),jF=hv[0].toUpperCase()+hv.slice(1);ja(NF,"on"+jF)}ja(Wk,"onAnimationEnd");ja(qk,"onAnimationIteration");ja(Hk,"onAnimationStart");ja("dblclick","onDoubleClick");ja("focusin","onFocus");ja("focusout","onBlur");ja(Gk,"onTransitionEnd");Vs("onMouseEnter",["mouseout","mouseover"]);Vs("onMouseLeave",["mouseout","mouseover"]);Vs("onPointerEnter",["pointerout","pointerover"]);Vs("onPointerLeave",["pointerout","pointerover"]);Do("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Do("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Do("onBeforeInput",["compositionend","keypress","textInput","paste"]);Do("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Do("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Do("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RF=new Set("cancel close invalid load scroll toggle".split(" ").concat(Du));function NE(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,NL(n,e,void 0,t),t.currentTarget=null}function Yk(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;NE(i,s,u),a=l}else for(o=0;o<n.length;o++){if(s=n[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;NE(i,s,u),a=l}}}if(wh)throw t=Iy,wh=!1,Iy=null,t}function Qe(t,e){var r=e[Fy];r===void 0&&(r=e[Fy]=new Set);var n=t+"__bubble";r.has(n)||(Qk(e,t,2,!1),r.add(n))}function pv(t,e,r){var n=0;e&&(n|=4),Qk(r,t,n,e)}var _d="_reactListening"+Math.random().toString(36).slice(2);function yc(t){if(!t[_d]){t[_d]=!0,nk.forEach(function(r){r!=="selectionchange"&&(RF.has(r)||pv(r,!1,t),pv(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_d]||(e[_d]=!0,pv("selectionchange",!1,e))}}function Qk(t,e,r,n){switch(jk(e)){case 1:var i=KL;break;case 4:i=YL;break;default:i=wb}r=i.bind(null,e,r,t),i=void 0,!Oy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function mv(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=io(s),o===null)return;if(l=o.tag,l===5||l===6){n=a=o;continue e}s=s.parentNode}}n=n.return}_k(function(){var u=a,c=vb(r),f=[];e:{var h=Kk.get(t);if(h!==void 0){var p=Eb,y=t;switch(t){case"keypress":if(eh(r)===0)break e;case"keydown":case"keyup":p=cF;break;case"focusin":y="focus",p=lv;break;case"focusout":y="blur",p=lv;break;case"beforeblur":case"afterblur":p=lv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=bE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=JL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=hF;break;case Wk:case qk:case Hk:p=tF;break;case Gk:p=mF;break;case"scroll":p=QL;break;case"wheel":p=vF;break;case"copy":case"cut":case"paste":p=nF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=xE}var m=(e&4)!==0,b=!m&&t==="scroll",v=m?h!==null?h+"Capture":null:h;m=[];for(var _=u,w;_!==null;){w=_;var I=w.stateNode;if(w.tag===5&&I!==null&&(w=I,v!==null&&(I=dc(_,v),I!=null&&m.push(_c(_,I,w)))),b)break;_=_.return}0<m.length&&(h=new p(h,y,null,r,c),f.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&r!==Ty&&(y=r.relatedTarget||r.fromElement)&&(io(y)||y[Si]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=r.relatedTarget||r.toElement,p=u,y=y?io(y):null,y!==null&&(b=Lo(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(m=bE,I="onMouseLeave",v="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(m=xE,I="onPointerLeave",v="onPointerEnter",_="pointer"),b=p==null?h:hs(p),w=y==null?h:hs(y),h=new m(I,_+"leave",p,r,c),h.target=b,h.relatedTarget=w,I=null,io(c)===u&&(m=new m(v,_+"enter",y,r,c),m.target=w,m.relatedTarget=b,I=m),b=I,p&&y)t:{for(m=p,v=y,_=0,w=m;w;w=Xo(w))_++;for(w=0,I=v;I;I=Xo(I))w++;for(;0<_-w;)m=Xo(m),_--;for(;0<w-_;)v=Xo(v),w--;for(;_--;){if(m===v||v!==null&&m===v.alternate)break t;m=Xo(m),v=Xo(v)}m=null}else m=null;p!==null&&jE(f,h,p,m,!1),y!==null&&b!==null&&jE(f,b,y,m,!0)}}e:{if(h=u?hs(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var T=SF;else if(AE(h))if(Fk)T=OF;else{T=TF;var O=AF}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=PF);if(T&&(T=T(t,u))){Lk(f,T,r,c);break e}O&&O(t,h,u),t==="focusout"&&(O=h._wrapperState)&&O.controlled&&h.type==="number"&&wy(h,"number",h.value)}switch(O=u?hs(u):window,t){case"focusin":(AE(O)||O.contentEditable==="true")&&(fs=O,jy=u,Gu=null);break;case"focusout":Gu=jy=fs=null;break;case"mousedown":Ry=!0;break;case"contextmenu":case"mouseup":case"dragend":Ry=!1,kE(f,r,c);break;case"selectionchange":if(CF)break;case"keydown":case"keyup":kE(f,r,c)}var S;if(Ab)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else cs?$k(t,r)&&(E="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(Mk&&r.locale!=="ko"&&(cs||E!=="onCompositionStart"?E==="onCompositionEnd"&&cs&&(S=Rk()):(la=c,xb="value"in la?la.value:la.textContent,cs=!0)),O=Th(u,E),0<O.length&&(E=new wE(E,t,null,r,c),f.push({event:E,listeners:O}),S?E.data=S:(S=Dk(r),S!==null&&(E.data=S)))),(S=_F?bF(t,r):wF(t,r))&&(u=Th(u,"onBeforeInput"),0<u.length&&(c=new wE("onBeforeInput","beforeinput",null,r,c),f.push({event:c,listeners:u}),c.data=S))}Yk(f,e)})}function _c(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Th(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=dc(t,r),a!=null&&n.unshift(_c(t,a,i)),a=dc(t,e),a!=null&&n.push(_c(t,a,i))),t=t.return}return n}function Xo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function jE(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var s=r,l=s.alternate,u=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&u!==null&&(s=u,i?(l=dc(r,a),l!=null&&o.unshift(_c(r,l,s))):i||(l=dc(r,a),l!=null&&o.push(_c(r,l,s)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var MF=/\r\n?/g,$F=/\u0000|\uFFFD/g;function RE(t){return(typeof t=="string"?t:""+t).replace(MF,`
`).replace($F,"")}function bd(t,e,r){if(e=RE(e),RE(t)!==e&&r)throw Error(X(425))}function Ph(){}var My=null,$y=null;function Dy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ly=typeof setTimeout=="function"?setTimeout:void 0,DF=typeof clearTimeout=="function"?clearTimeout:void 0,ME=typeof Promise=="function"?Promise:void 0,LF=typeof queueMicrotask=="function"?queueMicrotask:typeof ME<"u"?function(t){return ME.resolve(null).then(t).catch(FF)}:Ly;function FF(t){setTimeout(function(){throw t})}function gv(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),mc(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);mc(e)}function ma(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function $E(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Nl=Math.random().toString(36).slice(2),Rn="__reactFiber$"+Nl,bc="__reactProps$"+Nl,Si="__reactContainer$"+Nl,Fy="__reactEvents$"+Nl,VF="__reactListeners$"+Nl,BF="__reactHandles$"+Nl;function io(t){var e=t[Rn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Si]||r[Rn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=$E(t);t!==null;){if(r=t[Rn])return r;t=$E(t)}return e}t=r,r=t.parentNode}return null}function Sf(t){return t=t[Rn]||t[Si],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function hs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(X(33))}function pm(t){return t[bc]||null}var Vy=[],ps=-1;function Ra(t){return{current:t}}function et(t){0>ps||(t.current=Vy[ps],Vy[ps]=null,ps--)}function Ge(t,e){ps++,Vy[ps]=t.current,t.current=e}var Oa={},lr=Ra(Oa),Pr=Ra(!1),wo=Oa;function Bs(t,e){var r=t.type.contextTypes;if(!r)return Oa;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Or(t){return t=t.childContextTypes,t!=null}function Oh(){et(Pr),et(lr)}function DE(t,e,r){if(lr.current!==Oa)throw Error(X(168));Ge(lr,e),Ge(Pr,r)}function Xk(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(X(108,AL(t)||"Unknown",i));return lt({},r,n)}function Ih(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Oa,wo=lr.current,Ge(lr,t),Ge(Pr,Pr.current),!0}function LE(t,e,r){var n=t.stateNode;if(!n)throw Error(X(169));r?(t=Xk(t,e,wo),n.__reactInternalMemoizedMergedChildContext=t,et(Pr),et(lr),Ge(lr,t)):et(Pr),Ge(Pr,r)}var li=null,mm=!1,vv=!1;function Jk(t){li===null?li=[t]:li.push(t)}function UF(t){mm=!0,Jk(t)}function Ma(){if(!vv&&li!==null){vv=!0;var t=0,e=$e;try{var r=li;for($e=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}li=null,mm=!1}catch(i){throw li!==null&&(li=li.slice(t+1)),Ek(yb,Ma),i}finally{$e=e,vv=!1}}return null}var ms=[],gs=0,kh=null,Ch=0,Jr=[],Zr=0,xo=null,ci=1,fi="";function Qa(t,e){ms[gs++]=Ch,ms[gs++]=kh,kh=t,Ch=e}function Zk(t,e,r){Jr[Zr++]=ci,Jr[Zr++]=fi,Jr[Zr++]=xo,xo=t;var n=ci;t=fi;var i=32-xn(n)-1;n&=~(1<<i),r+=1;var a=32-xn(e)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,ci=1<<32-xn(e)+i|r<<i|n,fi=a+t}else ci=1<<a|r<<i|n,fi=t}function Pb(t){t.return!==null&&(Qa(t,1),Zk(t,1,0))}function Ob(t){for(;t===kh;)kh=ms[--gs],ms[gs]=null,Ch=ms[--gs],ms[gs]=null;for(;t===xo;)xo=Jr[--Zr],Jr[Zr]=null,fi=Jr[--Zr],Jr[Zr]=null,ci=Jr[--Zr],Jr[Zr]=null}var Br=null,Vr=null,rt=!1,_n=null;function eC(t,e){var r=rn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function FE(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Br=t,Vr=ma(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Br=t,Vr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=xo!==null?{id:ci,overflow:fi}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=rn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Br=t,Vr=null,!0):!1;default:return!1}}function By(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Uy(t){if(rt){var e=Vr;if(e){var r=e;if(!FE(t,e)){if(By(t))throw Error(X(418));e=ma(r.nextSibling);var n=Br;e&&FE(t,e)?eC(n,r):(t.flags=t.flags&-4097|2,rt=!1,Br=t)}}else{if(By(t))throw Error(X(418));t.flags=t.flags&-4097|2,rt=!1,Br=t}}}function VE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Br=t}function wd(t){if(t!==Br)return!1;if(!rt)return VE(t),rt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Dy(t.type,t.memoizedProps)),e&&(e=Vr)){if(By(t))throw tC(),Error(X(418));for(;e;)eC(t,e),e=ma(e.nextSibling)}if(VE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Vr=ma(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Vr=null}}else Vr=Br?ma(t.stateNode.nextSibling):null;return!0}function tC(){for(var t=Vr;t;)t=ma(t.nextSibling)}function Us(){Vr=Br=null,rt=!1}function Ib(t){_n===null?_n=[t]:_n.push(t)}var zF=Li.ReactCurrentBatchConfig;function _u(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(X(309));var n=r.stateNode}if(!n)throw Error(X(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(X(284));if(!r._owner)throw Error(X(290,t))}return t}function xd(t,e){throw t=Object.prototype.toString.call(e),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function BE(t){var e=t._init;return e(t._payload)}function rC(t){function e(v,_){if(t){var w=v.deletions;w===null?(v.deletions=[_],v.flags|=16):w.push(_)}}function r(v,_){if(!t)return null;for(;_!==null;)e(v,_),_=_.sibling;return null}function n(v,_){for(v=new Map;_!==null;)_.key!==null?v.set(_.key,_):v.set(_.index,_),_=_.sibling;return v}function i(v,_){return v=_a(v,_),v.index=0,v.sibling=null,v}function a(v,_,w){return v.index=w,t?(w=v.alternate,w!==null?(w=w.index,w<_?(v.flags|=2,_):w):(v.flags|=2,_)):(v.flags|=1048576,_)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function s(v,_,w,I){return _===null||_.tag!==6?(_=Sv(w,v.mode,I),_.return=v,_):(_=i(_,w),_.return=v,_)}function l(v,_,w,I){var T=w.type;return T===us?c(v,_,w.props.children,I,w.key):_!==null&&(_.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ji&&BE(T)===_.type)?(I=i(_,w.props),I.ref=_u(v,_,w),I.return=v,I):(I=sh(w.type,w.key,w.props,null,v.mode,I),I.ref=_u(v,_,w),I.return=v,I)}function u(v,_,w,I){return _===null||_.tag!==4||_.stateNode.containerInfo!==w.containerInfo||_.stateNode.implementation!==w.implementation?(_=Av(w,v.mode,I),_.return=v,_):(_=i(_,w.children||[]),_.return=v,_)}function c(v,_,w,I,T){return _===null||_.tag!==7?(_=mo(w,v.mode,I,T),_.return=v,_):(_=i(_,w),_.return=v,_)}function f(v,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Sv(""+_,v.mode,w),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case fd:return w=sh(_.type,_.key,_.props,null,v.mode,w),w.ref=_u(v,null,_),w.return=v,w;case ls:return _=Av(_,v.mode,w),_.return=v,_;case Ji:var I=_._init;return f(v,I(_._payload),w)}if(Mu(_)||pu(_))return _=mo(_,v.mode,w,null),_.return=v,_;xd(v,_)}return null}function h(v,_,w,I){var T=_!==null?_.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return T!==null?null:s(v,_,""+w,I);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case fd:return w.key===T?l(v,_,w,I):null;case ls:return w.key===T?u(v,_,w,I):null;case Ji:return T=w._init,h(v,_,T(w._payload),I)}if(Mu(w)||pu(w))return T!==null?null:c(v,_,w,I,null);xd(v,w)}return null}function p(v,_,w,I,T){if(typeof I=="string"&&I!==""||typeof I=="number")return v=v.get(w)||null,s(_,v,""+I,T);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case fd:return v=v.get(I.key===null?w:I.key)||null,l(_,v,I,T);case ls:return v=v.get(I.key===null?w:I.key)||null,u(_,v,I,T);case Ji:var O=I._init;return p(v,_,w,O(I._payload),T)}if(Mu(I)||pu(I))return v=v.get(w)||null,c(_,v,I,T,null);xd(_,I)}return null}function y(v,_,w,I){for(var T=null,O=null,S=_,E=_=0,A=null;S!==null&&E<w.length;E++){S.index>E?(A=S,S=null):A=S.sibling;var C=h(v,S,w[E],I);if(C===null){S===null&&(S=A);break}t&&S&&C.alternate===null&&e(v,S),_=a(C,_,E),O===null?T=C:O.sibling=C,O=C,S=A}if(E===w.length)return r(v,S),rt&&Qa(v,E),T;if(S===null){for(;E<w.length;E++)S=f(v,w[E],I),S!==null&&(_=a(S,_,E),O===null?T=S:O.sibling=S,O=S);return rt&&Qa(v,E),T}for(S=n(v,S);E<w.length;E++)A=p(S,v,E,w[E],I),A!==null&&(t&&A.alternate!==null&&S.delete(A.key===null?E:A.key),_=a(A,_,E),O===null?T=A:O.sibling=A,O=A);return t&&S.forEach(function(k){return e(v,k)}),rt&&Qa(v,E),T}function m(v,_,w,I){var T=pu(w);if(typeof T!="function")throw Error(X(150));if(w=T.call(w),w==null)throw Error(X(151));for(var O=T=null,S=_,E=_=0,A=null,C=w.next();S!==null&&!C.done;E++,C=w.next()){S.index>E?(A=S,S=null):A=S.sibling;var k=h(v,S,C.value,I);if(k===null){S===null&&(S=A);break}t&&S&&k.alternate===null&&e(v,S),_=a(k,_,E),O===null?T=k:O.sibling=k,O=k,S=A}if(C.done)return r(v,S),rt&&Qa(v,E),T;if(S===null){for(;!C.done;E++,C=w.next())C=f(v,C.value,I),C!==null&&(_=a(C,_,E),O===null?T=C:O.sibling=C,O=C);return rt&&Qa(v,E),T}for(S=n(v,S);!C.done;E++,C=w.next())C=p(S,v,E,C.value,I),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?E:C.key),_=a(C,_,E),O===null?T=C:O.sibling=C,O=C);return t&&S.forEach(function(j){return e(v,j)}),rt&&Qa(v,E),T}function b(v,_,w,I){if(typeof w=="object"&&w!==null&&w.type===us&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case fd:e:{for(var T=w.key,O=_;O!==null;){if(O.key===T){if(T=w.type,T===us){if(O.tag===7){r(v,O.sibling),_=i(O,w.props.children),_.return=v,v=_;break e}}else if(O.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ji&&BE(T)===O.type){r(v,O.sibling),_=i(O,w.props),_.ref=_u(v,O,w),_.return=v,v=_;break e}r(v,O);break}else e(v,O);O=O.sibling}w.type===us?(_=mo(w.props.children,v.mode,I,w.key),_.return=v,v=_):(I=sh(w.type,w.key,w.props,null,v.mode,I),I.ref=_u(v,_,w),I.return=v,v=I)}return o(v);case ls:e:{for(O=w.key;_!==null;){if(_.key===O)if(_.tag===4&&_.stateNode.containerInfo===w.containerInfo&&_.stateNode.implementation===w.implementation){r(v,_.sibling),_=i(_,w.children||[]),_.return=v,v=_;break e}else{r(v,_);break}else e(v,_);_=_.sibling}_=Av(w,v.mode,I),_.return=v,v=_}return o(v);case Ji:return O=w._init,b(v,_,O(w._payload),I)}if(Mu(w))return y(v,_,w,I);if(pu(w))return m(v,_,w,I);xd(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,_!==null&&_.tag===6?(r(v,_.sibling),_=i(_,w),_.return=v,v=_):(r(v,_),_=Sv(w,v.mode,I),_.return=v,v=_),o(v)):r(v,_)}return b}var zs=rC(!0),nC=rC(!1),Nh=Ra(null),jh=null,vs=null,kb=null;function Cb(){kb=vs=jh=null}function Nb(t){var e=Nh.current;et(Nh),t._currentValue=e}function zy(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Is(t,e){jh=t,kb=vs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ar=!0),t.firstContext=null)}function sn(t){var e=t._currentValue;if(kb!==t)if(t={context:t,memoizedValue:e,next:null},vs===null){if(jh===null)throw Error(X(308));vs=t,jh.dependencies={lanes:0,firstContext:t}}else vs=vs.next=t;return e}var ao=null;function jb(t){ao===null?ao=[t]:ao.push(t)}function iC(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,jb(e)):(r.next=i.next,i.next=r),e.interleaved=r,Ai(t,n)}function Ai(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Zi=!1;function Rb(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function aC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _i(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ga(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Te&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Ai(t,r)}return i=n.interleaved,i===null?(e.next=e,jb(n)):(e.next=i.next,i.next=e),n.interleaved=e,Ai(t,r)}function th(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,_b(t,r)}}function UE(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Rh(t,e,r,n){var i=t.updateQueue;Zi=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==o&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;o=0,c=u=l=null,s=a;do{var h=s.lane,p=s.eventTime;if((n&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var y=t,m=s;switch(h=e,p=r,m.tag){case 1:if(y=m.payload,typeof y=="function"){f=y.call(p,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=m.payload,h=typeof y=="function"?y.call(p,f,h):y,h==null)break e;f=lt({},f,h);break e;case 2:Zi=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);So|=o,t.lanes=o,t.memoizedState=f}}function zE(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(X(191,i));i.call(n)}}}var Af={},Vn=Ra(Af),wc=Ra(Af),xc=Ra(Af);function oo(t){if(t===Af)throw Error(X(174));return t}function Mb(t,e){switch(Ge(xc,e),Ge(wc,t),Ge(Vn,Af),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ey(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ey(e,t)}et(Vn),Ge(Vn,e)}function Ws(){et(Vn),et(wc),et(xc)}function oC(t){oo(xc.current);var e=oo(Vn.current),r=Ey(e,t.type);e!==r&&(Ge(wc,t),Ge(Vn,r))}function $b(t){wc.current===t&&(et(Vn),et(wc))}var ot=Ra(0);function Mh(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var yv=[];function Db(){for(var t=0;t<yv.length;t++)yv[t]._workInProgressVersionPrimary=null;yv.length=0}var rh=Li.ReactCurrentDispatcher,_v=Li.ReactCurrentBatchConfig,Eo=0,st=null,St=null,Nt=null,$h=!1,Ku=!1,Ec=0,WF=0;function Zt(){throw Error(X(321))}function Lb(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Tn(t[r],e[r]))return!1;return!0}function Fb(t,e,r,n,i,a){if(Eo=a,st=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,rh.current=t===null||t.memoizedState===null?KF:YF,t=r(n,i),Ku){a=0;do{if(Ku=!1,Ec=0,25<=a)throw Error(X(301));a+=1,Nt=St=null,e.updateQueue=null,rh.current=QF,t=r(n,i)}while(Ku)}if(rh.current=Dh,e=St!==null&&St.next!==null,Eo=0,Nt=St=st=null,$h=!1,e)throw Error(X(300));return t}function Vb(){var t=Ec!==0;return Ec=0,t}function jn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?st.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function ln(){if(St===null){var t=st.alternate;t=t!==null?t.memoizedState:null}else t=St.next;var e=Nt===null?st.memoizedState:Nt.next;if(e!==null)Nt=e,St=t;else{if(t===null)throw Error(X(310));St=t,t={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},Nt===null?st.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function Sc(t,e){return typeof e=="function"?e(t):e}function bv(t){var e=ln(),r=e.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=t;var n=St,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var s=o=null,l=null,u=a;do{var c=u.lane;if((Eo&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,o=n):l=l.next=f,st.lanes|=c,So|=c}u=u.next}while(u!==null&&u!==a);l===null?o=n:l.next=s,Tn(n,e.memoizedState)||(Ar=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,st.lanes|=a,So|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function wv(t){var e=ln(),r=e.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);Tn(a,e.memoizedState)||(Ar=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function sC(){}function lC(t,e){var r=st,n=ln(),i=e(),a=!Tn(n.memoizedState,i);if(a&&(n.memoizedState=i,Ar=!0),n=n.queue,Bb(fC.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||Nt!==null&&Nt.memoizedState.tag&1){if(r.flags|=2048,Ac(9,cC.bind(null,r,n,i,e),void 0,null),Mt===null)throw Error(X(349));Eo&30||uC(r,e,i)}return i}function uC(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function cC(t,e,r,n){e.value=r,e.getSnapshot=n,dC(e)&&hC(t)}function fC(t,e,r){return r(function(){dC(e)&&hC(t)})}function dC(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Tn(t,r)}catch{return!0}}function hC(t){var e=Ai(t,1);e!==null&&En(e,t,1,-1)}function WE(t){var e=jn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sc,lastRenderedState:t},e.queue=t,t=t.dispatch=GF.bind(null,st,t),[e.memoizedState,t]}function Ac(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function pC(){return ln().memoizedState}function nh(t,e,r,n){var i=jn();st.flags|=t,i.memoizedState=Ac(1|e,r,void 0,n===void 0?null:n)}function gm(t,e,r,n){var i=ln();n=n===void 0?null:n;var a=void 0;if(St!==null){var o=St.memoizedState;if(a=o.destroy,n!==null&&Lb(n,o.deps)){i.memoizedState=Ac(e,r,a,n);return}}st.flags|=t,i.memoizedState=Ac(1|e,r,a,n)}function qE(t,e){return nh(8390656,8,t,e)}function Bb(t,e){return gm(2048,8,t,e)}function mC(t,e){return gm(4,2,t,e)}function gC(t,e){return gm(4,4,t,e)}function vC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function yC(t,e,r){return r=r!=null?r.concat([t]):null,gm(4,4,vC.bind(null,e,t),r)}function Ub(){}function _C(t,e){var r=ln();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Lb(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function bC(t,e){var r=ln();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Lb(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function wC(t,e,r){return Eo&21?(Tn(r,e)||(r=Tk(),st.lanes|=r,So|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ar=!0),t.memoizedState=r)}function qF(t,e){var r=$e;$e=r!==0&&4>r?r:4,t(!0);var n=_v.transition;_v.transition={};try{t(!1),e()}finally{$e=r,_v.transition=n}}function xC(){return ln().memoizedState}function HF(t,e,r){var n=ya(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},EC(t))SC(e,r);else if(r=iC(t,e,r,n),r!==null){var i=yr();En(r,t,n,i),AC(r,e,n)}}function GF(t,e,r){var n=ya(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(EC(t))SC(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,Tn(s,o)){var l=e.interleaved;l===null?(i.next=i,jb(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=iC(t,e,i,n),r!==null&&(i=yr(),En(r,t,n,i),AC(r,e,n))}}function EC(t){var e=t.alternate;return t===st||e!==null&&e===st}function SC(t,e){Ku=$h=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function AC(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,_b(t,r)}}var Dh={readContext:sn,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},KF={readContext:sn,useCallback:function(t,e){return jn().memoizedState=[t,e===void 0?null:e],t},useContext:sn,useEffect:qE,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,nh(4194308,4,vC.bind(null,e,t),r)},useLayoutEffect:function(t,e){return nh(4194308,4,t,e)},useInsertionEffect:function(t,e){return nh(4,2,t,e)},useMemo:function(t,e){var r=jn();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=jn();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=HF.bind(null,st,t),[n.memoizedState,t]},useRef:function(t){var e=jn();return t={current:t},e.memoizedState=t},useState:WE,useDebugValue:Ub,useDeferredValue:function(t){return jn().memoizedState=t},useTransition:function(){var t=WE(!1),e=t[0];return t=qF.bind(null,t[1]),jn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=st,i=jn();if(rt){if(r===void 0)throw Error(X(407));r=r()}else{if(r=e(),Mt===null)throw Error(X(349));Eo&30||uC(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,qE(fC.bind(null,n,a,t),[t]),n.flags|=2048,Ac(9,cC.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=jn(),e=Mt.identifierPrefix;if(rt){var r=fi,n=ci;r=(n&~(1<<32-xn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Ec++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=WF++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},YF={readContext:sn,useCallback:_C,useContext:sn,useEffect:Bb,useImperativeHandle:yC,useInsertionEffect:mC,useLayoutEffect:gC,useMemo:bC,useReducer:bv,useRef:pC,useState:function(){return bv(Sc)},useDebugValue:Ub,useDeferredValue:function(t){var e=ln();return wC(e,St.memoizedState,t)},useTransition:function(){var t=bv(Sc)[0],e=ln().memoizedState;return[t,e]},useMutableSource:sC,useSyncExternalStore:lC,useId:xC,unstable_isNewReconciler:!1},QF={readContext:sn,useCallback:_C,useContext:sn,useEffect:Bb,useImperativeHandle:yC,useInsertionEffect:mC,useLayoutEffect:gC,useMemo:bC,useReducer:wv,useRef:pC,useState:function(){return wv(Sc)},useDebugValue:Ub,useDeferredValue:function(t){var e=ln();return St===null?e.memoizedState=t:wC(e,St.memoizedState,t)},useTransition:function(){var t=wv(Sc)[0],e=ln().memoizedState;return[t,e]},useMutableSource:sC,useSyncExternalStore:lC,useId:xC,unstable_isNewReconciler:!1};function mn(t,e){if(t&&t.defaultProps){e=lt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Wy(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:lt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var vm={isMounted:function(t){return(t=t._reactInternals)?Lo(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=yr(),i=ya(t),a=_i(n,i);a.payload=e,r!=null&&(a.callback=r),e=ga(t,a,i),e!==null&&(En(e,t,i,n),th(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=yr(),i=ya(t),a=_i(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=ga(t,a,i),e!==null&&(En(e,t,i,n),th(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=yr(),n=ya(t),i=_i(r,n);i.tag=2,e!=null&&(i.callback=e),e=ga(t,i,n),e!==null&&(En(e,t,n,r),th(e,t,n))}};function HE(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!vc(r,n)||!vc(i,a):!0}function TC(t,e,r){var n=!1,i=Oa,a=e.contextType;return typeof a=="object"&&a!==null?a=sn(a):(i=Or(e)?wo:lr.current,n=e.contextTypes,a=(n=n!=null)?Bs(t,i):Oa),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=vm,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function GE(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&vm.enqueueReplaceState(e,e.state,null)}function qy(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},Rb(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=sn(a):(a=Or(e)?wo:lr.current,i.context=Bs(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Wy(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&vm.enqueueReplaceState(i,i.state,null),Rh(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function qs(t,e){try{var r="",n=e;do r+=SL(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function xv(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Hy(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var XF=typeof WeakMap=="function"?WeakMap:Map;function PC(t,e,r){r=_i(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Fh||(Fh=!0,r0=n),Hy(t,e)},r}function OC(t,e,r){r=_i(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Hy(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Hy(t,e),typeof n!="function"&&(va===null?va=new Set([this]):va.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function KE(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new XF;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=f4.bind(null,t,e,r),e.then(t,t))}function YE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function QE(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=_i(-1,1),e.tag=2,ga(r,e,1))),r.lanes|=1),t)}var JF=Li.ReactCurrentOwner,Ar=!1;function dr(t,e,r,n){e.child=t===null?nC(e,null,r,n):zs(e,t.child,r,n)}function XE(t,e,r,n,i){r=r.render;var a=e.ref;return Is(e,i),n=Fb(t,e,r,n,a,i),r=Vb(),t!==null&&!Ar?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ti(t,e,i)):(rt&&r&&Pb(e),e.flags|=1,dr(t,e,n,i),e.child)}function JE(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!Qb(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,IC(t,e,a,n,i)):(t=sh(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:vc,r(o,n)&&t.ref===e.ref)return Ti(t,e,i)}return e.flags|=1,t=_a(a,n),t.ref=e.ref,t.return=e,e.child=t}function IC(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(vc(a,n)&&t.ref===e.ref)if(Ar=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(Ar=!0);else return e.lanes=t.lanes,Ti(t,e,i)}return Gy(t,e,r,n,i)}function kC(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(_s,$r),$r|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ge(_s,$r),$r|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Ge(_s,$r),$r|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,Ge(_s,$r),$r|=n;return dr(t,e,i,r),e.child}function CC(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Gy(t,e,r,n,i){var a=Or(r)?wo:lr.current;return a=Bs(e,a),Is(e,i),r=Fb(t,e,r,n,a,i),n=Vb(),t!==null&&!Ar?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ti(t,e,i)):(rt&&n&&Pb(e),e.flags|=1,dr(t,e,r,i),e.child)}function ZE(t,e,r,n,i){if(Or(r)){var a=!0;Ih(e)}else a=!1;if(Is(e,i),e.stateNode===null)ih(t,e),TC(e,r,n),qy(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=sn(u):(u=Or(r)?wo:lr.current,u=Bs(e,u));var c=r.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||l!==u)&&GE(e,o,n,u),Zi=!1;var h=e.memoizedState;o.state=h,Rh(e,n,o,i),l=e.memoizedState,s!==n||h!==l||Pr.current||Zi?(typeof c=="function"&&(Wy(e,r,c,n),l=e.memoizedState),(s=Zi||HE(e,r,s,n,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,aC(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:mn(e.type,s),o.props=u,f=e.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=sn(l):(l=Or(r)?wo:lr.current,l=Bs(e,l));var p=r.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==l)&&GE(e,o,n,l),Zi=!1,h=e.memoizedState,o.state=h,Rh(e,n,o,i);var y=e.memoizedState;s!==f||h!==y||Pr.current||Zi?(typeof p=="function"&&(Wy(e,r,p,n),y=e.memoizedState),(u=Zi||HE(e,r,u,n,h,y,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=y),o.props=n,o.state=y,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return Ky(t,e,r,n,a,i)}function Ky(t,e,r,n,i,a){CC(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&LE(e,r,!1),Ti(t,e,a);n=e.stateNode,JF.current=e;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=zs(e,t.child,null,a),e.child=zs(e,null,s,a)):dr(t,e,s,a),e.memoizedState=n.state,i&&LE(e,r,!0),e.child}function NC(t){var e=t.stateNode;e.pendingContext?DE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&DE(t,e.context,!1),Mb(t,e.containerInfo)}function eS(t,e,r,n,i){return Us(),Ib(i),e.flags|=256,dr(t,e,r,n),e.child}var Yy={dehydrated:null,treeContext:null,retryLane:0};function Qy(t){return{baseLanes:t,cachePool:null,transitions:null}}function jC(t,e,r){var n=e.pendingProps,i=ot.current,a=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ge(ot,i&1),t===null)return Uy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=bm(o,n,0,null),t=mo(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Qy(r),e.memoizedState=Yy,t):zb(e,o));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return ZF(t,e,o,n,s,i,r);if(a){a=n.fallback,o=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=_a(i,l),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=_a(s,a):(a=mo(a,o,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?Qy(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=Yy,n}return a=t.child,t=a.sibling,n=_a(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function zb(t,e){return e=bm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ed(t,e,r,n){return n!==null&&Ib(n),zs(e,t.child,null,r),t=zb(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ZF(t,e,r,n,i,a,o){if(r)return e.flags&256?(e.flags&=-257,n=xv(Error(X(422))),Ed(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=bm({mode:"visible",children:n.children},i,0,null),a=mo(a,i,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&zs(e,t.child,null,o),e.child.memoizedState=Qy(o),e.memoizedState=Yy,a);if(!(e.mode&1))return Ed(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,a=Error(X(419)),n=xv(a,n,void 0),Ed(t,e,o,n)}if(s=(o&t.childLanes)!==0,Ar||s){if(n=Mt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Ai(t,i),En(n,t,i,-1))}return Yb(),n=xv(Error(X(421))),Ed(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=d4.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Vr=ma(i.nextSibling),Br=e,rt=!0,_n=null,t!==null&&(Jr[Zr++]=ci,Jr[Zr++]=fi,Jr[Zr++]=xo,ci=t.id,fi=t.overflow,xo=e),e=zb(e,n.children),e.flags|=4096,e)}function tS(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),zy(t.return,e,r)}function Ev(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function RC(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(dr(t,e,n.children,r),n=ot.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&tS(t,r,e);else if(t.tag===19)tS(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ge(ot,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Mh(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Ev(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Mh(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Ev(e,!0,r,null,a);break;case"together":Ev(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ih(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ti(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),So|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(X(153));if(e.child!==null){for(t=e.child,r=_a(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=_a(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function e4(t,e,r){switch(e.tag){case 3:NC(e),Us();break;case 5:oC(e);break;case 1:Or(e.type)&&Ih(e);break;case 4:Mb(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Ge(Nh,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Ge(ot,ot.current&1),e.flags|=128,null):r&e.child.childLanes?jC(t,e,r):(Ge(ot,ot.current&1),t=Ti(t,e,r),t!==null?t.sibling:null);Ge(ot,ot.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return RC(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ge(ot,ot.current),n)break;return null;case 22:case 23:return e.lanes=0,kC(t,e,r)}return Ti(t,e,r)}var MC,Xy,$C,DC;MC=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Xy=function(){};$C=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,oo(Vn.current);var a=null;switch(r){case"input":i=_y(t,i),n=_y(t,n),a=[];break;case"select":i=lt({},i,{value:void 0}),n=lt({},n,{value:void 0}),a=[];break;case"textarea":i=xy(t,i),n=xy(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Ph)}Sy(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(cc.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(s=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(cc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Qe("scroll",t),a||s===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};DC=function(t,e,r,n){r!==n&&(e.flags|=4)};function bu(t,e){if(!rt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function er(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function t4(t,e,r){var n=e.pendingProps;switch(Ob(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return er(e),null;case 1:return Or(e.type)&&Oh(),er(e),null;case 3:return n=e.stateNode,Ws(),et(Pr),et(lr),Db(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(wd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,_n!==null&&(a0(_n),_n=null))),Xy(t,e),er(e),null;case 5:$b(e);var i=oo(xc.current);if(r=e.type,t!==null&&e.stateNode!=null)$C(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(X(166));return er(e),null}if(t=oo(Vn.current),wd(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[Rn]=e,n[bc]=a,t=(e.mode&1)!==0,r){case"dialog":Qe("cancel",n),Qe("close",n);break;case"iframe":case"object":case"embed":Qe("load",n);break;case"video":case"audio":for(i=0;i<Du.length;i++)Qe(Du[i],n);break;case"source":Qe("error",n);break;case"img":case"image":case"link":Qe("error",n),Qe("load",n);break;case"details":Qe("toggle",n);break;case"input":cE(n,a),Qe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Qe("invalid",n);break;case"textarea":dE(n,a),Qe("invalid",n)}Sy(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?n.textContent!==s&&(a.suppressHydrationWarning!==!0&&bd(n.textContent,s,t),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&bd(n.textContent,s,t),i=["children",""+s]):cc.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&Qe("scroll",n)}switch(r){case"input":dd(n),fE(n,a,!0);break;case"textarea":dd(n),hE(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Ph)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=fk(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Rn]=e,t[bc]=n,MC(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ay(r,n),r){case"dialog":Qe("cancel",t),Qe("close",t),i=n;break;case"iframe":case"object":case"embed":Qe("load",t),i=n;break;case"video":case"audio":for(i=0;i<Du.length;i++)Qe(Du[i],t);i=n;break;case"source":Qe("error",t),i=n;break;case"img":case"image":case"link":Qe("error",t),Qe("load",t),i=n;break;case"details":Qe("toggle",t),i=n;break;case"input":cE(t,n),i=_y(t,n),Qe("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=lt({},n,{value:void 0}),Qe("invalid",t);break;case"textarea":dE(t,n),i=xy(t,n),Qe("invalid",t);break;default:i=n}Sy(r,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?pk(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&dk(t,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&fc(t,l):typeof l=="number"&&fc(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(cc.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Qe("scroll",t):l!=null&&hb(t,a,l,o))}switch(r){case"input":dd(t),fE(t,n,!1);break;case"textarea":dd(t),hE(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Pa(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?As(t,!!n.multiple,a,!1):n.defaultValue!=null&&As(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ph)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return er(e),null;case 6:if(t&&e.stateNode!=null)DC(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(X(166));if(r=oo(xc.current),oo(Vn.current),wd(e)){if(n=e.stateNode,r=e.memoizedProps,n[Rn]=e,(a=n.nodeValue!==r)&&(t=Br,t!==null))switch(t.tag){case 3:bd(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&bd(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Rn]=e,e.stateNode=n}return er(e),null;case 13:if(et(ot),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(rt&&Vr!==null&&e.mode&1&&!(e.flags&128))tC(),Us(),e.flags|=98560,a=!1;else if(a=wd(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(X(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(X(317));a[Rn]=e}else Us(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;er(e),a=!1}else _n!==null&&(a0(_n),_n=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ot.current&1?Tt===0&&(Tt=3):Yb())),e.updateQueue!==null&&(e.flags|=4),er(e),null);case 4:return Ws(),Xy(t,e),t===null&&yc(e.stateNode.containerInfo),er(e),null;case 10:return Nb(e.type._context),er(e),null;case 17:return Or(e.type)&&Oh(),er(e),null;case 19:if(et(ot),a=e.memoizedState,a===null)return er(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)bu(a,!1);else{if(Tt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Mh(t),o!==null){for(e.flags|=128,bu(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ge(ot,ot.current&1|2),e.child}t=t.sibling}a.tail!==null&&mt()>Hs&&(e.flags|=128,n=!0,bu(a,!1),e.lanes=4194304)}else{if(!n)if(t=Mh(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),bu(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!rt)return er(e),null}else 2*mt()-a.renderingStartTime>Hs&&r!==1073741824&&(e.flags|=128,n=!0,bu(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=mt(),e.sibling=null,r=ot.current,Ge(ot,n?r&1|2:r&1),e):(er(e),null);case 22:case 23:return Kb(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?$r&1073741824&&(er(e),e.subtreeFlags&6&&(e.flags|=8192)):er(e),null;case 24:return null;case 25:return null}throw Error(X(156,e.tag))}function r4(t,e){switch(Ob(e),e.tag){case 1:return Or(e.type)&&Oh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ws(),et(Pr),et(lr),Db(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $b(e),null;case 13:if(et(ot),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(X(340));Us()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return et(ot),null;case 4:return Ws(),null;case 10:return Nb(e.type._context),null;case 22:case 23:return Kb(),null;case 24:return null;default:return null}}var Sd=!1,ar=!1,n4=typeof WeakSet=="function"?WeakSet:Set,ne=null;function ys(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){dt(t,e,n)}else r.current=null}function Jy(t,e,r){try{r()}catch(n){dt(t,e,n)}}var rS=!1;function i4(t,e){if(My=Sh,t=Uk(),Tb(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,s=-1,l=-1,u=0,c=0,f=t,h=null;t:for(;;){for(var p;f!==r||i!==0&&f.nodeType!==3||(s=o+i),f!==a||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===r&&++u===i&&(s=o),h===a&&++c===n&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for($y={focusedElem:t,selectionRange:r},Sh=!1,ne=e;ne!==null;)if(e=ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ne=t;else for(;ne!==null;){e=ne;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var m=y.memoizedProps,b=y.memoizedState,v=e.stateNode,_=v.getSnapshotBeforeUpdate(e.elementType===e.type?m:mn(e.type,m),b);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(I){dt(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}return y=rS,rS=!1,y}function Yu(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&Jy(e,r,a)}i=i.next}while(i!==n)}}function ym(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Zy(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function LC(t){var e=t.alternate;e!==null&&(t.alternate=null,LC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Rn],delete e[bc],delete e[Fy],delete e[VF],delete e[BF])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function FC(t){return t.tag===5||t.tag===3||t.tag===4}function nS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||FC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function e0(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Ph));else if(n!==4&&(t=t.child,t!==null))for(e0(t,e,r),t=t.sibling;t!==null;)e0(t,e,r),t=t.sibling}function t0(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(t0(t,e,r),t=t.sibling;t!==null;)t0(t,e,r),t=t.sibling}var Vt=null,gn=!1;function Gi(t,e,r){for(r=r.child;r!==null;)VC(t,e,r),r=r.sibling}function VC(t,e,r){if(Fn&&typeof Fn.onCommitFiberUnmount=="function")try{Fn.onCommitFiberUnmount(cm,r)}catch{}switch(r.tag){case 5:ar||ys(r,e);case 6:var n=Vt,i=gn;Vt=null,Gi(t,e,r),Vt=n,gn=i,Vt!==null&&(gn?(t=Vt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Vt.removeChild(r.stateNode));break;case 18:Vt!==null&&(gn?(t=Vt,r=r.stateNode,t.nodeType===8?gv(t.parentNode,r):t.nodeType===1&&gv(t,r),mc(t)):gv(Vt,r.stateNode));break;case 4:n=Vt,i=gn,Vt=r.stateNode.containerInfo,gn=!0,Gi(t,e,r),Vt=n,gn=i;break;case 0:case 11:case 14:case 15:if(!ar&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Jy(r,e,o),i=i.next}while(i!==n)}Gi(t,e,r);break;case 1:if(!ar&&(ys(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){dt(r,e,s)}Gi(t,e,r);break;case 21:Gi(t,e,r);break;case 22:r.mode&1?(ar=(n=ar)||r.memoizedState!==null,Gi(t,e,r),ar=n):Gi(t,e,r);break;default:Gi(t,e,r)}}function iS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new n4),e.forEach(function(n){var i=h4.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function hn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:Vt=s.stateNode,gn=!1;break e;case 3:Vt=s.stateNode.containerInfo,gn=!0;break e;case 4:Vt=s.stateNode.containerInfo,gn=!0;break e}s=s.return}if(Vt===null)throw Error(X(160));VC(a,o,i),Vt=null,gn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){dt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)BC(e,t),e=e.sibling}function BC(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(hn(e,t),Nn(t),n&4){try{Yu(3,t,t.return),ym(3,t)}catch(m){dt(t,t.return,m)}try{Yu(5,t,t.return)}catch(m){dt(t,t.return,m)}}break;case 1:hn(e,t),Nn(t),n&512&&r!==null&&ys(r,r.return);break;case 5:if(hn(e,t),Nn(t),n&512&&r!==null&&ys(r,r.return),t.flags&32){var i=t.stateNode;try{fc(i,"")}catch(m){dt(t,t.return,m)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&uk(i,a),Ay(s,o);var u=Ay(s,a);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?pk(i,f):c==="dangerouslySetInnerHTML"?dk(i,f):c==="children"?fc(i,f):hb(i,c,f,u)}switch(s){case"input":by(i,a);break;case"textarea":ck(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?As(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?As(i,!!a.multiple,a.defaultValue,!0):As(i,!!a.multiple,a.multiple?[]:"",!1))}i[bc]=a}catch(m){dt(t,t.return,m)}}break;case 6:if(hn(e,t),Nn(t),n&4){if(t.stateNode===null)throw Error(X(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(m){dt(t,t.return,m)}}break;case 3:if(hn(e,t),Nn(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{mc(e.containerInfo)}catch(m){dt(t,t.return,m)}break;case 4:hn(e,t),Nn(t);break;case 13:hn(e,t),Nn(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Hb=mt())),n&4&&iS(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(ar=(u=ar)||c,hn(e,t),ar=u):hn(e,t),Nn(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(ne=t,c=t.child;c!==null;){for(f=ne=c;ne!==null;){switch(h=ne,p=h.child,h.tag){case 0:case 11:case 14:case 15:Yu(4,h,h.return);break;case 1:ys(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(m){dt(n,r,m)}}break;case 5:ys(h,h.return);break;case 22:if(h.memoizedState!==null){oS(f);continue}}p!==null?(p.return=h,ne=p):oS(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=hk("display",o))}catch(m){dt(t,t.return,m)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){dt(t,t.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:hn(e,t),Nn(t),n&4&&iS(t);break;case 21:break;default:hn(e,t),Nn(t)}}function Nn(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(FC(r)){var n=r;break e}r=r.return}throw Error(X(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(fc(i,""),n.flags&=-33);var a=nS(t);t0(t,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,s=nS(t);e0(t,s,o);break;default:throw Error(X(161))}}catch(l){dt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function a4(t,e,r){ne=t,UC(t)}function UC(t,e,r){for(var n=(t.mode&1)!==0;ne!==null;){var i=ne,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Sd;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||ar;s=Sd;var u=ar;if(Sd=o,(ar=l)&&!u)for(ne=i;ne!==null;)o=ne,l=o.child,o.tag===22&&o.memoizedState!==null?sS(i):l!==null?(l.return=o,ne=l):sS(i);for(;a!==null;)ne=a,UC(a),a=a.sibling;ne=i,Sd=s,ar=u}aS(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,ne=a):aS(t)}}function aS(t){for(;ne!==null;){var e=ne;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ar||ym(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ar)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:mn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&zE(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}zE(e,o,r)}break;case 5:var s=e.stateNode;if(r===null&&e.flags&4){r=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&mc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}ar||e.flags&512&&Zy(e)}catch(h){dt(e,e.return,h)}}if(e===t){ne=null;break}if(r=e.sibling,r!==null){r.return=e.return,ne=r;break}ne=e.return}}function oS(t){for(;ne!==null;){var e=ne;if(e===t){ne=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ne=r;break}ne=e.return}}function sS(t){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{ym(4,e)}catch(l){dt(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){dt(e,i,l)}}var a=e.return;try{Zy(e)}catch(l){dt(e,a,l)}break;case 5:var o=e.return;try{Zy(e)}catch(l){dt(e,o,l)}}}catch(l){dt(e,e.return,l)}if(e===t){ne=null;break}var s=e.sibling;if(s!==null){s.return=e.return,ne=s;break}ne=e.return}}var o4=Math.ceil,Lh=Li.ReactCurrentDispatcher,Wb=Li.ReactCurrentOwner,an=Li.ReactCurrentBatchConfig,Te=0,Mt=null,yt=null,Wt=0,$r=0,_s=Ra(0),Tt=0,Tc=null,So=0,_m=0,qb=0,Qu=null,Sr=null,Hb=0,Hs=1/0,oi=null,Fh=!1,r0=null,va=null,Ad=!1,ua=null,Vh=0,Xu=0,n0=null,ah=-1,oh=0;function yr(){return Te&6?mt():ah!==-1?ah:ah=mt()}function ya(t){return t.mode&1?Te&2&&Wt!==0?Wt&-Wt:zF.transition!==null?(oh===0&&(oh=Tk()),oh):(t=$e,t!==0||(t=window.event,t=t===void 0?16:jk(t.type)),t):1}function En(t,e,r,n){if(50<Xu)throw Xu=0,n0=null,Error(X(185));xf(t,r,n),(!(Te&2)||t!==Mt)&&(t===Mt&&(!(Te&2)&&(_m|=r),Tt===4&&ra(t,Wt)),Ir(t,n),r===1&&Te===0&&!(e.mode&1)&&(Hs=mt()+500,mm&&Ma()))}function Ir(t,e){var r=t.callbackNode;zL(t,e);var n=Eh(t,t===Mt?Wt:0);if(n===0)r!==null&&gE(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&gE(r),e===1)t.tag===0?UF(lS.bind(null,t)):Jk(lS.bind(null,t)),LF(function(){!(Te&6)&&Ma()}),r=null;else{switch(Pk(n)){case 1:r=yb;break;case 4:r=Sk;break;case 16:r=xh;break;case 536870912:r=Ak;break;default:r=xh}r=QC(r,zC.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function zC(t,e){if(ah=-1,oh=0,Te&6)throw Error(X(327));var r=t.callbackNode;if(ks()&&t.callbackNode!==r)return null;var n=Eh(t,t===Mt?Wt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Bh(t,n);else{e=n;var i=Te;Te|=2;var a=qC();(Mt!==t||Wt!==e)&&(oi=null,Hs=mt()+500,po(t,e));do try{u4();break}catch(s){WC(t,s)}while(!0);Cb(),Lh.current=a,Te=i,yt!==null?e=0:(Mt=null,Wt=0,e=Tt)}if(e!==0){if(e===2&&(i=ky(t),i!==0&&(n=i,e=i0(t,i))),e===1)throw r=Tc,po(t,0),ra(t,n),Ir(t,mt()),r;if(e===6)ra(t,n);else{if(i=t.current.alternate,!(n&30)&&!s4(i)&&(e=Bh(t,n),e===2&&(a=ky(t),a!==0&&(n=a,e=i0(t,a))),e===1))throw r=Tc,po(t,0),ra(t,n),Ir(t,mt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(X(345));case 2:Xa(t,Sr,oi);break;case 3:if(ra(t,n),(n&130023424)===n&&(e=Hb+500-mt(),10<e)){if(Eh(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){yr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ly(Xa.bind(null,t,Sr,oi),e);break}Xa(t,Sr,oi);break;case 4:if(ra(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-xn(n);a=1<<o,o=e[o],o>i&&(i=o),n&=~a}if(n=i,n=mt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*o4(n/1960))-n,10<n){t.timeoutHandle=Ly(Xa.bind(null,t,Sr,oi),n);break}Xa(t,Sr,oi);break;case 5:Xa(t,Sr,oi);break;default:throw Error(X(329))}}}return Ir(t,mt()),t.callbackNode===r?zC.bind(null,t):null}function i0(t,e){var r=Qu;return t.current.memoizedState.isDehydrated&&(po(t,e).flags|=256),t=Bh(t,e),t!==2&&(e=Sr,Sr=r,e!==null&&a0(e)),t}function a0(t){Sr===null?Sr=t:Sr.push.apply(Sr,t)}function s4(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Tn(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ra(t,e){for(e&=~qb,e&=~_m,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-xn(e),n=1<<r;t[r]=-1,e&=~n}}function lS(t){if(Te&6)throw Error(X(327));ks();var e=Eh(t,0);if(!(e&1))return Ir(t,mt()),null;var r=Bh(t,e);if(t.tag!==0&&r===2){var n=ky(t);n!==0&&(e=n,r=i0(t,n))}if(r===1)throw r=Tc,po(t,0),ra(t,e),Ir(t,mt()),r;if(r===6)throw Error(X(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Xa(t,Sr,oi),Ir(t,mt()),null}function Gb(t,e){var r=Te;Te|=1;try{return t(e)}finally{Te=r,Te===0&&(Hs=mt()+500,mm&&Ma())}}function Ao(t){ua!==null&&ua.tag===0&&!(Te&6)&&ks();var e=Te;Te|=1;var r=an.transition,n=$e;try{if(an.transition=null,$e=1,t)return t()}finally{$e=n,an.transition=r,Te=e,!(Te&6)&&Ma()}}function Kb(){$r=_s.current,et(_s)}function po(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,DF(r)),yt!==null)for(r=yt.return;r!==null;){var n=r;switch(Ob(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Oh();break;case 3:Ws(),et(Pr),et(lr),Db();break;case 5:$b(n);break;case 4:Ws();break;case 13:et(ot);break;case 19:et(ot);break;case 10:Nb(n.type._context);break;case 22:case 23:Kb()}r=r.return}if(Mt=t,yt=t=_a(t.current,null),Wt=$r=e,Tt=0,Tc=null,qb=_m=So=0,Sr=Qu=null,ao!==null){for(e=0;e<ao.length;e++)if(r=ao[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}ao=null}return t}function WC(t,e){do{var r=yt;try{if(Cb(),rh.current=Dh,$h){for(var n=st.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}$h=!1}if(Eo=0,Nt=St=st=null,Ku=!1,Ec=0,Wb.current=null,r===null||r.return===null){Tt=1,Tc=e,yt=null;break}e:{var a=t,o=r.return,s=r,l=e;if(e=Wt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=YE(o);if(p!==null){p.flags&=-257,QE(p,o,s,a,e),p.mode&1&&KE(a,u,e),e=p,l=u;var y=e.updateQueue;if(y===null){var m=new Set;m.add(l),e.updateQueue=m}else y.add(l);break e}else{if(!(e&1)){KE(a,u,e),Yb();break e}l=Error(X(426))}}else if(rt&&s.mode&1){var b=YE(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),QE(b,o,s,a,e),Ib(qs(l,s));break e}}a=l=qs(l,s),Tt!==4&&(Tt=2),Qu===null?Qu=[a]:Qu.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var v=PC(a,l,e);UE(a,v);break e;case 1:s=l;var _=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof _.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(va===null||!va.has(w)))){a.flags|=65536,e&=-e,a.lanes|=e;var I=OC(a,s,e);UE(a,I);break e}}a=a.return}while(a!==null)}GC(r)}catch(T){e=T,yt===r&&r!==null&&(yt=r=r.return);continue}break}while(!0)}function qC(){var t=Lh.current;return Lh.current=Dh,t===null?Dh:t}function Yb(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),Mt===null||!(So&268435455)&&!(_m&268435455)||ra(Mt,Wt)}function Bh(t,e){var r=Te;Te|=2;var n=qC();(Mt!==t||Wt!==e)&&(oi=null,po(t,e));do try{l4();break}catch(i){WC(t,i)}while(!0);if(Cb(),Te=r,Lh.current=n,yt!==null)throw Error(X(261));return Mt=null,Wt=0,Tt}function l4(){for(;yt!==null;)HC(yt)}function u4(){for(;yt!==null&&!RL();)HC(yt)}function HC(t){var e=YC(t.alternate,t,$r);t.memoizedProps=t.pendingProps,e===null?GC(t):yt=e,Wb.current=null}function GC(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=r4(r,e),r!==null){r.flags&=32767,yt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Tt=6,yt=null;return}}else if(r=t4(r,e,$r),r!==null){yt=r;return}if(e=e.sibling,e!==null){yt=e;return}yt=e=t}while(e!==null);Tt===0&&(Tt=5)}function Xa(t,e,r){var n=$e,i=an.transition;try{an.transition=null,$e=1,c4(t,e,r,n)}finally{an.transition=i,$e=n}return null}function c4(t,e,r,n){do ks();while(ua!==null);if(Te&6)throw Error(X(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(X(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(WL(t,a),t===Mt&&(yt=Mt=null,Wt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ad||(Ad=!0,QC(xh,function(){return ks(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=an.transition,an.transition=null;var o=$e;$e=1;var s=Te;Te|=4,Wb.current=null,i4(t,r),BC(r,t),kF($y),Sh=!!My,$y=My=null,t.current=r,a4(r),ML(),Te=s,$e=o,an.transition=a}else t.current=r;if(Ad&&(Ad=!1,ua=t,Vh=i),a=t.pendingLanes,a===0&&(va=null),LL(r.stateNode),Ir(t,mt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Fh)throw Fh=!1,t=r0,r0=null,t;return Vh&1&&t.tag!==0&&ks(),a=t.pendingLanes,a&1?t===n0?Xu++:(Xu=0,n0=t):Xu=0,Ma(),null}function ks(){if(ua!==null){var t=Pk(Vh),e=an.transition,r=$e;try{if(an.transition=null,$e=16>t?16:t,ua===null)var n=!1;else{if(t=ua,ua=null,Vh=0,Te&6)throw Error(X(331));var i=Te;for(Te|=4,ne=t.current;ne!==null;){var a=ne,o=a.child;if(ne.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(ne=u;ne!==null;){var c=ne;switch(c.tag){case 0:case 11:case 15:Yu(8,c,a)}var f=c.child;if(f!==null)f.return=c,ne=f;else for(;ne!==null;){c=ne;var h=c.sibling,p=c.return;if(LC(c),c===u){ne=null;break}if(h!==null){h.return=p,ne=h;break}ne=p}}}var y=a.alternate;if(y!==null){var m=y.child;if(m!==null){y.child=null;do{var b=m.sibling;m.sibling=null,m=b}while(m!==null)}}ne=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,ne=o;else e:for(;ne!==null;){if(a=ne,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Yu(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,ne=v;break e}ne=a.return}}var _=t.current;for(ne=_;ne!==null;){o=ne;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,ne=w;else e:for(o=_;ne!==null;){if(s=ne,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:ym(9,s)}}catch(T){dt(s,s.return,T)}if(s===o){ne=null;break e}var I=s.sibling;if(I!==null){I.return=s.return,ne=I;break e}ne=s.return}}if(Te=i,Ma(),Fn&&typeof Fn.onPostCommitFiberRoot=="function")try{Fn.onPostCommitFiberRoot(cm,t)}catch{}n=!0}return n}finally{$e=r,an.transition=e}}return!1}function uS(t,e,r){e=qs(r,e),e=PC(t,e,1),t=ga(t,e,1),e=yr(),t!==null&&(xf(t,1,e),Ir(t,e))}function dt(t,e,r){if(t.tag===3)uS(t,t,r);else for(;e!==null;){if(e.tag===3){uS(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(va===null||!va.has(n))){t=qs(r,t),t=OC(e,t,1),e=ga(e,t,1),t=yr(),e!==null&&(xf(e,1,t),Ir(e,t));break}}e=e.return}}function f4(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=yr(),t.pingedLanes|=t.suspendedLanes&r,Mt===t&&(Wt&r)===r&&(Tt===4||Tt===3&&(Wt&130023424)===Wt&&500>mt()-Hb?po(t,0):qb|=r),Ir(t,e)}function KC(t,e){e===0&&(t.mode&1?(e=md,md<<=1,!(md&130023424)&&(md=4194304)):e=1);var r=yr();t=Ai(t,e),t!==null&&(xf(t,e,r),Ir(t,r))}function d4(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),KC(t,r)}function h4(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(X(314))}n!==null&&n.delete(e),KC(t,r)}var YC;YC=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pr.current)Ar=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Ar=!1,e4(t,e,r);Ar=!!(t.flags&131072)}else Ar=!1,rt&&e.flags&1048576&&Zk(e,Ch,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;ih(t,e),t=e.pendingProps;var i=Bs(e,lr.current);Is(e,r),i=Fb(null,e,n,t,i,r);var a=Vb();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Or(n)?(a=!0,Ih(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Rb(e),i.updater=vm,e.stateNode=i,i._reactInternals=e,qy(e,n,t,r),e=Ky(null,e,n,!0,a,r)):(e.tag=0,rt&&a&&Pb(e),dr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(ih(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=m4(n),t=mn(n,t),i){case 0:e=Gy(null,e,n,t,r);break e;case 1:e=ZE(null,e,n,t,r);break e;case 11:e=XE(null,e,n,t,r);break e;case 14:e=JE(null,e,n,mn(n.type,t),r);break e}throw Error(X(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:mn(n,i),Gy(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:mn(n,i),ZE(t,e,n,i,r);case 3:e:{if(NC(e),t===null)throw Error(X(387));n=e.pendingProps,a=e.memoizedState,i=a.element,aC(t,e),Rh(e,n,null,r);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=qs(Error(X(423)),e),e=eS(t,e,n,r,i);break e}else if(n!==i){i=qs(Error(X(424)),e),e=eS(t,e,n,r,i);break e}else for(Vr=ma(e.stateNode.containerInfo.firstChild),Br=e,rt=!0,_n=null,r=nC(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Us(),n===i){e=Ti(t,e,r);break e}dr(t,e,n,r)}e=e.child}return e;case 5:return oC(e),t===null&&Uy(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,Dy(n,i)?o=null:a!==null&&Dy(n,a)&&(e.flags|=32),CC(t,e),dr(t,e,o,r),e.child;case 6:return t===null&&Uy(e),null;case 13:return jC(t,e,r);case 4:return Mb(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=zs(e,null,n,r):dr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:mn(n,i),XE(t,e,n,i,r);case 7:return dr(t,e,e.pendingProps,r),e.child;case 8:return dr(t,e,e.pendingProps.children,r),e.child;case 12:return dr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,Ge(Nh,n._currentValue),n._currentValue=o,a!==null)if(Tn(a.value,o)){if(a.children===i.children&&!Pr.current){e=Ti(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=_i(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),zy(a.return,r,e),s.lanes|=r;break}l=l.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(X(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),zy(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}dr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Is(e,r),i=sn(i),n=n(i),e.flags|=1,dr(t,e,n,r),e.child;case 14:return n=e.type,i=mn(n,e.pendingProps),i=mn(n.type,i),JE(t,e,n,i,r);case 15:return IC(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:mn(n,i),ih(t,e),e.tag=1,Or(n)?(t=!0,Ih(e)):t=!1,Is(e,r),TC(e,n,i),qy(e,n,i,r),Ky(null,e,n,!0,t,r);case 19:return RC(t,e,r);case 22:return kC(t,e,r)}throw Error(X(156,e.tag))};function QC(t,e){return Ek(t,e)}function p4(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(t,e,r,n){return new p4(t,e,r,n)}function Qb(t){return t=t.prototype,!(!t||!t.isReactComponent)}function m4(t){if(typeof t=="function")return Qb(t)?1:0;if(t!=null){if(t=t.$$typeof,t===mb)return 11;if(t===gb)return 14}return 2}function _a(t,e){var r=t.alternate;return r===null?(r=rn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function sh(t,e,r,n,i,a){var o=2;if(n=t,typeof t=="function")Qb(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case us:return mo(r.children,i,a,e);case pb:o=8,i|=8;break;case my:return t=rn(12,r,e,i|2),t.elementType=my,t.lanes=a,t;case gy:return t=rn(13,r,e,i),t.elementType=gy,t.lanes=a,t;case vy:return t=rn(19,r,e,i),t.elementType=vy,t.lanes=a,t;case ok:return bm(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ik:o=10;break e;case ak:o=9;break e;case mb:o=11;break e;case gb:o=14;break e;case Ji:o=16,n=null;break e}throw Error(X(130,t==null?t:typeof t,""))}return e=rn(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function mo(t,e,r,n){return t=rn(7,t,n,e),t.lanes=r,t}function bm(t,e,r,n){return t=rn(22,t,n,e),t.elementType=ok,t.lanes=r,t.stateNode={isHidden:!1},t}function Sv(t,e,r){return t=rn(6,t,null,e),t.lanes=r,t}function Av(t,e,r){return e=rn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function g4(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=av(0),this.expirationTimes=av(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=av(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Xb(t,e,r,n,i,a,o,s,l){return t=new g4(t,e,r,s,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=rn(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rb(a),t}function v4(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ls,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function XC(t){if(!t)return Oa;t=t._reactInternals;e:{if(Lo(t)!==t||t.tag!==1)throw Error(X(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Or(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(X(171))}if(t.tag===1){var r=t.type;if(Or(r))return Xk(t,r,e)}return e}function JC(t,e,r,n,i,a,o,s,l){return t=Xb(r,n,!0,t,i,a,o,s,l),t.context=XC(null),r=t.current,n=yr(),i=ya(r),a=_i(n,i),a.callback=e??null,ga(r,a,i),t.current.lanes=i,xf(t,i,n),Ir(t,n),t}function wm(t,e,r,n){var i=e.current,a=yr(),o=ya(i);return r=XC(r),e.context===null?e.context=r:e.pendingContext=r,e=_i(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=ga(i,e,o),t!==null&&(En(t,i,o,a),th(t,i,o)),o}function Uh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function cS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Jb(t,e){cS(t,e),(t=t.alternate)&&cS(t,e)}function y4(){return null}var ZC=typeof reportError=="function"?reportError:function(t){console.error(t)};function Zb(t){this._internalRoot=t}xm.prototype.render=Zb.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(X(409));wm(t,e,null,null)};xm.prototype.unmount=Zb.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ao(function(){wm(null,t,null,null)}),e[Si]=null}};function xm(t){this._internalRoot=t}xm.prototype.unstable_scheduleHydration=function(t){if(t){var e=kk();t={blockedOn:null,target:t,priority:e};for(var r=0;r<ta.length&&e!==0&&e<ta[r].priority;r++);ta.splice(r,0,t),r===0&&Nk(t)}};function ew(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Em(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function fS(){}function _4(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=Uh(o);a.call(u)}}var o=JC(e,n,t,0,null,!1,!1,"",fS);return t._reactRootContainer=o,t[Si]=o.current,yc(t.nodeType===8?t.parentNode:t),Ao(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var u=Uh(l);s.call(u)}}var l=Xb(t,0,!1,null,null,!1,!1,"",fS);return t._reactRootContainer=l,t[Si]=l.current,yc(t.nodeType===8?t.parentNode:t),Ao(function(){wm(e,l,r,n)}),l}function Sm(t,e,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=Uh(o);s.call(l)}}wm(e,o,t,i)}else o=_4(r,e,t,i,n);return Uh(o)}Ok=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=$u(e.pendingLanes);r!==0&&(_b(e,r|1),Ir(e,mt()),!(Te&6)&&(Hs=mt()+500,Ma()))}break;case 13:Ao(function(){var n=Ai(t,1);if(n!==null){var i=yr();En(n,t,1,i)}}),Jb(t,1)}};bb=function(t){if(t.tag===13){var e=Ai(t,134217728);if(e!==null){var r=yr();En(e,t,134217728,r)}Jb(t,134217728)}};Ik=function(t){if(t.tag===13){var e=ya(t),r=Ai(t,e);if(r!==null){var n=yr();En(r,t,e,n)}Jb(t,e)}};kk=function(){return $e};Ck=function(t,e){var r=$e;try{return $e=t,e()}finally{$e=r}};Py=function(t,e,r){switch(e){case"input":if(by(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=pm(n);if(!i)throw Error(X(90));lk(n),by(n,i)}}}break;case"textarea":ck(t,r);break;case"select":e=r.value,e!=null&&As(t,!!r.multiple,e,!1)}};vk=Gb;yk=Ao;var b4={usingClientEntryPoint:!1,Events:[Sf,hs,pm,mk,gk,Gb]},wu={findFiberByHostInstance:io,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},w4={bundleType:wu.bundleType,version:wu.version,rendererPackageName:wu.rendererPackageName,rendererConfig:wu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Li.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=wk(t),t===null?null:t.stateNode},findFiberByHostInstance:wu.findFiberByHostInstance||y4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Td=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Td.isDisabled&&Td.supportsFiber)try{cm=Td.inject(w4),Fn=Td}catch{}}Gr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=b4;Gr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ew(e))throw Error(X(200));return v4(t,e,null,r)};Gr.createRoot=function(t,e){if(!ew(t))throw Error(X(299));var r=!1,n="",i=ZC;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Xb(t,1,!1,null,null,r,!1,n,i),t[Si]=e.current,yc(t.nodeType===8?t.parentNode:t),new Zb(e)};Gr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=wk(e),t=t===null?null:t.stateNode,t};Gr.flushSync=function(t){return Ao(t)};Gr.hydrate=function(t,e,r){if(!Em(e))throw Error(X(200));return Sm(null,t,e,!0,r)};Gr.hydrateRoot=function(t,e,r){if(!ew(t))throw Error(X(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=ZC;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=JC(e,null,t,1,r??null,i,!1,a,o),t[Si]=e.current,yc(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new xm(e)};Gr.render=function(t,e,r){if(!Em(e))throw Error(X(200));return Sm(null,t,e,!1,r)};Gr.unmountComponentAtNode=function(t){if(!Em(t))throw Error(X(40));return t._reactRootContainer?(Ao(function(){Sm(null,null,t,!1,function(){t._reactRootContainer=null,t[Si]=null})}),!0):!1};Gr.unstable_batchedUpdates=Gb;Gr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Em(r))throw Error(X(200));if(t==null||t._reactInternals===void 0)throw Error(X(38));return Sm(t,e,r,!1,n)};Gr.version="18.3.1-next-f1338f8080-20240426";function eN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(eN)}catch(t){console.error(t)}}eN(),ek.exports=Gr;var x4=ek.exports,dS=x4;hy.createRoot=dS.createRoot,hy.hydrateRoot=dS.hydrateRoot;let E4={data:""},S4=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||E4,A4=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,T4=/\/\*[^]*?\*\/|  +/g,hS=/\n+/g,na=(t,e)=>{let r="",n="",i="";for(let a in t){let o=t[a];a[0]=="@"?a[1]=="i"?r=a+" "+o+";":n+=a[1]=="f"?na(o,a):a+"{"+na(o,a[1]=="k"?"":e)+"}":typeof o=="object"?n+=na(o,e?e.replace(/([^,])+/g,s=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,s):s?s+" "+l:l)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=na.p?na.p(a,o):a+":"+o+";")}return r+(e&&i?e+"{"+i+"}":i)+n},ii={},tN=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+tN(t[r]);return e}return t},P4=(t,e,r,n,i)=>{let a=tN(t),o=ii[a]||(ii[a]=(l=>{let u=0,c=11;for(;u<l.length;)c=101*c+l.charCodeAt(u++)>>>0;return"go"+c})(a));if(!ii[o]){let l=a!==t?t:(u=>{let c,f,h=[{}];for(;c=A4.exec(u.replace(T4,""));)c[4]?h.shift():c[3]?(f=c[3].replace(hS," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][c[1]]=c[2].replace(hS," ").trim();return h[0]})(t);ii[o]=na(i?{["@keyframes "+o]:l}:l,r?"":"."+o)}let s=r&&ii.g?ii.g:null;return r&&(ii.g=ii[o]),((l,u,c,f)=>{f?u.data=u.data.replace(f,l):u.data.indexOf(l)===-1&&(u.data=c?l+u.data:u.data+l)})(ii[o],e,n,s),o},O4=(t,e,r)=>t.reduce((n,i,a)=>{let o=e[a];if(o&&o.call){let s=o(r),l=s&&s.props&&s.props.className||/^go/.test(s)&&s;o=l?"."+l:s&&typeof s=="object"?s.props?"":na(s,""):s===!1?"":s}return n+i+(o??"")},"");function Am(t){let e=this||{},r=t.call?t(e.p):t;return P4(r.unshift?r.raw?O4(r,[].slice.call(arguments,1),e.p):r.reduce((n,i)=>Object.assign(n,i&&i.call?i(e.p):i),{}):r,S4(e.target),e.g,e.o,e.k)}let rN,o0,s0;Am.bind({g:1});let Pi=Am.bind({k:1});function I4(t,e,r,n){na.p=e,rN=t,o0=r,s0=n}function $a(t,e){let r=this||{};return function(){let n=arguments;function i(a,o){let s=Object.assign({},a),l=s.className||i.className;r.p=Object.assign({theme:o0&&o0()},s),r.o=/ *go\d+/.test(l),s.className=Am.apply(r,n)+(l?" "+l:"");let u=t;return t[0]&&(u=s.as||t,delete s.as),s0&&u[0]&&s0(s),rN(u,s)}return i}}var k4=t=>typeof t=="function",zh=(t,e)=>k4(t)?t(e):t,C4=(()=>{let t=0;return()=>(++t).toString()})(),nN=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),N4=20,tw="default",iN=(t,e)=>{let{toastLimit:r}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,r)};case 1:return{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:n}=e;return iN(t,{type:t.toasts.find(o=>o.id===n.id)?1:0,toast:n});case 3:let{toastId:i}=e;return{...t,toasts:t.toasts.map(o=>o.id===i||i===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let a=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+a}))}}},lh=[],aN={toasts:[],pausedAt:void 0,settings:{toastLimit:N4}},Dn={},oN=(t,e=tw)=>{Dn[e]=iN(Dn[e]||aN,t),lh.forEach(([r,n])=>{r===e&&n(Dn[e])})},sN=t=>Object.keys(Dn).forEach(e=>oN(t,e)),j4=t=>Object.keys(Dn).find(e=>Dn[e].toasts.some(r=>r.id===t)),Tm=(t=tw)=>e=>{oN(e,t)},R4={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},M4=(t={},e=tw)=>{let[r,n]=D.useState(Dn[e]||aN),i=D.useRef(Dn[e]);D.useEffect(()=>(i.current!==Dn[e]&&n(Dn[e]),lh.push([e,n]),()=>{let o=lh.findIndex(([s])=>s===e);o>-1&&lh.splice(o,1)}),[e]);let a=r.toasts.map(o=>{var s,l,u;return{...t,...t[o.type],...o,removeDelay:o.removeDelay||((s=t[o.type])==null?void 0:s.removeDelay)||(t==null?void 0:t.removeDelay),duration:o.duration||((l=t[o.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||R4[o.type],style:{...t.style,...(u=t[o.type])==null?void 0:u.style,...o.style}}});return{...r,toasts:a}},$4=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||C4()}),Tf=t=>(e,r)=>{let n=$4(e,t,r);return Tm(n.toasterId||j4(n.id))({type:2,toast:n}),n.id},jt=(t,e)=>Tf("blank")(t,e);jt.error=Tf("error");jt.success=Tf("success");jt.loading=Tf("loading");jt.custom=Tf("custom");jt.dismiss=(t,e)=>{let r={type:3,toastId:t};e?Tm(e)(r):sN(r)};jt.dismissAll=t=>jt.dismiss(void 0,t);jt.remove=(t,e)=>{let r={type:4,toastId:t};e?Tm(e)(r):sN(r)};jt.removeAll=t=>jt.remove(void 0,t);jt.promise=(t,e,r)=>{let n=jt.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let a=e.success?zh(e.success,i):void 0;return a?jt.success(a,{id:n,...r,...r==null?void 0:r.success}):jt.dismiss(n),i}).catch(i=>{let a=e.error?zh(e.error,i):void 0;a?jt.error(a,{id:n,...r,...r==null?void 0:r.error}):jt.dismiss(n)}),t};var D4=1e3,L4=(t,e="default")=>{let{toasts:r,pausedAt:n}=M4(t,e),i=D.useRef(new Map).current,a=D.useCallback((f,h=D4)=>{if(i.has(f))return;let p=setTimeout(()=>{i.delete(f),o({type:4,toastId:f})},h);i.set(f,p)},[]);D.useEffect(()=>{if(n)return;let f=Date.now(),h=r.map(p=>{if(p.duration===1/0)return;let y=(p.duration||0)+p.pauseDuration-(f-p.createdAt);if(y<0){p.visible&&jt.dismiss(p.id);return}return setTimeout(()=>jt.dismiss(p.id,e),y)});return()=>{h.forEach(p=>p&&clearTimeout(p))}},[r,n,e]);let o=D.useCallback(Tm(e),[e]),s=D.useCallback(()=>{o({type:5,time:Date.now()})},[o]),l=D.useCallback((f,h)=>{o({type:1,toast:{id:f,height:h}})},[o]),u=D.useCallback(()=>{n&&o({type:6,time:Date.now()})},[n,o]),c=D.useCallback((f,h)=>{let{reverseOrder:p=!1,gutter:y=8,defaultPosition:m}=h||{},b=r.filter(w=>(w.position||m)===(f.position||m)&&w.height),v=b.findIndex(w=>w.id===f.id),_=b.filter((w,I)=>I<v&&w.visible).length;return b.filter(w=>w.visible).slice(...p?[_+1]:[0,_]).reduce((w,I)=>w+(I.height||0)+y,0)},[r]);return D.useEffect(()=>{r.forEach(f=>{if(f.dismissed)a(f.id,f.removeDelay);else{let h=i.get(f.id);h&&(clearTimeout(h),i.delete(f.id))}})},[r,a]),{toasts:r,handlers:{updateHeight:l,startPause:s,endPause:u,calculateOffset:c}}},F4=Pi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,V4=Pi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,B4=Pi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,U4=$a("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${F4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${V4} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${B4} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,z4=Pi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,W4=$a("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${z4} 1s linear infinite;
`,q4=Pi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,H4=Pi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,G4=$a("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${q4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${H4} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,K4=$a("div")`
  position: absolute;
`,Y4=$a("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Q4=Pi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,X4=$a("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Q4} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,J4=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?D.createElement(X4,null,e):e:r==="blank"?null:D.createElement(Y4,null,D.createElement(W4,{...n}),r!=="loading"&&D.createElement(K4,null,r==="error"?D.createElement(U4,{...n}):D.createElement(G4,{...n})))},Z4=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,eV=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,tV="0%{opacity:0;} 100%{opacity:1;}",rV="0%{opacity:1;} 100%{opacity:0;}",nV=$a("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,iV=$a("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,aV=(t,e)=>{let r=t.includes("top")?1:-1,[n,i]=nN()?[tV,rV]:[Z4(r),eV(r)];return{animation:e?`${Pi(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Pi(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},oV=D.memo(({toast:t,position:e,style:r,children:n})=>{let i=t.height?aV(t.position||e||"top-center",t.visible):{opacity:0},a=D.createElement(J4,{toast:t}),o=D.createElement(iV,{...t.ariaProps},zh(t.message,t));return D.createElement(nV,{className:t.className,style:{...i,...r,...t.style}},typeof n=="function"?n({icon:a,message:o}):D.createElement(D.Fragment,null,a,o))});I4(D.createElement);var sV=({id:t,className:e,style:r,onHeightUpdate:n,children:i})=>{let a=D.useCallback(o=>{if(o){let s=()=>{let l=o.getBoundingClientRect().height;n(t,l)};s(),new MutationObserver(s).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return D.createElement("div",{ref:a,className:e,style:r},i)},lV=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:nN()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...i}},uV=Am`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Pd=16,cV=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:i,toasterId:a,containerStyle:o,containerClassName:s})=>{let{toasts:l,handlers:u}=L4(r,a);return D.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:Pd,left:Pd,right:Pd,bottom:Pd,pointerEvents:"none",...o},className:s,onMouseEnter:u.startPause,onMouseLeave:u.endPause},l.map(c=>{let f=c.position||e,h=u.calculateOffset(c,{reverseOrder:t,gutter:n,defaultPosition:e}),p=lV(f,h);return D.createElement(sV,{id:c.id,key:c.id,onHeightUpdate:u.updateHeight,className:c.visible?uV:"",style:p},c.type==="custom"?zh(c.message,c):i?i(c):D.createElement(oV,{toast:c,position:f}))}))};const fV={},pS=t=>{let e;const r=new Set,n=(c,f)=>{const h=typeof c=="function"?c(e):c;if(!Object.is(h,e)){const p=e;e=f??(typeof h!="object"||h===null)?h:Object.assign({},e,h),r.forEach(y=>y(e,p))}},i=()=>e,l={setState:n,getState:i,getInitialState:()=>u,subscribe:c=>(r.add(c),()=>r.delete(c)),destroy:()=>{(fV?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=e=t(n,i,l);return l},dV=t=>t?pS(t):pS;var lN={exports:{}},uN={},cN={exports:{}},fN={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gs=D;function hV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pV=typeof Object.is=="function"?Object.is:hV,mV=Gs.useState,gV=Gs.useEffect,vV=Gs.useLayoutEffect,yV=Gs.useDebugValue;function _V(t,e){var r=e(),n=mV({inst:{value:r,getSnapshot:e}}),i=n[0].inst,a=n[1];return vV(function(){i.value=r,i.getSnapshot=e,Tv(i)&&a({inst:i})},[t,r,e]),gV(function(){return Tv(i)&&a({inst:i}),t(function(){Tv(i)&&a({inst:i})})},[t]),yV(r),r}function Tv(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!pV(t,r)}catch{return!0}}function bV(t,e){return e()}var wV=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?bV:_V;fN.useSyncExternalStore=Gs.useSyncExternalStore!==void 0?Gs.useSyncExternalStore:wV;cN.exports=fN;var xV=cN.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pm=D,EV=xV;function SV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var AV=typeof Object.is=="function"?Object.is:SV,TV=EV.useSyncExternalStore,PV=Pm.useRef,OV=Pm.useEffect,IV=Pm.useMemo,kV=Pm.useDebugValue;uN.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var a=PV(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=IV(function(){function l(p){if(!u){if(u=!0,c=p,p=n(p),i!==void 0&&o.hasValue){var y=o.value;if(i(y,p))return f=y}return f=p}if(y=f,AV(c,p))return y;var m=n(p);return i!==void 0&&i(y,m)?(c=p,y):(c=p,f=m)}var u=!1,c,f,h=r===void 0?null:r;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,r,n,i]);var s=TV(t,a[0],a[1]);return OV(function(){o.hasValue=!0,o.value=s},[s]),kV(s),s};lN.exports=uN;var CV=lN.exports;const NV=Re(CV),dN={},{useDebugValue:jV}=M,{useSyncExternalStoreWithSelector:RV}=NV;let mS=!1;const MV=t=>t;function $V(t,e=MV,r){(dN?"production":void 0)!=="production"&&r&&!mS&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),mS=!0);const n=RV(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return jV(n),n}const DV=t=>{(dN?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?dV(t):t,r=(n,i)=>$V(e,n,i);return Object.assign(r,e),r},LV=t=>DV,FV={};function VV(t,e){let r;try{r=t()}catch{return}return{getItem:i=>{var a;const o=l=>l===null?null:JSON.parse(l,void 0),s=(a=r.getItem(i))!=null?a:null;return s instanceof Promise?s.then(o):o(s)},setItem:(i,a)=>r.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>r.removeItem(i)}}const Pc=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(n){return Pc(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return Pc(n)(r)}}}},BV=(t,e)=>(r,n,i)=>{let a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:b=>b,version:0,merge:(b,v)=>({...v,...b}),...e},o=!1;const s=new Set,l=new Set;let u;try{u=a.getStorage()}catch{}if(!u)return t((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),r(...b)},n,i);const c=Pc(a.serialize),f=()=>{const b=a.partialize({...n()});let v;const _=c({state:b,version:a.version}).then(w=>u.setItem(a.name,w)).catch(w=>{v=w});if(v)throw v;return _},h=i.setState;i.setState=(b,v)=>{h(b,v),f()};const p=t((...b)=>{r(...b),f()},n,i);let y;const m=()=>{var b;if(!u)return;o=!1,s.forEach(_=>_(n()));const v=((b=a.onRehydrateStorage)==null?void 0:b.call(a,n()))||void 0;return Pc(u.getItem.bind(u))(a.name).then(_=>{if(_)return a.deserialize(_)}).then(_=>{if(_)if(typeof _.version=="number"&&_.version!==a.version){if(a.migrate)return a.migrate(_.state,_.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return _.state}).then(_=>{var w;return y=a.merge(_,(w=n())!=null?w:p),r(y,!0),f()}).then(()=>{v==null||v(y,void 0),o=!0,l.forEach(_=>_(y))}).catch(_=>{v==null||v(void 0,_)})};return i.persist={setOptions:b=>{a={...a,...b},b.getStorage&&(u=b.getStorage())},clearStorage:()=>{u==null||u.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>m(),hasHydrated:()=>o,onHydrate:b=>(s.add(b),()=>{s.delete(b)}),onFinishHydration:b=>(l.add(b),()=>{l.delete(b)})},m(),y||p},UV=(t,e)=>(r,n,i)=>{let a={storage:VV(()=>localStorage),partialize:m=>m,version:0,merge:(m,b)=>({...b,...m}),...e},o=!1;const s=new Set,l=new Set;let u=a.storage;if(!u)return t((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),r(...m)},n,i);const c=()=>{const m=a.partialize({...n()});return u.setItem(a.name,{state:m,version:a.version})},f=i.setState;i.setState=(m,b)=>{f(m,b),c()};const h=t((...m)=>{r(...m),c()},n,i);i.getInitialState=()=>h;let p;const y=()=>{var m,b;if(!u)return;o=!1,s.forEach(_=>{var w;return _((w=n())!=null?w:h)});const v=((b=a.onRehydrateStorage)==null?void 0:b.call(a,(m=n())!=null?m:h))||void 0;return Pc(u.getItem.bind(u))(a.name).then(_=>{if(_)if(typeof _.version=="number"&&_.version!==a.version){if(a.migrate)return[!0,a.migrate(_.state,_.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,_.state];return[!1,void 0]}).then(_=>{var w;const[I,T]=_;if(p=a.merge(T,(w=n())!=null?w:h),r(p,!0),I)return c()}).then(()=>{v==null||v(p,void 0),p=n(),o=!0,l.forEach(_=>_(p))}).catch(_=>{v==null||v(void 0,_)})};return i.persist={setOptions:m=>{a={...a,...m},m.storage&&(u=m.storage)},clearStorage:()=>{u==null||u.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>y(),hasHydrated:()=>o,onHydrate:m=>(s.add(m),()=>{s.delete(m)}),onFinishHydration:m=>(l.add(m),()=>{l.delete(m)})},a.skipHydration||y(),p||h},zV=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((FV?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),BV(t,e)):UV(t,e),WV=zV,qV=(t,e)=>e.some(r=>t instanceof r);let gS,vS;function HV(){return gS||(gS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GV(){return vS||(vS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hN=new WeakMap,l0=new WeakMap,pN=new WeakMap,Pv=new WeakMap,rw=new WeakMap;function KV(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{r(ba(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&hN.set(r,t)}).catch(()=>{}),rw.set(e,t),e}function YV(t){if(l0.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});l0.set(t,e)}let u0={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return l0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||pN.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ba(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function QV(t){u0=t(u0)}function XV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Ov(this),e,...r);return pN.set(n,e.sort?e.sort():[e]),ba(n)}:GV().includes(t)?function(...e){return t.apply(Ov(this),e),ba(hN.get(this))}:function(...e){return ba(t.apply(Ov(this),e))}}function JV(t){return typeof t=="function"?XV(t):(t instanceof IDBTransaction&&YV(t),qV(t,HV())?new Proxy(t,u0):t)}function ba(t){if(t instanceof IDBRequest)return KV(t);if(Pv.has(t))return Pv.get(t);const e=JV(t);return e!==t&&(Pv.set(t,e),rw.set(e,t)),e}const Ov=t=>rw.get(t);function mN(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),s=ba(o);return n&&o.addEventListener("upgradeneeded",l=>{n(ba(o.result),l.oldVersion,l.newVersion,ba(o.transaction),l)}),r&&o.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const ZV=["get","getKey","getAll","getAllKeys","count"],e3=["put","add","delete","clear"],Iv=new Map;function yS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Iv.get(e))return Iv.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=e3.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||ZV.includes(r)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(s.shift())),(await Promise.all([u[r](...s),i&&l.done]))[0]};return Iv.set(e,a),a}QV(t=>({...t,get:(e,r,n)=>yS(e,r)||t.get(e,r,n),has:(e,r)=>!!yS(e,r)||t.has(e,r)}));class t3{constructor(){Zg(this,"db",null)}async init(){this.db=await mN("foodlog-km",1,{upgrade(e){e.objectStoreNames.contains("foods")||e.createObjectStore("foods",{keyPath:"id"}).createIndex("by-category","category"),e.objectStoreNames.contains("entries")||e.createObjectStore("entries",{keyPath:"id"}).createIndex("by-user-date",["userId","dateISO"]),e.objectStoreNames.contains("users")||e.createObjectStore("users",{keyPath:"id"}),e.objectStoreNames.contains("settings")||e.createObjectStore("settings",{keyPath:"key"})}})}ensureDB(){if(!this.db)throw new Error("Database not initialized. Call init() first.");return this.db}async getAllFoods(){return await this.ensureDB().getAll("foods")}async getFood(e){return await this.ensureDB().get("foods",e)}async addFood(e){await this.ensureDB().add("foods",e)}async updateFood(e){await this.ensureDB().put("foods",e)}async deleteFood(e){await this.ensureDB().delete("foods",e)}async searchFoods(e){return(await this.ensureDB().getAll("foods")).filter(i=>i.name.toLowerCase().includes(e.toLowerCase())||i.category.toLowerCase().includes(e.toLowerCase()))}async getAllEntries(){return await this.ensureDB().getAll("entries")}async getEntry(e){return await this.ensureDB().get("entries",e)}async getEntriesForUser(e){return await this.ensureDB().getAllFromIndex("entries","by-user-date",IDBKeyRange.only(e))}async getEntriesForDate(e,r){return await this.ensureDB().getAllFromIndex("entries","by-user-date",IDBKeyRange.only([e,r]))}async addEntry(e){await this.ensureDB().add("entries",e)}async updateEntry(e){await this.ensureDB().put("entries",e)}async deleteEntry(e){await this.ensureDB().delete("entries",e)}async getAllUsers(){return await this.ensureDB().getAll("users")}async updateUser(e){await this.ensureDB().put("users",e)}async getSetting(e){const n=await this.ensureDB().get("settings",e);return n==null?void 0:n.value}async setSetting(e,r){await this.ensureDB().put("settings",{key:e,value:r})}async exportBackup(){const[e,r,n,i]=await Promise.all([this.getAllFoods(),this.getAllEntries(),this.getAllUsers(),this.getSetting("app_settings")]),a=n.filter(o=>o&&o.id&&o.name&&o.goals&&typeof o.goals.protein_g=="number"&&typeof o.goals.carbs_g=="number"&&typeof o.goals.fat_g=="number"&&typeof o.goals.kcal=="number"&&typeof o.goals.water_ml=="number");return console.log(`📊 Backup: ${e.length} alimentos, ${r.length} entradas, ${a.length} usuários válidos`),{foods:e,entries:r,users:a,settings:i||{theme:"light",language:"pt",defaultUnit:"g"},version:"1.0.0",timestamp:new Date().toISOString()}}async importBackup(e){const n=this.ensureDB().transaction(["foods","entries","users","settings"],"readwrite");await n.objectStore("foods").clear(),await n.objectStore("entries").clear(),await n.objectStore("users").clear(),await n.objectStore("settings").clear();for(const i of e.foods)await n.objectStore("foods").add(i);for(const i of e.entries)await n.objectStore("entries").add(i);for(const i of e.users)await n.objectStore("users").add(i);await n.objectStore("settings").add({key:"app_settings",value:e.settings}),await n.done}async cleanDuplicateFoods(){const e=this.ensureDB(),r=await e.getAll("foods"),n=new Map;for(const o of r){const s=`${o.name.toLowerCase()}-${(o.category||"sem-categoria").toLowerCase()}`;n.has(s)||n.set(s,[]),n.get(s).push(o)}let i=0,a=0;for(const[,o]of n)if(o.length>1){const s=o.slice(1);for(const l of s)await e.delete("foods",l.id),i++;a++}else a++;return console.log(`🧹 Limpeza de alimentos: ${i} duplicatas removidas, ${a} mantidos`),{removed:i,kept:a}}async cleanDuplicateEntries(){const e=this.ensureDB(),r=await e.getAll("entries"),n=new Map;for(const o of r){const s=`${o.userId}-${o.dateISO}-${o.foodId}-${o.qty}-${o.unit}`;n.has(s)||n.set(s,[]),n.get(s).push(o)}let i=0,a=0;for(const[,o]of n)if(o.length>1){const s=o.slice(1);for(const l of s)await e.delete("entries",l.id),i++;a++}else a++;return console.log(`🧹 Limpeza de entradas: ${i} duplicatas removidas, ${a} mantidas`),{removed:i,kept:a}}async cleanAllDuplicates(){console.log("🧹 Iniciando limpeza de duplicações...");const e=await this.cleanDuplicateFoods(),r=await this.cleanDuplicateEntries();return console.log("✅ Limpeza de duplicações concluída"),{foods:e,entries:r}}async cleanDuplicatesBeforeSync(){console.log("🧹 Limpando duplicatas antes da sincronização...");const e=await this.cleanDuplicateFoods(),r=await this.cleanDuplicateEntries();return console.log(`✅ Limpeza concluída: ${e.removed} alimentos e ${r.removed} entradas duplicadas removidas`),{foodsRemoved:e.removed,entriesRemoved:r.removed}}}const Oe=new t3;var _S={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},r3=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],o=t[r++],s=t[r++],l=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const a=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},vN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,s=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=a>>2,f=(a&3)<<4|s>>4;let h=(s&15)<<2|u>>6,p=u&63;l||(p=64,o||(h=64)),n.push(r[c],r[f],r[h],r[p])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(gN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):r3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],s=i<t.length?r[t.charAt(i)]:0;++i;const u=i<t.length?r[t.charAt(i)]:64;++i;const f=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||s==null||u==null||f==null)throw new n3;const h=a<<2|s>>4;if(n.push(h),u!==64){const p=s<<4&240|u>>2;if(n.push(p),f!==64){const y=u<<6&192|f;n.push(y)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class n3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const i3=function(t){const e=gN(t);return vN.encodeByteArray(e,!0)},Wh=function(t){return i3(t).replace(/\./g,"")},yN=function(t){try{return vN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3=()=>a3().__FIREBASE_DEFAULTS__,s3=()=>{if(typeof process>"u"||typeof _S>"u")return;const t=_S.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},l3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&yN(t[1]);return e&&JSON.parse(e)},Om=()=>{try{return o3()||s3()||l3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_N=t=>{var e,r;return(r=(e=Om())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},u3=t=>{const e=_N(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},bN=()=>{var t;return(t=Om())===null||t===void 0?void 0:t.config},wN=t=>{var e;return(e=Om())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Wh(JSON.stringify(r)),Wh(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function d3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ur())}function h3(){var t;const e=(t=Om())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function p3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function m3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function g3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function v3(){const t=ur();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function y3(){return!h3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _3(){try{return typeof indexedDB=="object"}catch{return!1}}function b3(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3="FirebaseError";class Fi extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=w3,Object.setPrototypeOf(this,Fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pf.prototype.create)}}class Pf{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?x3(a,n):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new Fi(i,s,n)}}function x3(t,e){return t.replace(E3,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const E3=/\{\$([^}]+)}/g;function S3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function qh(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],o=e[i];if(bS(a)&&bS(o)){if(!qh(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function bS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function A3(t,e){const r=new T3(t,e);return r.subscribe.bind(r)}class T3{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");P3(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=kv),i.error===void 0&&(i.error=kv),i.complete===void 0&&(i.complete=kv);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function P3(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function kv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(t){return t&&t._delegate?t._delegate:t}class To{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new c3;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(k3(e))try{this.getOrInitializeService({instanceIdentifier:Ja})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=Ja){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ja){return this.instances.has(e)}getOptions(e=Ja){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);n===s&&o.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:I3(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Ja){return this.component?this.component.multipleInstances?e:Ja:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function I3(t){return t===Ja?void 0:t}function k3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new O3(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Se||(Se={}));const N3={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},j3=Se.INFO,R3={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},M3=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=R3[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nw{constructor(e){this.name=e,this._logLevel=j3,this._logHandler=M3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?N3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(D3(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function D3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const c0="@firebase/app",wS="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new nw("@firebase/app"),L3="@firebase/app-compat",F3="@firebase/analytics-compat",V3="@firebase/analytics",B3="@firebase/app-check-compat",U3="@firebase/app-check",z3="@firebase/auth",W3="@firebase/auth-compat",q3="@firebase/database",H3="@firebase/data-connect",G3="@firebase/database-compat",K3="@firebase/functions",Y3="@firebase/functions-compat",Q3="@firebase/installations",X3="@firebase/installations-compat",J3="@firebase/messaging",Z3="@firebase/messaging-compat",eB="@firebase/performance",tB="@firebase/performance-compat",rB="@firebase/remote-config",nB="@firebase/remote-config-compat",iB="@firebase/storage",aB="@firebase/storage-compat",oB="@firebase/firestore",sB="@firebase/vertexai-preview",lB="@firebase/firestore-compat",uB="firebase",cB="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="[DEFAULT]",fB={[c0]:"fire-core",[L3]:"fire-core-compat",[V3]:"fire-analytics",[F3]:"fire-analytics-compat",[U3]:"fire-app-check",[B3]:"fire-app-check-compat",[z3]:"fire-auth",[W3]:"fire-auth-compat",[q3]:"fire-rtdb",[H3]:"fire-data-connect",[G3]:"fire-rtdb-compat",[K3]:"fire-fn",[Y3]:"fire-fn-compat",[Q3]:"fire-iid",[X3]:"fire-iid-compat",[J3]:"fire-fcm",[Z3]:"fire-fcm-compat",[eB]:"fire-perf",[tB]:"fire-perf-compat",[rB]:"fire-rc",[nB]:"fire-rc-compat",[iB]:"fire-gcs",[aB]:"fire-gcs-compat",[oB]:"fire-fst",[lB]:"fire-fst-compat",[sB]:"fire-vertex","fire-js":"fire-js",[uB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh=new Map,dB=new Map,d0=new Map;function xS(t,e){try{t.container.addComponent(e)}catch(r){Oi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Ks(t){const e=t.name;if(d0.has(e))return Oi.debug(`There were multiple attempts to register component ${e}.`),!1;d0.set(e,t);for(const r of Hh.values())xS(r,t);for(const r of dB.values())xS(r,t);return!0}function iw(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function di(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wa=new Pf("app","Firebase",hB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new To("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=cB;function xN(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:f0,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw wa.create("bad-app-name",{appName:String(i)});if(r||(r=bN()),!r)throw wa.create("no-options");const a=Hh.get(i);if(a){if(qh(r,a.options)&&qh(n,a.config))return a;throw wa.create("duplicate-app",{appName:i})}const o=new C3(i);for(const l of d0.values())o.addComponent(l);const s=new pB(r,n,o);return Hh.set(i,s),s}function EN(t=f0){const e=Hh.get(t);if(!e&&t===f0&&bN())return xN();if(!e)throw wa.create("no-app",{appName:t});return e}function xa(t,e,r){var n;let i=(n=fB[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const s=[`Unable to register library "${i}" with version "${e}":`];a&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Oi.warn(s.join(" "));return}Ks(new To(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mB="firebase-heartbeat-database",gB=1,Oc="firebase-heartbeat-store";let Cv=null;function SN(){return Cv||(Cv=mN(mB,gB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Oc)}catch(r){console.warn(r)}}}}).catch(t=>{throw wa.create("idb-open",{originalErrorMessage:t.message})})),Cv}async function vB(t){try{const r=(await SN()).transaction(Oc),n=await r.objectStore(Oc).get(AN(t));return await r.done,n}catch(e){if(e instanceof Fi)Oi.warn(e.message);else{const r=wa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Oi.warn(r.message)}}}async function ES(t,e){try{const n=(await SN()).transaction(Oc,"readwrite");await n.objectStore(Oc).put(e,AN(t)),await n.done}catch(r){if(r instanceof Fi)Oi.warn(r.message);else{const n=wa.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Oi.warn(n.message)}}}function AN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yB=1024,_B=30*24*60*60*1e3;class bB{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new xB(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=SS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=_B}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Oi.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=SS(),{heartbeatsToSend:n,unsentEntries:i}=wB(this._heartbeatsCache.heartbeats),a=Wh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return Oi.warn(r),""}}}function SS(){return new Date().toISOString().substring(0,10)}function wB(t,e=yB){const r=[];let n=t.slice();for(const i of t){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),AS(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),AS(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class xB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _3()?b3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await vB(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return ES(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return ES(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function AS(t){return Wh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EB(t){Ks(new To("platform-logger",e=>new $3(e),"PRIVATE")),Ks(new To("heartbeat",e=>new bB(e),"PRIVATE")),xa(c0,wS,t),xa(c0,wS,"esm2017"),xa("fire-js","")}EB("");var TS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var go,TN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,E){function A(){}A.prototype=E.prototype,S.D=E.prototype,S.prototype=new A,S.prototype.constructor=S,S.C=function(C,k,j){for(var N=Array(arguments.length-2),F=2;F<arguments.length;F++)N[F-2]=arguments[F];return E.prototype[k].apply(C,N)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,E,A){A||(A=0);var C=Array(16);if(typeof E=="string")for(var k=0;16>k;++k)C[k]=E.charCodeAt(A++)|E.charCodeAt(A++)<<8|E.charCodeAt(A++)<<16|E.charCodeAt(A++)<<24;else for(k=0;16>k;++k)C[k]=E[A++]|E[A++]<<8|E[A++]<<16|E[A++]<<24;E=S.g[0],A=S.g[1],k=S.g[2];var j=S.g[3],N=E+(j^A&(k^j))+C[0]+3614090360&4294967295;E=A+(N<<7&4294967295|N>>>25),N=j+(k^E&(A^k))+C[1]+3905402710&4294967295,j=E+(N<<12&4294967295|N>>>20),N=k+(A^j&(E^A))+C[2]+606105819&4294967295,k=j+(N<<17&4294967295|N>>>15),N=A+(E^k&(j^E))+C[3]+3250441966&4294967295,A=k+(N<<22&4294967295|N>>>10),N=E+(j^A&(k^j))+C[4]+4118548399&4294967295,E=A+(N<<7&4294967295|N>>>25),N=j+(k^E&(A^k))+C[5]+1200080426&4294967295,j=E+(N<<12&4294967295|N>>>20),N=k+(A^j&(E^A))+C[6]+2821735955&4294967295,k=j+(N<<17&4294967295|N>>>15),N=A+(E^k&(j^E))+C[7]+4249261313&4294967295,A=k+(N<<22&4294967295|N>>>10),N=E+(j^A&(k^j))+C[8]+1770035416&4294967295,E=A+(N<<7&4294967295|N>>>25),N=j+(k^E&(A^k))+C[9]+2336552879&4294967295,j=E+(N<<12&4294967295|N>>>20),N=k+(A^j&(E^A))+C[10]+4294925233&4294967295,k=j+(N<<17&4294967295|N>>>15),N=A+(E^k&(j^E))+C[11]+2304563134&4294967295,A=k+(N<<22&4294967295|N>>>10),N=E+(j^A&(k^j))+C[12]+1804603682&4294967295,E=A+(N<<7&4294967295|N>>>25),N=j+(k^E&(A^k))+C[13]+4254626195&4294967295,j=E+(N<<12&4294967295|N>>>20),N=k+(A^j&(E^A))+C[14]+2792965006&4294967295,k=j+(N<<17&4294967295|N>>>15),N=A+(E^k&(j^E))+C[15]+1236535329&4294967295,A=k+(N<<22&4294967295|N>>>10),N=E+(k^j&(A^k))+C[1]+4129170786&4294967295,E=A+(N<<5&4294967295|N>>>27),N=j+(A^k&(E^A))+C[6]+3225465664&4294967295,j=E+(N<<9&4294967295|N>>>23),N=k+(E^A&(j^E))+C[11]+643717713&4294967295,k=j+(N<<14&4294967295|N>>>18),N=A+(j^E&(k^j))+C[0]+3921069994&4294967295,A=k+(N<<20&4294967295|N>>>12),N=E+(k^j&(A^k))+C[5]+3593408605&4294967295,E=A+(N<<5&4294967295|N>>>27),N=j+(A^k&(E^A))+C[10]+38016083&4294967295,j=E+(N<<9&4294967295|N>>>23),N=k+(E^A&(j^E))+C[15]+3634488961&4294967295,k=j+(N<<14&4294967295|N>>>18),N=A+(j^E&(k^j))+C[4]+3889429448&4294967295,A=k+(N<<20&4294967295|N>>>12),N=E+(k^j&(A^k))+C[9]+568446438&4294967295,E=A+(N<<5&4294967295|N>>>27),N=j+(A^k&(E^A))+C[14]+3275163606&4294967295,j=E+(N<<9&4294967295|N>>>23),N=k+(E^A&(j^E))+C[3]+4107603335&4294967295,k=j+(N<<14&4294967295|N>>>18),N=A+(j^E&(k^j))+C[8]+1163531501&4294967295,A=k+(N<<20&4294967295|N>>>12),N=E+(k^j&(A^k))+C[13]+2850285829&4294967295,E=A+(N<<5&4294967295|N>>>27),N=j+(A^k&(E^A))+C[2]+4243563512&4294967295,j=E+(N<<9&4294967295|N>>>23),N=k+(E^A&(j^E))+C[7]+1735328473&4294967295,k=j+(N<<14&4294967295|N>>>18),N=A+(j^E&(k^j))+C[12]+2368359562&4294967295,A=k+(N<<20&4294967295|N>>>12),N=E+(A^k^j)+C[5]+4294588738&4294967295,E=A+(N<<4&4294967295|N>>>28),N=j+(E^A^k)+C[8]+2272392833&4294967295,j=E+(N<<11&4294967295|N>>>21),N=k+(j^E^A)+C[11]+1839030562&4294967295,k=j+(N<<16&4294967295|N>>>16),N=A+(k^j^E)+C[14]+4259657740&4294967295,A=k+(N<<23&4294967295|N>>>9),N=E+(A^k^j)+C[1]+2763975236&4294967295,E=A+(N<<4&4294967295|N>>>28),N=j+(E^A^k)+C[4]+1272893353&4294967295,j=E+(N<<11&4294967295|N>>>21),N=k+(j^E^A)+C[7]+4139469664&4294967295,k=j+(N<<16&4294967295|N>>>16),N=A+(k^j^E)+C[10]+3200236656&4294967295,A=k+(N<<23&4294967295|N>>>9),N=E+(A^k^j)+C[13]+681279174&4294967295,E=A+(N<<4&4294967295|N>>>28),N=j+(E^A^k)+C[0]+3936430074&4294967295,j=E+(N<<11&4294967295|N>>>21),N=k+(j^E^A)+C[3]+3572445317&4294967295,k=j+(N<<16&4294967295|N>>>16),N=A+(k^j^E)+C[6]+76029189&4294967295,A=k+(N<<23&4294967295|N>>>9),N=E+(A^k^j)+C[9]+3654602809&4294967295,E=A+(N<<4&4294967295|N>>>28),N=j+(E^A^k)+C[12]+3873151461&4294967295,j=E+(N<<11&4294967295|N>>>21),N=k+(j^E^A)+C[15]+530742520&4294967295,k=j+(N<<16&4294967295|N>>>16),N=A+(k^j^E)+C[2]+3299628645&4294967295,A=k+(N<<23&4294967295|N>>>9),N=E+(k^(A|~j))+C[0]+4096336452&4294967295,E=A+(N<<6&4294967295|N>>>26),N=j+(A^(E|~k))+C[7]+1126891415&4294967295,j=E+(N<<10&4294967295|N>>>22),N=k+(E^(j|~A))+C[14]+2878612391&4294967295,k=j+(N<<15&4294967295|N>>>17),N=A+(j^(k|~E))+C[5]+4237533241&4294967295,A=k+(N<<21&4294967295|N>>>11),N=E+(k^(A|~j))+C[12]+1700485571&4294967295,E=A+(N<<6&4294967295|N>>>26),N=j+(A^(E|~k))+C[3]+2399980690&4294967295,j=E+(N<<10&4294967295|N>>>22),N=k+(E^(j|~A))+C[10]+4293915773&4294967295,k=j+(N<<15&4294967295|N>>>17),N=A+(j^(k|~E))+C[1]+2240044497&4294967295,A=k+(N<<21&4294967295|N>>>11),N=E+(k^(A|~j))+C[8]+1873313359&4294967295,E=A+(N<<6&4294967295|N>>>26),N=j+(A^(E|~k))+C[15]+4264355552&4294967295,j=E+(N<<10&4294967295|N>>>22),N=k+(E^(j|~A))+C[6]+2734768916&4294967295,k=j+(N<<15&4294967295|N>>>17),N=A+(j^(k|~E))+C[13]+1309151649&4294967295,A=k+(N<<21&4294967295|N>>>11),N=E+(k^(A|~j))+C[4]+4149444226&4294967295,E=A+(N<<6&4294967295|N>>>26),N=j+(A^(E|~k))+C[11]+3174756917&4294967295,j=E+(N<<10&4294967295|N>>>22),N=k+(E^(j|~A))+C[2]+718787259&4294967295,k=j+(N<<15&4294967295|N>>>17),N=A+(j^(k|~E))+C[9]+3951481745&4294967295,S.g[0]=S.g[0]+E&4294967295,S.g[1]=S.g[1]+(k+(N<<21&4294967295|N>>>11))&4294967295,S.g[2]=S.g[2]+k&4294967295,S.g[3]=S.g[3]+j&4294967295}n.prototype.u=function(S,E){E===void 0&&(E=S.length);for(var A=E-this.blockSize,C=this.B,k=this.h,j=0;j<E;){if(k==0)for(;j<=A;)i(this,S,j),j+=this.blockSize;if(typeof S=="string"){for(;j<E;)if(C[k++]=S.charCodeAt(j++),k==this.blockSize){i(this,C),k=0;break}}else for(;j<E;)if(C[k++]=S[j++],k==this.blockSize){i(this,C),k=0;break}}this.h=k,this.o+=E},n.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var E=1;E<S.length-8;++E)S[E]=0;var A=8*this.o;for(E=S.length-8;E<S.length;++E)S[E]=A&255,A/=256;for(this.u(S),S=Array(16),E=A=0;4>E;++E)for(var C=0;32>C;C+=8)S[A++]=this.g[E]>>>C&255;return S};function a(S,E){var A=s;return Object.prototype.hasOwnProperty.call(A,S)?A[S]:A[S]=E(S)}function o(S,E){this.h=E;for(var A=[],C=!0,k=S.length-1;0<=k;k--){var j=S[k]|0;C&&j==E||(A[k]=j,C=!1)}this.g=A}var s={};function l(S){return-128<=S&&128>S?a(S,function(E){return new o([E|0],0>E?-1:0)}):new o([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return b(u(-S));for(var E=[],A=1,C=0;S>=A;C++)E[C]=S/A|0,A*=4294967296;return new o(E,0)}function c(S,E){if(S.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(S.charAt(0)=="-")return b(c(S.substring(1),E));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=u(Math.pow(E,8)),C=f,k=0;k<S.length;k+=8){var j=Math.min(8,S.length-k),N=parseInt(S.substring(k,k+j),E);8>j?(j=u(Math.pow(E,j)),C=C.j(j).add(u(N))):(C=C.j(A),C=C.add(u(N)))}return C}var f=l(0),h=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(m(this))return-b(this).m();for(var S=0,E=1,A=0;A<this.g.length;A++){var C=this.i(A);S+=(0<=C?C:4294967296+C)*E,E*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(y(this))return"0";if(m(this))return"-"+b(this).toString(S);for(var E=u(Math.pow(S,6)),A=this,C="";;){var k=I(A,E).g;A=v(A,k.j(E));var j=((0<A.g.length?A.g[0]:A.h)>>>0).toString(S);if(A=k,y(A))return j+C;for(;6>j.length;)j="0"+j;C=j+C}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function y(S){if(S.h!=0)return!1;for(var E=0;E<S.g.length;E++)if(S.g[E]!=0)return!1;return!0}function m(S){return S.h==-1}t.l=function(S){return S=v(this,S),m(S)?-1:y(S)?0:1};function b(S){for(var E=S.g.length,A=[],C=0;C<E;C++)A[C]=~S.g[C];return new o(A,~S.h).add(h)}t.abs=function(){return m(this)?b(this):this},t.add=function(S){for(var E=Math.max(this.g.length,S.g.length),A=[],C=0,k=0;k<=E;k++){var j=C+(this.i(k)&65535)+(S.i(k)&65535),N=(j>>>16)+(this.i(k)>>>16)+(S.i(k)>>>16);C=N>>>16,j&=65535,N&=65535,A[k]=N<<16|j}return new o(A,A[A.length-1]&-2147483648?-1:0)};function v(S,E){return S.add(b(E))}t.j=function(S){if(y(this)||y(S))return f;if(m(this))return m(S)?b(this).j(b(S)):b(b(this).j(S));if(m(S))return b(this.j(b(S)));if(0>this.l(p)&&0>S.l(p))return u(this.m()*S.m());for(var E=this.g.length+S.g.length,A=[],C=0;C<2*E;C++)A[C]=0;for(C=0;C<this.g.length;C++)for(var k=0;k<S.g.length;k++){var j=this.i(C)>>>16,N=this.i(C)&65535,F=S.i(k)>>>16,$=S.i(k)&65535;A[2*C+2*k]+=N*$,_(A,2*C+2*k),A[2*C+2*k+1]+=j*$,_(A,2*C+2*k+1),A[2*C+2*k+1]+=N*F,_(A,2*C+2*k+1),A[2*C+2*k+2]+=j*F,_(A,2*C+2*k+2)}for(C=0;C<E;C++)A[C]=A[2*C+1]<<16|A[2*C];for(C=E;C<2*E;C++)A[C]=0;return new o(A,0)};function _(S,E){for(;(S[E]&65535)!=S[E];)S[E+1]+=S[E]>>>16,S[E]&=65535,E++}function w(S,E){this.g=S,this.h=E}function I(S,E){if(y(E))throw Error("division by zero");if(y(S))return new w(f,f);if(m(S))return E=I(b(S),E),new w(b(E.g),b(E.h));if(m(E))return E=I(S,b(E)),new w(b(E.g),E.h);if(30<S.g.length){if(m(S)||m(E))throw Error("slowDivide_ only works with positive integers.");for(var A=h,C=E;0>=C.l(S);)A=T(A),C=T(C);var k=O(A,1),j=O(C,1);for(C=O(C,2),A=O(A,2);!y(C);){var N=j.add(C);0>=N.l(S)&&(k=k.add(A),j=N),C=O(C,1),A=O(A,1)}return E=v(S,k.j(E)),new w(k,E)}for(k=f;0<=S.l(E);){for(A=Math.max(1,Math.floor(S.m()/E.m())),C=Math.ceil(Math.log(A)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),j=u(A),N=j.j(E);m(N)||0<N.l(S);)A-=C,j=u(A),N=j.j(E);y(j)&&(j=h),k=k.add(j),S=v(S,N)}return new w(k,S)}t.A=function(S){return I(this,S).h},t.and=function(S){for(var E=Math.max(this.g.length,S.g.length),A=[],C=0;C<E;C++)A[C]=this.i(C)&S.i(C);return new o(A,this.h&S.h)},t.or=function(S){for(var E=Math.max(this.g.length,S.g.length),A=[],C=0;C<E;C++)A[C]=this.i(C)|S.i(C);return new o(A,this.h|S.h)},t.xor=function(S){for(var E=Math.max(this.g.length,S.g.length),A=[],C=0;C<E;C++)A[C]=this.i(C)^S.i(C);return new o(A,this.h^S.h)};function T(S){for(var E=S.g.length+1,A=[],C=0;C<E;C++)A[C]=S.i(C)<<1|S.i(C-1)>>>31;return new o(A,S.h)}function O(S,E){var A=E>>5;E%=32;for(var C=S.g.length-A,k=[],j=0;j<C;j++)k[j]=0<E?S.i(j+A)>>>E|S.i(j+A+1)<<32-E:S.i(j+A);return new o(k,S.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,TN=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,go=o}).apply(typeof TS<"u"?TS:typeof self<"u"?self:typeof window<"u"?window:{});var Od=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var PN,Lu,ON,uh,h0,IN,kN,CN;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,x,P){return d==Array.prototype||d==Object.prototype||(d[x]=P.value),d};function r(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Od=="object"&&Od];for(var x=0;x<d.length;++x){var P=d[x];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var n=r(this);function i(d,x){if(x)e:{var P=n;d=d.split(".");for(var R=0;R<d.length-1;R++){var L=d[R];if(!(L in P))break e;P=P[L]}d=d[d.length-1],R=P[d],x=x(R),x!=R&&x!=null&&e(P,d,{configurable:!0,writable:!0,value:x})}}function a(d,x){d instanceof String&&(d+="");var P=0,R=!1,L={next:function(){if(!R&&P<d.length){var U=P++;return{value:x(U,d[U]),done:!1}}return R=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(d){return d||function(){return a(this,function(x,P){return P})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function l(d){var x=typeof d;return x=x!="object"?x:d?Array.isArray(d)?"array":x:"null",x=="array"||x=="object"&&typeof d.length=="number"}function u(d){var x=typeof d;return x=="object"&&d!=null||x=="function"}function c(d,x,P){return d.call.apply(d.bind,arguments)}function f(d,x,P){if(!d)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,R),d.apply(x,L)}}return function(){return d.apply(x,arguments)}}function h(d,x,P){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,h.apply(null,arguments)}function p(d,x){var P=Array.prototype.slice.call(arguments,1);return function(){var R=P.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function y(d,x){function P(){}P.prototype=x.prototype,d.aa=x.prototype,d.prototype=new P,d.prototype.constructor=d,d.Qb=function(R,L,U){for(var Z=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)Z[Be-2]=arguments[Be];return x.prototype[L].apply(R,Z)}}function m(d){const x=d.length;if(0<x){const P=Array(x);for(let R=0;R<x;R++)P[R]=d[R];return P}return[]}function b(d,x){for(let P=1;P<arguments.length;P++){const R=arguments[P];if(l(R)){const L=d.length||0,U=R.length||0;d.length=L+U;for(let Z=0;Z<U;Z++)d[L+Z]=R[Z]}else d.push(R)}}class v{constructor(x,P){this.i=x,this.j=P,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function _(d){return/^[\s\xa0]*$/.test(d)}function w(){var d=s.navigator;return d&&(d=d.userAgent)?d:""}function I(d){return I[" "](d),d}I[" "]=function(){};var T=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function O(d,x,P){for(const R in d)x.call(P,d[R],R,d)}function S(d,x){for(const P in d)x.call(void 0,d[P],P,d)}function E(d){const x={};for(const P in d)x[P]=d[P];return x}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(d,x){let P,R;for(let L=1;L<arguments.length;L++){R=arguments[L];for(P in R)d[P]=R[P];for(let U=0;U<A.length;U++)P=A[U],Object.prototype.hasOwnProperty.call(R,P)&&(d[P]=R[P])}}function k(d){var x=1;d=d.split(":");const P=[];for(;0<x&&d.length;)P.push(d.shift()),x--;return d.length&&P.push(d.join(":")),P}function j(d){s.setTimeout(()=>{throw d},0)}function N(){var d=z;let x=null;return d.g&&(x=d.g,d.g=d.g.next,d.g||(d.h=null),x.next=null),x}class F{constructor(){this.h=this.g=null}add(x,P){const R=$.get();R.set(x,P),this.h?this.h.next=R:this.g=R,this.h=R}}var $=new v(()=>new B,d=>d.reset());class B{constructor(){this.next=this.g=this.h=null}set(x,P){this.h=x,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let W,V=!1,z=new F,Y=()=>{const d=s.Promise.resolve(void 0);W=()=>{d.then(ee)}};var ee=()=>{for(var d;d=N();){try{d.h.call(d.g)}catch(P){j(P)}var x=$;x.j(d),100>x.h&&(x.h++,d.next=x.g,x.g=d)}V=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(d,x){this.type=d,this.g=this.target=x,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var Ee=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var d=!1,x=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const P=()=>{};s.addEventListener("test",P,x),s.removeEventListener("test",P,x)}catch{}return d}();function Ne(d,x){if(re.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var P=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=x,x=d.relatedTarget){if(T){e:{try{I(x.nodeName);var L=!0;break e}catch{}L=!1}L||(x=null)}}else P=="mouseover"?x=d.fromElement:P=="mouseout"&&(x=d.toElement);this.relatedTarget=x,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:it[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ne.aa.h.call(this)}}y(Ne,re);var it={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Dt="closure_listenable_"+(1e6*Math.random()|0),Kt=0;function te(d,x,P,R,L){this.listener=d,this.proxy=null,this.src=x,this.type=P,this.capture=!!R,this.ha=L,this.key=++Kt,this.da=this.fa=!1}function fe(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function pe(d){this.src=d,this.g={},this.h=0}pe.prototype.add=function(d,x,P,R,L){var U=d.toString();d=this.g[U],d||(d=this.g[U]=[],this.h++);var Z=We(d,x,R,L);return-1<Z?(x=d[Z],P||(x.fa=!1)):(x=new te(x,this.src,U,!!R,L),x.fa=P,d.push(x)),x};function G(d,x){var P=x.type;if(P in d.g){var R=d.g[P],L=Array.prototype.indexOf.call(R,x,void 0),U;(U=0<=L)&&Array.prototype.splice.call(R,L,1),U&&(fe(x),d.g[P].length==0&&(delete d.g[P],d.h--))}}function We(d,x,P,R){for(var L=0;L<d.length;++L){var U=d[L];if(!U.da&&U.listener==x&&U.capture==!!P&&U.ha==R)return L}return-1}var _e="closure_lm_"+(1e6*Math.random()|0),at={};function ct(d,x,P,R,L){if(Array.isArray(x)){for(var U=0;U<x.length;U++)ct(d,x[U],P,R,L);return null}return P=eu(P),d&&d[Dt]?d.K(x,P,u(R)?!!R.capture:!1,L):Yt(d,x,P,!1,R,L)}function Yt(d,x,P,R,L,U){if(!x)throw Error("Invalid event type");var Z=u(L)?!!L.capture:!!L,Be=Ua(d);if(Be||(d[_e]=Be=new pe(d)),P=Be.add(x,P,R,Z,U),P.proxy)return P;if(R=kn(),P.proxy=R,R.src=d,R.listener=P,d.addEventListener)Ee||(L=Z),L===void 0&&(L=!1),d.addEventListener(x.toString(),R,L);else if(d.attachEvent)d.attachEvent(Cn(x.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return P}function kn(){function d(P){return x.call(d.src,d.listener,P)}const x=ti;return d}function ei(d,x,P,R,L){if(Array.isArray(x))for(var U=0;U<x.length;U++)ei(d,x[U],P,R,L);else R=u(R)?!!R.capture:!!R,P=eu(P),d&&d[Dt]?(d=d.i,x=String(x).toString(),x in d.g&&(U=d.g[x],P=We(U,P,R,L),-1<P&&(fe(U[P]),Array.prototype.splice.call(U,P,1),U.length==0&&(delete d.g[x],d.h--)))):d&&(d=Ua(d))&&(x=d.g[x.toString()],d=-1,x&&(d=We(x,P,R,L)),(P=-1<d?x[d]:null)&&zi(P))}function zi(d){if(typeof d!="number"&&d&&!d.da){var x=d.src;if(x&&x[Dt])G(x.i,d);else{var P=d.type,R=d.proxy;x.removeEventListener?x.removeEventListener(P,R,d.capture):x.detachEvent?x.detachEvent(Cn(P),R):x.addListener&&x.removeListener&&x.removeListener(R),(P=Ua(x))?(G(P,d),P.h==0&&(P.src=null,x[_e]=null)):fe(d)}}}function Cn(d){return d in at?at[d]:at[d]="on"+d}function ti(d,x){if(d.da)d=!0;else{x=new Ne(x,this);var P=d.listener,R=d.ha||d.src;d.fa&&zi(d),d=P.call(R,x)}return d}function Ua(d){return d=d[_e],d instanceof pe?d:null}var Ho="__closure_events_fn_"+(1e9*Math.random()>>>0);function eu(d){return typeof d=="function"?d:(d[Ho]||(d[Ho]=function(x){return d.handleEvent(x)}),d[Ho])}function Qt(){Q.call(this),this.i=new pe(this),this.M=this,this.F=null}y(Qt,Q),Qt.prototype[Dt]=!0,Qt.prototype.removeEventListener=function(d,x,P,R){ei(this,d,x,P,R)};function cr(d,x){var P,R=d.F;if(R)for(P=[];R;R=R.F)P.push(R);if(d=d.M,R=x.type||x,typeof x=="string")x=new re(x,d);else if(x instanceof re)x.target=x.target||d;else{var L=x;x=new re(R,d),C(x,L)}if(L=!0,P)for(var U=P.length-1;0<=U;U--){var Z=x.g=P[U];L=Gf(Z,R,!0,x)&&L}if(Z=x.g=d,L=Gf(Z,R,!0,x)&&L,L=Gf(Z,R,!1,x)&&L,P)for(U=0;U<P.length;U++)Z=x.g=P[U],L=Gf(Z,R,!1,x)&&L}Qt.prototype.N=function(){if(Qt.aa.N.call(this),this.i){var d=this.i,x;for(x in d.g){for(var P=d.g[x],R=0;R<P.length;R++)fe(P[R]);delete d.g[x],d.h--}}this.F=null},Qt.prototype.K=function(d,x,P,R){return this.i.add(String(d),x,!1,P,R)},Qt.prototype.L=function(d,x,P,R){return this.i.add(String(d),x,!0,P,R)};function Gf(d,x,P,R){if(x=d.i.g[String(x)],!x)return!0;x=x.concat();for(var L=!0,U=0;U<x.length;++U){var Z=x[U];if(Z&&!Z.da&&Z.capture==P){var Be=Z.listener,Lt=Z.ha||Z.src;Z.fa&&G(d.i,Z),L=Be.call(Lt,R)!==!1&&L}}return L&&!R.defaultPrevented}function u1(d,x,P){if(typeof d=="function")P&&(d=h(d,P));else if(d&&typeof d.handleEvent=="function")d=h(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:s.setTimeout(d,x||0)}function c1(d){d.g=u1(()=>{d.g=null,d.i&&(d.i=!1,c1(d))},d.l);const x=d.h;d.h=null,d.m.apply(null,x)}class ED extends Q{constructor(x,P){super(),this.m=x,this.l=P,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:c1(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tu(d){Q.call(this),this.h=d,this.g={}}y(tu,Q);var f1=[];function d1(d){O(d.g,function(x,P){this.g.hasOwnProperty(P)&&zi(x)},d),d.g={}}tu.prototype.N=function(){tu.aa.N.call(this),d1(this)},tu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dg=s.JSON.stringify,SD=s.JSON.parse,AD=class{stringify(d){return s.JSON.stringify(d,void 0)}parse(d){return s.JSON.parse(d,void 0)}};function Lg(){}Lg.prototype.h=null;function h1(d){return d.h||(d.h=d.i())}function p1(){}var ru={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fg(){re.call(this,"d")}y(Fg,re);function Vg(){re.call(this,"c")}y(Vg,re);var za={},m1=null;function Kf(){return m1=m1||new Qt}za.La="serverreachability";function g1(d){re.call(this,za.La,d)}y(g1,re);function nu(d){const x=Kf();cr(x,new g1(x))}za.STAT_EVENT="statevent";function v1(d,x){re.call(this,za.STAT_EVENT,d),this.stat=x}y(v1,re);function fr(d){const x=Kf();cr(x,new v1(x,d))}za.Ma="timingevent";function y1(d,x){re.call(this,za.Ma,d),this.size=x}y(y1,re);function iu(d,x){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){d()},x)}function au(){this.g=!0}au.prototype.xa=function(){this.g=!1};function TD(d,x,P,R,L,U){d.info(function(){if(d.g)if(U)for(var Z="",Be=U.split("&"),Lt=0;Lt<Be.length;Lt++){var Pe=Be[Lt].split("=");if(1<Pe.length){var Xt=Pe[0];Pe=Pe[1];var Jt=Xt.split("_");Z=2<=Jt.length&&Jt[1]=="type"?Z+(Xt+"="+Pe+"&"):Z+(Xt+"=redacted&")}}else Z=null;else Z=U;return"XMLHTTP REQ ("+R+") [attempt "+L+"]: "+x+`
`+P+`
`+Z})}function PD(d,x,P,R,L,U,Z){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+L+"]: "+x+`
`+P+`
`+U+" "+Z})}function Go(d,x,P,R){d.info(function(){return"XMLHTTP TEXT ("+x+"): "+ID(d,P)+(R?" "+R:"")})}function OD(d,x){d.info(function(){return"TIMEOUT: "+x})}au.prototype.info=function(){};function ID(d,x){if(!d.g)return x;if(!x)return null;try{var P=JSON.parse(x);if(P){for(d=0;d<P.length;d++)if(Array.isArray(P[d])){var R=P[d];if(!(2>R.length)){var L=R[1];if(Array.isArray(L)&&!(1>L.length)){var U=L[0];if(U!="noop"&&U!="stop"&&U!="close")for(var Z=1;Z<L.length;Z++)L[Z]=""}}}}return Dg(P)}catch{return x}}var Yf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_1={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bg;function Qf(){}y(Qf,Lg),Qf.prototype.g=function(){return new XMLHttpRequest},Qf.prototype.i=function(){return{}},Bg=new Qf;function Wi(d,x,P,R){this.j=d,this.i=x,this.l=P,this.R=R||1,this.U=new tu(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new b1}function b1(){this.i=null,this.g="",this.h=!1}var w1={},Ug={};function zg(d,x,P){d.L=1,d.v=ed(ri(x)),d.m=P,d.P=!0,x1(d,null)}function x1(d,x){d.F=Date.now(),Xf(d),d.A=ri(d.v);var P=d.A,R=d.R;Array.isArray(R)||(R=[String(R)]),$1(P.i,"t",R),d.C=0,P=d.j.J,d.h=new b1,d.g=eE(d.j,P?x:null,!d.m),0<d.O&&(d.M=new ED(h(d.Y,d,d.g),d.O)),x=d.U,P=d.g,R=d.ca;var L="readystatechange";Array.isArray(L)||(L&&(f1[0]=L.toString()),L=f1);for(var U=0;U<L.length;U++){var Z=ct(P,L[U],R||x.handleEvent,!1,x.h||x);if(!Z)break;x.g[Z.key]=Z}x=d.H?E(d.H):{},d.m?(d.u||(d.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,x)):(d.u="GET",d.g.ea(d.A,d.u,null,x)),nu(),TD(d.i,d.u,d.A,d.l,d.R,d.m)}Wi.prototype.ca=function(d){d=d.target;const x=this.M;x&&ni(d)==3?x.j():this.Y(d)},Wi.prototype.Y=function(d){try{if(d==this.g)e:{const Jt=ni(this.g);var x=this.g.Ba();const Qo=this.g.Z();if(!(3>Jt)&&(Jt!=3||this.g&&(this.h.h||this.g.oa()||z1(this.g)))){this.J||Jt!=4||x==7||(x==8||0>=Qo?nu(3):nu(2)),Wg(this);var P=this.g.Z();this.X=P;t:if(E1(this)){var R=z1(this.g);d="";var L=R.length,U=ni(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wa(this),ou(this);var Z="";break t}this.h.i=new s.TextDecoder}for(x=0;x<L;x++)this.h.h=!0,d+=this.h.i.decode(R[x],{stream:!(U&&x==L-1)});R.length=0,this.h.g+=d,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=P==200,PD(this.i,this.u,this.A,this.l,this.R,Jt,P),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,Lt=this.g;if((Be=Lt.g?Lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Be)){var Pe=Be;break t}}Pe=null}if(P=Pe)Go(this.i,this.l,P,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qg(this,P);else{this.o=!1,this.s=3,fr(12),Wa(this),ou(this);break e}}if(this.P){P=!0;let dn;for(;!this.J&&this.C<Z.length;)if(dn=kD(this,Z),dn==Ug){Jt==4&&(this.s=4,fr(14),P=!1),Go(this.i,this.l,null,"[Incomplete Response]");break}else if(dn==w1){this.s=4,fr(15),Go(this.i,this.l,Z,"[Invalid Chunk]"),P=!1;break}else Go(this.i,this.l,dn,null),qg(this,dn);if(E1(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Jt!=4||Z.length!=0||this.h.h||(this.s=1,fr(16),P=!1),this.o=this.o&&P,!P)Go(this.i,this.l,Z,"[Invalid Chunked Response]"),Wa(this),ou(this);else if(0<Z.length&&!this.W){this.W=!0;var Xt=this.j;Xt.g==this&&Xt.ba&&!Xt.M&&(Xt.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),Xg(Xt),Xt.M=!0,fr(11))}}else Go(this.i,this.l,Z,null),qg(this,Z);Jt==4&&Wa(this),this.o&&!this.J&&(Jt==4?Q1(this.j,this):(this.o=!1,Xf(this)))}else GD(this.g),P==400&&0<Z.indexOf("Unknown SID")?(this.s=3,fr(12)):(this.s=0,fr(13)),Wa(this),ou(this)}}}catch{}finally{}};function E1(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function kD(d,x){var P=d.C,R=x.indexOf(`
`,P);return R==-1?Ug:(P=Number(x.substring(P,R)),isNaN(P)?w1:(R+=1,R+P>x.length?Ug:(x=x.slice(R,R+P),d.C=R+P,x)))}Wi.prototype.cancel=function(){this.J=!0,Wa(this)};function Xf(d){d.S=Date.now()+d.I,S1(d,d.I)}function S1(d,x){if(d.B!=null)throw Error("WatchDog timer not null");d.B=iu(h(d.ba,d),x)}function Wg(d){d.B&&(s.clearTimeout(d.B),d.B=null)}Wi.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(OD(this.i,this.A),this.L!=2&&(nu(),fr(17)),Wa(this),this.s=2,ou(this)):S1(this,this.S-d)};function ou(d){d.j.G==0||d.J||Q1(d.j,d)}function Wa(d){Wg(d);var x=d.M;x&&typeof x.ma=="function"&&x.ma(),d.M=null,d1(d.U),d.g&&(x=d.g,d.g=null,x.abort(),x.ma())}function qg(d,x){try{var P=d.j;if(P.G!=0&&(P.g==d||Hg(P.h,d))){if(!d.K&&Hg(P.h,d)&&P.G==3){try{var R=P.Da.g.parse(x)}catch{R=null}if(Array.isArray(R)&&R.length==3){var L=R;if(L[0]==0){e:if(!P.u){if(P.g)if(P.g.F+3e3<d.F)od(P),id(P);else break e;Qg(P),fr(18)}}else P.za=L[1],0<P.za-P.T&&37500>L[2]&&P.F&&P.v==0&&!P.C&&(P.C=iu(h(P.Za,P),6e3));if(1>=P1(P.h)&&P.ca){try{P.ca()}catch{}P.ca=void 0}}else Ha(P,11)}else if((d.K||P.g==d)&&od(P),!_(x))for(L=P.Da.g.parse(x),x=0;x<L.length;x++){let Pe=L[x];if(P.T=Pe[0],Pe=Pe[1],P.G==2)if(Pe[0]=="c"){P.K=Pe[1],P.ia=Pe[2];const Xt=Pe[3];Xt!=null&&(P.la=Xt,P.j.info("VER="+P.la));const Jt=Pe[4];Jt!=null&&(P.Aa=Jt,P.j.info("SVER="+P.Aa));const Qo=Pe[5];Qo!=null&&typeof Qo=="number"&&0<Qo&&(R=1.5*Qo,P.L=R,P.j.info("backChannelRequestTimeoutMs_="+R)),R=P;const dn=d.g;if(dn){const ld=dn.g?dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ld){var U=R.h;U.g||ld.indexOf("spdy")==-1&&ld.indexOf("quic")==-1&&ld.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(Gg(U,U.h),U.h=null))}if(R.D){const Jg=dn.g?dn.g.getResponseHeader("X-HTTP-Session-Id"):null;Jg&&(R.ya=Jg,Ye(R.I,R.D,Jg))}}P.G=3,P.l&&P.l.ua(),P.ba&&(P.R=Date.now()-d.F,P.j.info("Handshake RTT: "+P.R+"ms")),R=P;var Z=d;if(R.qa=Z1(R,R.J?R.ia:null,R.W),Z.K){O1(R.h,Z);var Be=Z,Lt=R.L;Lt&&(Be.I=Lt),Be.B&&(Wg(Be),Xf(Be)),R.g=Z}else K1(R);0<P.i.length&&ad(P)}else Pe[0]!="stop"&&Pe[0]!="close"||Ha(P,7);else P.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?Ha(P,7):Yg(P):Pe[0]!="noop"&&P.l&&P.l.ta(Pe),P.v=0)}}nu(4)}catch{}}var CD=class{constructor(d,x){this.g=d,this.map=x}};function A1(d){this.l=d||10,s.PerformanceNavigationTiming?(d=s.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function T1(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function P1(d){return d.h?1:d.g?d.g.size:0}function Hg(d,x){return d.h?d.h==x:d.g?d.g.has(x):!1}function Gg(d,x){d.g?d.g.add(x):d.h=x}function O1(d,x){d.h&&d.h==x?d.h=null:d.g&&d.g.has(x)&&d.g.delete(x)}A1.prototype.cancel=function(){if(this.i=I1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function I1(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let x=d.i;for(const P of d.g.values())x=x.concat(P.D);return x}return m(d.i)}function ND(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var x=[],P=d.length,R=0;R<P;R++)x.push(d[R]);return x}x=[],P=0;for(R in d)x[P++]=d[R];return x}function jD(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var x=[];d=d.length;for(var P=0;P<d;P++)x.push(P);return x}x=[],P=0;for(const R in d)x[P++]=R;return x}}}function k1(d,x){if(d.forEach&&typeof d.forEach=="function")d.forEach(x,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,x,void 0);else for(var P=jD(d),R=ND(d),L=R.length,U=0;U<L;U++)x.call(void 0,R[U],P&&P[U],d)}var C1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function RD(d,x){if(d){d=d.split("&");for(var P=0;P<d.length;P++){var R=d[P].indexOf("="),L=null;if(0<=R){var U=d[P].substring(0,R);L=d[P].substring(R+1)}else U=d[P];x(U,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function qa(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof qa){this.h=d.h,Jf(this,d.j),this.o=d.o,this.g=d.g,Zf(this,d.s),this.l=d.l;var x=d.i,P=new uu;P.i=x.i,x.g&&(P.g=new Map(x.g),P.h=x.h),N1(this,P),this.m=d.m}else d&&(x=String(d).match(C1))?(this.h=!1,Jf(this,x[1]||"",!0),this.o=su(x[2]||""),this.g=su(x[3]||"",!0),Zf(this,x[4]),this.l=su(x[5]||"",!0),N1(this,x[6]||"",!0),this.m=su(x[7]||"")):(this.h=!1,this.i=new uu(null,this.h))}qa.prototype.toString=function(){var d=[],x=this.j;x&&d.push(lu(x,j1,!0),":");var P=this.g;return(P||x=="file")&&(d.push("//"),(x=this.o)&&d.push(lu(x,j1,!0),"@"),d.push(encodeURIComponent(String(P)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.s,P!=null&&d.push(":",String(P))),(P=this.l)&&(this.g&&P.charAt(0)!="/"&&d.push("/"),d.push(lu(P,P.charAt(0)=="/"?DD:$D,!0))),(P=this.i.toString())&&d.push("?",P),(P=this.m)&&d.push("#",lu(P,FD)),d.join("")};function ri(d){return new qa(d)}function Jf(d,x,P){d.j=P?su(x,!0):x,d.j&&(d.j=d.j.replace(/:$/,""))}function Zf(d,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);d.s=x}else d.s=null}function N1(d,x,P){x instanceof uu?(d.i=x,VD(d.i,d.h)):(P||(x=lu(x,LD)),d.i=new uu(x,d.h))}function Ye(d,x,P){d.i.set(x,P)}function ed(d){return Ye(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function su(d,x){return d?x?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function lu(d,x,P){return typeof d=="string"?(d=encodeURI(d).replace(x,MD),P&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function MD(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var j1=/[#\/\?@]/g,$D=/[#\?:]/g,DD=/[#\?]/g,LD=/[#\?@]/g,FD=/#/g;function uu(d,x){this.h=this.g=null,this.i=d||null,this.j=!!x}function qi(d){d.g||(d.g=new Map,d.h=0,d.i&&RD(d.i,function(x,P){d.add(decodeURIComponent(x.replace(/\+/g," ")),P)}))}t=uu.prototype,t.add=function(d,x){qi(this),this.i=null,d=Ko(this,d);var P=this.g.get(d);return P||this.g.set(d,P=[]),P.push(x),this.h+=1,this};function R1(d,x){qi(d),x=Ko(d,x),d.g.has(x)&&(d.i=null,d.h-=d.g.get(x).length,d.g.delete(x))}function M1(d,x){return qi(d),x=Ko(d,x),d.g.has(x)}t.forEach=function(d,x){qi(this),this.g.forEach(function(P,R){P.forEach(function(L){d.call(x,L,R,this)},this)},this)},t.na=function(){qi(this);const d=Array.from(this.g.values()),x=Array.from(this.g.keys()),P=[];for(let R=0;R<x.length;R++){const L=d[R];for(let U=0;U<L.length;U++)P.push(x[R])}return P},t.V=function(d){qi(this);let x=[];if(typeof d=="string")M1(this,d)&&(x=x.concat(this.g.get(Ko(this,d))));else{d=Array.from(this.g.values());for(let P=0;P<d.length;P++)x=x.concat(d[P])}return x},t.set=function(d,x){return qi(this),this.i=null,d=Ko(this,d),M1(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[x]),this.h+=1,this},t.get=function(d,x){return d?(d=this.V(d),0<d.length?String(d[0]):x):x};function $1(d,x,P){R1(d,x),0<P.length&&(d.i=null,d.g.set(Ko(d,x),m(P)),d.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],x=Array.from(this.g.keys());for(var P=0;P<x.length;P++){var R=x[P];const U=encodeURIComponent(String(R)),Z=this.V(R);for(R=0;R<Z.length;R++){var L=U;Z[R]!==""&&(L+="="+encodeURIComponent(String(Z[R]))),d.push(L)}}return this.i=d.join("&")};function Ko(d,x){return x=String(x),d.j&&(x=x.toLowerCase()),x}function VD(d,x){x&&!d.j&&(qi(d),d.i=null,d.g.forEach(function(P,R){var L=R.toLowerCase();R!=L&&(R1(this,R),$1(this,L,P))},d)),d.j=x}function BD(d,x){const P=new au;if(s.Image){const R=new Image;R.onload=p(Hi,P,"TestLoadImage: loaded",!0,x,R),R.onerror=p(Hi,P,"TestLoadImage: error",!1,x,R),R.onabort=p(Hi,P,"TestLoadImage: abort",!1,x,R),R.ontimeout=p(Hi,P,"TestLoadImage: timeout",!1,x,R),s.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else x(!1)}function UD(d,x){const P=new au,R=new AbortController,L=setTimeout(()=>{R.abort(),Hi(P,"TestPingServer: timeout",!1,x)},1e4);fetch(d,{signal:R.signal}).then(U=>{clearTimeout(L),U.ok?Hi(P,"TestPingServer: ok",!0,x):Hi(P,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(L),Hi(P,"TestPingServer: error",!1,x)})}function Hi(d,x,P,R,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),R(P)}catch{}}function zD(){this.g=new AD}function WD(d,x,P){const R=P||"";try{k1(d,function(L,U){let Z=L;u(L)&&(Z=Dg(L)),x.push(R+U+"="+encodeURIComponent(Z))})}catch(L){throw x.push(R+"type="+encodeURIComponent("_badmap")),L}}function td(d){this.l=d.Ub||null,this.j=d.eb||!1}y(td,Lg),td.prototype.g=function(){return new rd(this.l,this.j)},td.prototype.i=function(d){return function(){return d}}({});function rd(d,x){Qt.call(this),this.D=d,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(rd,Qt),t=rd.prototype,t.open=function(d,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=x,this.readyState=1,fu(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(x.body=d),(this.D||s).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,cu(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,fu(this)),this.g&&(this.readyState=3,fu(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;D1(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function D1(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var x=d.value?d.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!d.done}))&&(this.response=this.responseText+=x)}d.done?cu(this):fu(this),this.readyState==3&&D1(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,cu(this))},t.Qa=function(d){this.g&&(this.response=d,cu(this))},t.ga=function(){this.g&&cu(this)};function cu(d){d.readyState=4,d.l=null,d.j=null,d.v=null,fu(d)}t.setRequestHeader=function(d,x){this.u.append(d,x)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],x=this.h.entries();for(var P=x.next();!P.done;)P=P.value,d.push(P[0]+": "+P[1]),P=x.next();return d.join(`\r
`)};function fu(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(rd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function L1(d){let x="";return O(d,function(P,R){x+=R,x+=":",x+=P,x+=`\r
`}),x}function Kg(d,x,P){e:{for(R in P){var R=!1;break e}R=!0}R||(P=L1(P),typeof d=="string"?P!=null&&encodeURIComponent(String(P)):Ye(d,x,P))}function ft(d){Qt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(ft,Qt);var qD=/^https?$/i,HD=["POST","PUT"];t=ft.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,x,P,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);x=x?x.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bg.g(),this.v=this.o?h1(this.o):h1(Bg),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(x,String(d),!0),this.B=!1}catch(U){F1(this,U);return}if(d=P||"",P=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var L in R)P.set(L,R[L]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const U of R.keys())P.set(U,R.get(U));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(P.keys()).find(U=>U.toLowerCase()=="content-type"),L=s.FormData&&d instanceof s.FormData,!(0<=Array.prototype.indexOf.call(HD,x,void 0))||R||L||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,Z]of P)this.g.setRequestHeader(U,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{U1(this),this.u=!0,this.g.send(d),this.u=!1}catch(U){F1(this,U)}};function F1(d,x){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=x,d.m=5,V1(d),nd(d)}function V1(d){d.A||(d.A=!0,cr(d,"complete"),cr(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,cr(this,"complete"),cr(this,"abort"),nd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nd(this,!0)),ft.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?B1(this):this.bb())},t.bb=function(){B1(this)};function B1(d){if(d.h&&typeof o<"u"&&(!d.v[1]||ni(d)!=4||d.Z()!=2)){if(d.u&&ni(d)==4)u1(d.Ea,0,d);else if(cr(d,"readystatechange"),ni(d)==4){d.h=!1;try{const Z=d.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var P;if(!(P=x)){var R;if(R=Z===0){var L=String(d.D).match(C1)[1]||null;!L&&s.self&&s.self.location&&(L=s.self.location.protocol.slice(0,-1)),R=!qD.test(L?L.toLowerCase():"")}P=R}if(P)cr(d,"complete"),cr(d,"success");else{d.m=6;try{var U=2<ni(d)?d.g.statusText:""}catch{U=""}d.l=U+" ["+d.Z()+"]",V1(d)}}finally{nd(d)}}}}function nd(d,x){if(d.g){U1(d);const P=d.g,R=d.v[0]?()=>{}:null;d.g=null,d.v=null,x||cr(d,"ready");try{P.onreadystatechange=R}catch{}}}function U1(d){d.I&&(s.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function ni(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<ni(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var x=this.g.responseText;return d&&x.indexOf(d)==0&&(x=x.substring(d.length)),SD(x)}};function z1(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function GD(d){const x={};d=(d.g&&2<=ni(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(_(d[R]))continue;var P=k(d[R]);const L=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const U=x[L]||[];x[L]=U,U.push(P)}S(x,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function du(d,x,P){return P&&P.internalChannelParams&&P.internalChannelParams[d]||x}function W1(d){this.Aa=0,this.i=[],this.j=new au,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=du("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=du("baseRetryDelayMs",5e3,d),this.cb=du("retryDelaySeedMs",1e4,d),this.Wa=du("forwardChannelMaxRetries",2,d),this.wa=du("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new A1(d&&d.concurrentRequestLimit),this.Da=new zD,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=W1.prototype,t.la=8,t.G=1,t.connect=function(d,x,P,R){fr(0),this.W=d,this.H=x||{},P&&R!==void 0&&(this.H.OSID=P,this.H.OAID=R),this.F=this.X,this.I=Z1(this,null,this.W),ad(this)};function Yg(d){if(q1(d),d.G==3){var x=d.U++,P=ri(d.I);if(Ye(P,"SID",d.K),Ye(P,"RID",x),Ye(P,"TYPE","terminate"),hu(d,P),x=new Wi(d,d.j,x),x.L=2,x.v=ed(ri(P)),P=!1,s.navigator&&s.navigator.sendBeacon)try{P=s.navigator.sendBeacon(x.v.toString(),"")}catch{}!P&&s.Image&&(new Image().src=x.v,P=!0),P||(x.g=eE(x.j,null),x.g.ea(x.v)),x.F=Date.now(),Xf(x)}J1(d)}function id(d){d.g&&(Xg(d),d.g.cancel(),d.g=null)}function q1(d){id(d),d.u&&(s.clearTimeout(d.u),d.u=null),od(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&s.clearTimeout(d.s),d.s=null)}function ad(d){if(!T1(d.h)&&!d.s){d.s=!0;var x=d.Ga;W||Y(),V||(W(),V=!0),z.add(x,d),d.B=0}}function KD(d,x){return P1(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=x.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=iu(h(d.Ga,d,x),X1(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const L=new Wi(this,this.j,d);let U=this.o;if(this.S&&(U?(U=E(U),C(U,this.S)):U=this.S),this.m!==null||this.O||(L.H=U,U=null),this.P)e:{for(var x=0,P=0;P<this.i.length;P++){t:{var R=this.i[P];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(x+=R,4096<x){x=P;break e}if(x===4096||P===this.i.length-1){x=P+1;break e}}x=1e3}else x=1e3;x=G1(this,L,x),P=ri(this.I),Ye(P,"RID",d),Ye(P,"CVER",22),this.D&&Ye(P,"X-HTTP-Session-Id",this.D),hu(this,P),U&&(this.O?x="headers="+encodeURIComponent(String(L1(U)))+"&"+x:this.m&&Kg(P,this.m,U)),Gg(this.h,L),this.Ua&&Ye(P,"TYPE","init"),this.P?(Ye(P,"$req",x),Ye(P,"SID","null"),L.T=!0,zg(L,P,null)):zg(L,P,x),this.G=2}}else this.G==3&&(d?H1(this,d):this.i.length==0||T1(this.h)||H1(this))};function H1(d,x){var P;x?P=x.l:P=d.U++;const R=ri(d.I);Ye(R,"SID",d.K),Ye(R,"RID",P),Ye(R,"AID",d.T),hu(d,R),d.m&&d.o&&Kg(R,d.m,d.o),P=new Wi(d,d.j,P,d.B+1),d.m===null&&(P.H=d.o),x&&(d.i=x.D.concat(d.i)),x=G1(d,P,1e3),P.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Gg(d.h,P),zg(P,R,x)}function hu(d,x){d.H&&O(d.H,function(P,R){Ye(x,R,P)}),d.l&&k1({},function(P,R){Ye(x,R,P)})}function G1(d,x,P){P=Math.min(d.i.length,P);var R=d.l?h(d.l.Na,d.l,d):null;e:{var L=d.i;let U=-1;for(;;){const Z=["count="+P];U==-1?0<P?(U=L[0].g,Z.push("ofs="+U)):U=0:Z.push("ofs="+U);let Be=!0;for(let Lt=0;Lt<P;Lt++){let Pe=L[Lt].g;const Xt=L[Lt].map;if(Pe-=U,0>Pe)U=Math.max(0,L[Lt].g-100),Be=!1;else try{WD(Xt,Z,"req"+Pe+"_")}catch{R&&R(Xt)}}if(Be){R=Z.join("&");break e}}}return d=d.i.splice(0,P),x.D=d,R}function K1(d){if(!d.g&&!d.u){d.Y=1;var x=d.Fa;W||Y(),V||(W(),V=!0),z.add(x,d),d.v=0}}function Qg(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=iu(h(d.Fa,d),X1(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Y1(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=iu(h(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,fr(10),id(this),Y1(this))};function Xg(d){d.A!=null&&(s.clearTimeout(d.A),d.A=null)}function Y1(d){d.g=new Wi(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var x=ri(d.qa);Ye(x,"RID","rpc"),Ye(x,"SID",d.K),Ye(x,"AID",d.T),Ye(x,"CI",d.F?"0":"1"),!d.F&&d.ja&&Ye(x,"TO",d.ja),Ye(x,"TYPE","xmlhttp"),hu(d,x),d.m&&d.o&&Kg(x,d.m,d.o),d.L&&(d.g.I=d.L);var P=d.g;d=d.ia,P.L=1,P.v=ed(ri(x)),P.m=null,P.P=!0,x1(P,d)}t.Za=function(){this.C!=null&&(this.C=null,id(this),Qg(this),fr(19))};function od(d){d.C!=null&&(s.clearTimeout(d.C),d.C=null)}function Q1(d,x){var P=null;if(d.g==x){od(d),Xg(d),d.g=null;var R=2}else if(Hg(d.h,x))P=x.D,O1(d.h,x),R=1;else return;if(d.G!=0){if(x.o)if(R==1){P=x.m?x.m.length:0,x=Date.now()-x.F;var L=d.B;R=Kf(),cr(R,new y1(R,P)),ad(d)}else K1(d);else if(L=x.s,L==3||L==0&&0<x.X||!(R==1&&KD(d,x)||R==2&&Qg(d)))switch(P&&0<P.length&&(x=d.h,x.i=x.i.concat(P)),L){case 1:Ha(d,5);break;case 4:Ha(d,10);break;case 3:Ha(d,6);break;default:Ha(d,2)}}}function X1(d,x){let P=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(P*=2),P*x}function Ha(d,x){if(d.j.info("Error code "+x),x==2){var P=h(d.fb,d),R=d.Xa;const L=!R;R=new qa(R||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Jf(R,"https"),ed(R),L?BD(R.toString(),P):UD(R.toString(),P)}else fr(2);d.G=0,d.l&&d.l.sa(x),J1(d),q1(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),fr(2)):(this.j.info("Failed to ping google.com"),fr(1))};function J1(d){if(d.G=0,d.ka=[],d.l){const x=I1(d.h);(x.length!=0||d.i.length!=0)&&(b(d.ka,x),b(d.ka,d.i),d.h.i.length=0,m(d.i),d.i.length=0),d.l.ra()}}function Z1(d,x,P){var R=P instanceof qa?ri(P):new qa(P);if(R.g!="")x&&(R.g=x+"."+R.g),Zf(R,R.s);else{var L=s.location;R=L.protocol,x=x?x+"."+L.hostname:L.hostname,L=+L.port;var U=new qa(null);R&&Jf(U,R),x&&(U.g=x),L&&Zf(U,L),P&&(U.l=P),R=U}return P=d.D,x=d.ya,P&&x&&Ye(R,P,x),Ye(R,"VER",d.la),hu(d,R),R}function eE(d,x,P){if(x&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=d.Ca&&!d.pa?new ft(new td({eb:P})):new ft(d.pa),x.Ha(d.J),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function tE(){}t=tE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function sd(){}sd.prototype.g=function(d,x){return new Nr(d,x)};function Nr(d,x){Qt.call(this),this.g=new W1(x),this.l=d,this.h=x&&x.messageUrlParams||null,d=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(d?d["X-WebChannel-Content-Type"]=x.messageContentType:d={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(d?d["X-WebChannel-Client-Profile"]=x.va:d={"X-WebChannel-Client-Profile":x.va}),this.g.S=d,(d=x&&x.Sb)&&!_(d)&&(this.g.m=d),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!_(x)&&(this.g.D=x,d=this.h,d!==null&&x in d&&(d=this.h,x in d&&delete d[x])),this.j=new Yo(this)}y(Nr,Qt),Nr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Nr.prototype.close=function(){Yg(this.g)},Nr.prototype.o=function(d){var x=this.g;if(typeof d=="string"){var P={};P.__data__=d,d=P}else this.u&&(P={},P.__data__=Dg(d),d=P);x.i.push(new CD(x.Ya++,d)),x.G==3&&ad(x)},Nr.prototype.N=function(){this.g.l=null,delete this.j,Yg(this.g),delete this.g,Nr.aa.N.call(this)};function rE(d){Fg.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var x=d.__sm__;if(x){e:{for(const P in x){d=P;break e}d=void 0}(this.i=d)&&(d=this.i,x=x!==null&&d in x?x[d]:void 0),this.data=x}else this.data=d}y(rE,Fg);function nE(){Vg.call(this),this.status=1}y(nE,Vg);function Yo(d){this.g=d}y(Yo,tE),Yo.prototype.ua=function(){cr(this.g,"a")},Yo.prototype.ta=function(d){cr(this.g,new rE(d))},Yo.prototype.sa=function(d){cr(this.g,new nE)},Yo.prototype.ra=function(){cr(this.g,"b")},sd.prototype.createWebChannel=sd.prototype.g,Nr.prototype.send=Nr.prototype.o,Nr.prototype.open=Nr.prototype.m,Nr.prototype.close=Nr.prototype.close,CN=function(){return new sd},kN=function(){return Kf()},IN=za,h0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Yf.NO_ERROR=0,Yf.TIMEOUT=8,Yf.HTTP_ERROR=6,uh=Yf,_1.COMPLETE="complete",ON=_1,p1.EventType=ru,ru.OPEN="a",ru.CLOSE="b",ru.ERROR="c",ru.MESSAGE="d",Qt.prototype.listen=Qt.prototype.K,Lu=p1,ft.prototype.listenOnce=ft.prototype.L,ft.prototype.getLastError=ft.prototype.Ka,ft.prototype.getLastErrorCode=ft.prototype.Ba,ft.prototype.getStatus=ft.prototype.Z,ft.prototype.getResponseJson=ft.prototype.Oa,ft.prototype.getResponseText=ft.prototype.oa,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Ha,PN=ft}).apply(typeof Od<"u"?Od:typeof self<"u"?self:typeof window<"u"?window:{});const PS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nr.UNAUTHENTICATED=new nr(null),nr.GOOGLE_CREDENTIALS=new nr("google-credentials-uid"),nr.FIRST_PARTY=new nr("first-party-uid"),nr.MOCK_USER=new nr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rl="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=new nw("@firebase/firestore");function xu(){return Po.logLevel}function oe(t,...e){if(Po.logLevel<=Se.DEBUG){const r=e.map(aw);Po.debug(`Firestore (${Rl}): ${t}`,...r)}}function Ii(t,...e){if(Po.logLevel<=Se.ERROR){const r=e.map(aw);Po.error(`Firestore (${Rl}): ${t}`,...r)}}function Ys(t,...e){if(Po.logLevel<=Se.WARN){const r=e.map(aw);Po.warn(`Firestore (${Rl}): ${t}`,...r)}}function aw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(t="Unexpected state"){const e=`FIRESTORE (${Rl}) INTERNAL ASSERTION FAILED: `+t;throw Ii(e),new Error(e)}function De(t,e){t||he()}function ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends Fi{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class SB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(nr.UNAUTHENTICATED))}shutdown(){}}class AB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class TB{constructor(e){this.t=e,this.currentUser=nr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){De(this.o===void 0);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let a=new Ea;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ea,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ea)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(De(typeof n.accessToken=="string"),new NN(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return De(e===null||typeof e=="string"),new nr(e)}}class PB{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=nr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class OB{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new PB(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(nr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class IB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kB{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){De(this.o===void 0);const n=a=>{a.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.R;return this.R=a.token,oe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(De(typeof r.token=="string"),this.R=r.token,new IB(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CB(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=CB(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%e.length))}return n}}function Ie(t,e){return t<e?-1:t>e?1:0}function Qs(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ae(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ae(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new ae(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ot.fromMillis(Date.now())}static fromDate(e){return Ot.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new Ot(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.timestamp=e}static fromTimestamp(e){return new me(e)}static min(){return new me(new Ot(0,0))}static max(){return new me(new Ot(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,r,n){r===void 0?r=0:r>e.length&&he(),n===void 0?n=e.length-r:n>e.length-r&&he(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Ic.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Ic?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=e.get(i),o=r.get(i);if(a<o)return-1;if(a>o)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Ze extends Ic{construct(e,r,n){return new Ze(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new ae(H.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Ze(r)}static emptyPath(){return new Ze([])}}const NB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zt extends Ic{construct(e,r,n){return new zt(e,r,n)}static isValidIdentifier(e){return NB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new zt(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new ae(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new ae(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ae(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(n+=s,i++):(a(),i++)}if(a(),o)throw new ae(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zt(r)}static emptyPath(){return new zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.path=e}static fromPath(e){return new se(Ze.fromString(e))}static fromName(e){return new se(Ze.fromString(e).popFirst(5))}static empty(){return new se(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Ze.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new Ze(e.slice()))}}function jB(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=me.fromTimestamp(n===1e9?new Ot(r+1,0):new Ot(r,n));return new Ia(i,se.empty(),e)}function RB(t){return new Ia(t.readTime,t.key,-1)}class Ia{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Ia(me.min(),se.empty(),-1)}static max(){return new Ia(me.max(),se.empty(),-1)}}function MB(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=se.comparator(t.documentKey,e.documentKey),r!==0?r:Ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $B="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function If(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==$B)throw t;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&he(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new K((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof K?r:K.resolve(r)}catch(r){return K.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):K.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):K.reject(r)}static resolve(e){return new K((r,n)=>{r(e)})}static reject(e){return new K((r,n)=>{n(e)})}static waitFor(e){return new K((r,n)=>{let i=0,a=0,o=!1;e.forEach(s=>{++i,s.next(()=>{++a,o&&a===i&&r()},l=>n(l))}),o=!0,a===i&&r()})}static or(e){let r=K.resolve(!1);for(const n of e)r=r.next(i=>i?K.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(e,r){return new K((n,i)=>{const a=e.length,o=new Array(a);let s=0;for(let l=0;l<a;l++){const u=l;r(e[u]).next(c=>{o[u]=c,++s,s===a&&n(o)},c=>i(c))}})}static doWhile(e,r){return new K((n,i)=>{const a=()=>{e()===!0?r().next(()=>{a()},i):n()};a()})}}function LB(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function kf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ow.oe=-1;function Im(t){return t==null}function Gh(t){return t===0&&1/t==-1/0}function FB(t){return typeof t=="number"&&Number.isInteger(t)&&!Gh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Ml(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function RN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,r){this.comparator=e,this.root=r||Bt.EMPTY}insert(e,r){return new ut(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Id(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Id(this.root,e,this.comparator,!1)}getReverseIterator(){return new Id(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Id(this.root,e,this.comparator,!0)}}class Id{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??Bt.RED,this.left=i??Bt.EMPTY,this.right=a??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new Bt(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Bt.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw he();const e=this.left.check();if(e!==this.right.check())throw he();return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw he()}get value(){throw he()}get color(){throw he()}get left(){throw he()}get right(){throw he()}copy(e,r,n,i,a){return this}insert(e,r,n){return new Bt(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new IS(this.data.getIterator())}getIteratorFrom(e){return new IS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new qt(this.comparator);return r.data=e,r}}class IS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new wn([])}unionWith(e){let r=new qt(zt.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new wn(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Qs(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new MN("Invalid base64 string: "+a):a}}(e);return new Gt(r)}static fromUint8Array(e){const r=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new Gt(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const VB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ka(t){if(De(!!t),typeof t=="string"){let e=0;const r=VB.exec(t);if(De(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:pt(t.seconds),nanos:pt(t.nanos)}}function pt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Oo(t){return typeof t=="string"?Gt.fromBase64String(t):Gt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function lw(t){const e=t.mapValue.fields.__previous_value__;return sw(e)?lw(e):e}function kc(t){const e=ka(t.mapValue.fields.__local_write_time__.timestampValue);return new Ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB{constructor(e,r,n,i,a,o,s,l,u){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u}}class Cc{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Cc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Cc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd={mapValue:{}};function Io(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?sw(t)?4:zB(t)?9007199254740991:UB(t)?10:11:he()}function Kn(t,e){if(t===e)return!0;const r=Io(t);if(r!==Io(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return kc(t).isEqual(kc(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=ka(i.timestampValue),s=ka(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Oo(i.bytesValue).isEqual(Oo(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return pt(i.geoPointValue.latitude)===pt(a.geoPointValue.latitude)&&pt(i.geoPointValue.longitude)===pt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return pt(i.integerValue)===pt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=pt(i.doubleValue),s=pt(a.doubleValue);return o===s?Gh(o)===Gh(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return Qs(t.arrayValue.values||[],e.arrayValue.values||[],Kn);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(OS(o)!==OS(s))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(s[l]===void 0||!Kn(o[l],s[l])))return!1;return!0}(t,e);default:return he()}}function Nc(t,e){return(t.values||[]).find(r=>Kn(r,e))!==void 0}function Xs(t,e){if(t===e)return 0;const r=Io(t),n=Io(e);if(r!==n)return Ie(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ie(t.booleanValue,e.booleanValue);case 2:return function(a,o){const s=pt(a.integerValue||a.doubleValue),l=pt(o.integerValue||o.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return kS(t.timestampValue,e.timestampValue);case 4:return kS(kc(t),kc(e));case 5:return Ie(t.stringValue,e.stringValue);case 6:return function(a,o){const s=Oo(a),l=Oo(o);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const s=a.split("/"),l=o.split("/");for(let u=0;u<s.length&&u<l.length;u++){const c=Ie(s[u],l[u]);if(c!==0)return c}return Ie(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const s=Ie(pt(a.latitude),pt(o.latitude));return s!==0?s:Ie(pt(a.longitude),pt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return CS(t.arrayValue,e.arrayValue);case 10:return function(a,o){var s,l,u,c;const f=a.fields||{},h=o.fields||{},p=(s=f.value)===null||s===void 0?void 0:s.arrayValue,y=(l=h.value)===null||l===void 0?void 0:l.arrayValue,m=Ie(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=y==null?void 0:y.values)===null||c===void 0?void 0:c.length)||0);return m!==0?m:CS(p,y)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===kd.mapValue&&o===kd.mapValue)return 0;if(a===kd.mapValue)return 1;if(o===kd.mapValue)return-1;const s=a.fields||{},l=Object.keys(s),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const h=Ie(l[f],c[f]);if(h!==0)return h;const p=Xs(s[l[f]],u[c[f]]);if(p!==0)return p}return Ie(l.length,c.length)}(t.mapValue,e.mapValue);default:throw he()}}function kS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ie(t,e);const r=ka(t),n=ka(e),i=Ie(r.seconds,n.seconds);return i!==0?i:Ie(r.nanos,n.nanos)}function CS(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=Xs(r[i],n[i]);if(a)return a}return Ie(r.length,n.length)}function Js(t){return p0(t)}function p0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=ka(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Oo(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return se.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=p0(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const o of n)a?a=!1:i+=",",i+=`${o}:${p0(r.fields[o])}`;return i+"}"}(t.mapValue):he()}function NS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function m0(t){return!!t&&"integerValue"in t}function uw(t){return!!t&&"arrayValue"in t}function jS(t){return!!t&&"nullValue"in t}function RS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ch(t){return!!t&&"mapValue"in t}function UB(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function Ju(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ml(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=Ju(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Ju(t.arrayValue.values[r]);return e}return Object.assign({},t)}function zB(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.value=e}static empty(){return new en({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!ch(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ju(r)}setAll(e){let r=zt.emptyPath(),n={},i=[];e.forEach((o,s)=>{if(!r.isImmediateParentOf(s)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=s.popLast()}o?n[s.lastSegment()]=Ju(o):i.push(s.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());ch(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Kn(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];ch(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Ml(r,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new en(Ju(this.value))}}function $N(t){const e=[];return Ml(t.fields,(r,n)=>{const i=new zt([r]);if(ch(n)){const a=$N(n.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e,r,n,i,a,o,s){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(e){return new or(e,0,me.min(),me.min(),me.min(),en.empty(),0)}static newFoundDocument(e,r,n,i){return new or(e,1,r,me.min(),n,i,0)}static newNoDocument(e,r){return new or(e,2,r,me.min(),me.min(),en.empty(),0)}static newUnknownDocument(e,r){return new or(e,3,r,me.min(),me.min(),en.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=en.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=en.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof or&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new or(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,r){this.position=e,this.inclusive=r}}function MS(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?n=se.comparator(se.fromName(o.referenceValue),r.key):n=Xs(o,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function $S(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Kn(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,r="asc"){this.field=e,this.dir=r}}function WB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{}class _t extends DN{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new HB(e,r,n):r==="array-contains"?new YB(e,n):r==="in"?new QB(e,n):r==="not-in"?new XB(e,n):r==="array-contains-any"?new JB(e,n):new _t(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new GB(e,n):new KB(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Xs(r,this.value)):r!==null&&Io(this.value)===Io(r)&&this.matchesComparison(Xs(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pn extends DN{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Pn(e,r)}matches(e){return LN(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function LN(t){return t.op==="and"}function FN(t){return qB(t)&&LN(t)}function qB(t){for(const e of t.filters)if(e instanceof Pn)return!1;return!0}function g0(t){if(t instanceof _t)return t.field.canonicalString()+t.op.toString()+Js(t.value);if(FN(t))return t.filters.map(e=>g0(e)).join(",");{const e=t.filters.map(r=>g0(r)).join(",");return`${t.op}(${e})`}}function VN(t,e){return t instanceof _t?function(n,i){return i instanceof _t&&n.op===i.op&&n.field.isEqual(i.field)&&Kn(n.value,i.value)}(t,e):t instanceof Pn?function(n,i){return i instanceof Pn&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,o,s)=>a&&VN(o,i.filters[s]),!0):!1}(t,e):void he()}function BN(t){return t instanceof _t?function(r){return`${r.field.canonicalString()} ${r.op} ${Js(r.value)}`}(t):t instanceof Pn?function(r){return r.op.toString()+" {"+r.getFilters().map(BN).join(" ,")+"}"}(t):"Filter"}class HB extends _t{constructor(e,r,n){super(e,r,n),this.key=se.fromName(n.referenceValue)}matches(e){const r=se.comparator(e.key,this.key);return this.matchesComparison(r)}}class GB extends _t{constructor(e,r){super(e,"in",r),this.keys=UN("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class KB extends _t{constructor(e,r){super(e,"not-in",r),this.keys=UN("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function UN(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>se.fromName(n.referenceValue))}class YB extends _t{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return uw(r)&&Nc(r.arrayValue,this.value)}}class QB extends _t{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Nc(this.value.arrayValue,r)}}class XB extends _t{constructor(e,r){super(e,"not-in",r)}matches(e){if(Nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Nc(this.value.arrayValue,r)}}class JB extends _t{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!uw(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Nc(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(e,r=null,n=[],i=[],a=null,o=null,s=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ue=null}}function DS(t,e=null,r=[],n=[],i=null,a=null,o=null){return new ZB(t,e,r,n,i,a,o)}function cw(t){const e=ve(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>g0(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),Im(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Js(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Js(n)).join(",")),e.ue=r}return e.ue}function fw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!WB(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!VN(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$S(t.startAt,e.startAt)&&$S(t.endAt,e.endAt)}function v0(t){return se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,r=null,n=[],i=[],a=null,o="F",s=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function eU(t,e,r,n,i,a,o,s){return new $l(t,e,r,n,i,a,o,s)}function dw(t){return new $l(t)}function LS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function zN(t){return t.collectionGroup!==null}function Zu(t){const e=ve(t);if(e.ce===null){e.ce=[];const r=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new qt(zt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.ce.push(new jc(a,n))}),r.has(zt.keyField().canonicalString())||e.ce.push(new jc(zt.keyField(),n))}return e.ce}function Bn(t){const e=ve(t);return e.le||(e.le=tU(e,Zu(t))),e.le}function tU(t,e){if(t.limitType==="F")return DS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new jc(i.field,a)});const r=t.endAt?new Kh(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Kh(t.startAt.position,t.startAt.inclusive):null;return DS(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function y0(t,e){const r=t.filters.concat([e]);return new $l(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function _0(t,e,r){return new $l(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function km(t,e){return fw(Bn(t),Bn(e))&&t.limitType===e.limitType}function WN(t){return`${cw(Bn(t))}|lt:${t.limitType}`}function as(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>BN(i)).join(", ")}]`),Im(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>Js(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>Js(i)).join(",")),`Target(${n})`}(Bn(t))}; limitType=${t.limitType})`}function Cm(t,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):se.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,i){for(const a of Zu(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(o,s,l){const u=MS(o,s,l);return o.inclusive?u<=0:u<0}(n.startAt,Zu(n),i)||n.endAt&&!function(o,s,l){const u=MS(o,s,l);return o.inclusive?u>=0:u>0}(n.endAt,Zu(n),i))}(t,e)}function rU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function qN(t){return(e,r)=>{let n=!1;for(const i of Zu(t)){const a=nU(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function nU(t,e,r){const n=t.field.isKeyField()?se.comparator(e.key,r.key):function(a,o,s){const l=o.data.field(a),u=s.data.field(a);return l!==null&&u!==null?Xs(l,u):he()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return he()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ml(this.inner,(r,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return RN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iU=new ut(se.comparator);function ki(){return iU}const HN=new ut(se.comparator);function Fu(...t){let e=HN;for(const r of t)e=e.insert(r.key,r);return e}function GN(t){let e=HN;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function so(){return ec()}function KN(){return ec()}function ec(){return new Dl(t=>t.toString(),(t,e)=>t.isEqual(e))}const aU=new ut(se.comparator),oU=new qt(se.comparator);function xe(...t){let e=oU;for(const r of t)e=e.add(r);return e}const sU=new qt(Ie);function lU(){return sU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gh(e)?"-0":e}}function YN(t){return{integerValue:""+t}}function uU(t,e){return FB(e)?YN(e):hw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(){this._=void 0}}function cU(t,e,r){return t instanceof Rc?function(i,a){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&sw(a)&&(a=lw(a)),a&&(o.fields.__previous_value__=a),{mapValue:o}}(r,e):t instanceof Mc?XN(t,e):t instanceof $c?JN(t,e):function(i,a){const o=QN(i,a),s=FS(o)+FS(i.Pe);return m0(o)&&m0(i.Pe)?YN(s):hw(i.serializer,s)}(t,e)}function fU(t,e,r){return t instanceof Mc?XN(t,e):t instanceof $c?JN(t,e):r}function QN(t,e){return t instanceof Yh?function(n){return m0(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class Rc extends Nm{}class Mc extends Nm{constructor(e){super(),this.elements=e}}function XN(t,e){const r=ZN(e);for(const n of t.elements)r.some(i=>Kn(i,n))||r.push(n);return{arrayValue:{values:r}}}class $c extends Nm{constructor(e){super(),this.elements=e}}function JN(t,e){let r=ZN(e);for(const n of t.elements)r=r.filter(i=>!Kn(i,n));return{arrayValue:{values:r}}}class Yh extends Nm{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function FS(t){return pt(t.integerValue||t.doubleValue)}function ZN(t){return uw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(e,r){this.field=e,this.transform=r}}function hU(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof Mc&&i instanceof Mc||n instanceof $c&&i instanceof $c?Qs(n.elements,i.elements,Kn):n instanceof Yh&&i instanceof Yh?Kn(n.Pe,i.Pe):n instanceof Rc&&i instanceof Rc}(t.transform,e.transform)}class pU{constructor(e,r){this.version=e,this.transformResults=r}}class Un{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Un}static exists(e){return new Un(void 0,e)}static updateTime(e){return new Un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class jm{}function ej(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new pw(t.key,Un.none()):new Cf(t.key,t.data,Un.none());{const r=t.data,n=en.empty();let i=new qt(zt.comparator);for(let a of e.fields)if(!i.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?n.delete(a):n.set(a,o),i=i.add(a)}return new Fo(t.key,n,new wn(i.toArray()),Un.none())}}function mU(t,e,r){t instanceof Cf?function(i,a,o){const s=i.value.clone(),l=BS(i.fieldTransforms,a,o.transformResults);s.setAll(l),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,r):t instanceof Fo?function(i,a,o){if(!fh(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=BS(i.fieldTransforms,a,o.transformResults),l=a.data;l.setAll(tj(i)),l.setAll(s),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,r):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function tc(t,e,r,n){return t instanceof Cf?function(a,o,s,l){if(!fh(a.precondition,o))return s;const u=a.value.clone(),c=US(a.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,r,n):t instanceof Fo?function(a,o,s,l){if(!fh(a.precondition,o))return s;const u=US(a.fieldTransforms,l,o),c=o.data;return c.setAll(tj(a)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(t,e,r,n):function(a,o,s){return fh(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,r)}function gU(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=QN(n.transform,i||null);a!=null&&(r===null&&(r=en.empty()),r.set(n.field,a))}return r||null}function VS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Qs(n,i,(a,o)=>hU(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Cf extends jm{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Fo extends jm{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function tj(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function BS(t,e,r){const n=new Map;De(t.length===r.length);for(let i=0;i<r.length;i++){const a=t[i],o=a.transform,s=e.data.field(a.field);n.set(a.field,fU(o,s,r[i]))}return n}function US(t,e,r){const n=new Map;for(const i of t){const a=i.transform,o=r.data.field(i.field);n.set(i.field,cU(a,o,e))}return n}class pw extends jm{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vU extends jm{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&mU(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=tc(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=tc(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=KN();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=r.has(i.key)?null:s;const l=ej(o,s);l!==null&&n.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(me.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),xe())}isEqual(e){return this.batchId===e.batchId&&Qs(this.mutations,e.mutations,(r,n)=>VS(r,n))&&Qs(this.baseMutations,e.baseMutations,(r,n)=>VS(r,n))}}class mw{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){De(e.mutations.length===n.length);let i=function(){return aU}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,n[o].version);return new mw(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,Ae;function wU(t){switch(t){default:return he();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function rj(t){if(t===void 0)return Ii("GRPC error has no .code"),H.UNKNOWN;switch(t){case gt.OK:return H.OK;case gt.CANCELLED:return H.CANCELLED;case gt.UNKNOWN:return H.UNKNOWN;case gt.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case gt.INTERNAL:return H.INTERNAL;case gt.UNAVAILABLE:return H.UNAVAILABLE;case gt.UNAUTHENTICATED:return H.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case gt.NOT_FOUND:return H.NOT_FOUND;case gt.ALREADY_EXISTS:return H.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return H.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case gt.ABORTED:return H.ABORTED;case gt.OUT_OF_RANGE:return H.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return H.UNIMPLEMENTED;case gt.DATA_LOSS:return H.DATA_LOSS;default:return he()}}(Ae=gt||(gt={}))[Ae.OK=0]="OK",Ae[Ae.CANCELLED=1]="CANCELLED",Ae[Ae.UNKNOWN=2]="UNKNOWN",Ae[Ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ae[Ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ae[Ae.NOT_FOUND=5]="NOT_FOUND",Ae[Ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ae[Ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ae[Ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ae[Ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ae[Ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ae[Ae.ABORTED=10]="ABORTED",Ae[Ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ae[Ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ae[Ae.INTERNAL=13]="INTERNAL",Ae[Ae.UNAVAILABLE=14]="UNAVAILABLE",Ae[Ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU=new go([4294967295,4294967295],0);function zS(t){const e=xU().encode(t),r=new TN;return r.update(e),new Uint8Array(r.digest())}function WS(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new go([r,n],0),new go([i,a],0)]}class gw{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Vu(`Invalid padding: ${r}`);if(n<0)throw new Vu(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Vu(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Vu(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=go.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(go.fromNumber(n)));return i.compare(EU)===1&&(i=new go([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=zS(e),[n,i]=WS(r);for(let a=0;a<this.hashCount;a++){const o=this.Ee(n,i,a);if(!this.de(o))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new gw(a,i,r);return n.forEach(s=>o.insert(s)),o}insert(e){if(this.Ie===0)return;const r=zS(e),[n,i]=WS(r);for(let a=0;a<this.hashCount;a++){const o=this.Ee(n,i,a);this.Ae(o)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Vu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Nf.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Rm(me.min(),i,new ut(Ie),ki(),xe())}}class Nf{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Nf(n,r,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class nj{constructor(e,r){this.targetId=e,this.me=r}}class ij{constructor(e,r,n=Gt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class qS{constructor(){this.fe=0,this.ge=GS(),this.pe=Gt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=xe(),r=xe(),n=xe();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:he()}}),new Nf(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=GS()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,De(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class SU{constructor(e){this.Le=e,this.Be=new Map,this.ke=ki(),this.qe=HS(),this.Qe=new ut(Ie)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:he()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const a=i.target;if(v0(a))if(n===0){const o=new se(a.path);this.Ue(r,o,or.newNoDocument(o,me.min()))}else De(n===1);else{const o=this.Ye(r);if(o!==n){const s=this.Ze(e),l=s?this.Xe(s,e,o):1;if(l!==0){this.je(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,u)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let o,s;try{o=Oo(n).toUint8Array()}catch(l){if(l instanceof MN)return Ys("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new gw(o,i,a)}catch(l){return Ys(l instanceof Vu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.Ie===0?null:s}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const o=this.Le.tt(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(s)||(this.Ue(r,a,null),i++)}),i}rt(e){const r=new Map;this.Be.forEach((a,o)=>{const s=this.Je(o);if(s){if(a.current&&v0(s.target)){const l=new se(s.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,or.newNoDocument(l,e))}a.be&&(r.set(o,a.ve()),a.Ce())}});let n=xe();this.qe.forEach((a,o)=>{let s=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(n=n.add(a))}),this.ke.forEach((a,o)=>o.setReadTime(e));const i=new Rm(e,r,this.Qe,this.ke,n);return this.ke=ki(),this.qe=HS(),this.Qe=new ut(Ie),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new qS,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new qt(Ie),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||oe("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new qS),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function HS(){return new ut(se.comparator)}function GS(){return new ut(se.comparator)}const AU={asc:"ASCENDING",desc:"DESCENDING"},TU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PU={and:"AND",or:"OR"};class OU{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function b0(t,e){return t.useProto3Json||Im(e)?e:{value:e}}function Qh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function IU(t,e){return Qh(t,e.toTimestamp())}function zn(t){return De(!!t),me.fromTimestamp(function(r){const n=ka(r);return new Ot(n.seconds,n.nanos)}(t))}function vw(t,e){return w0(t,e).canonicalString()}function w0(t,e){const r=function(i){return new Ze(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function oj(t){const e=Ze.fromString(t);return De(fj(e)),e}function x0(t,e){return vw(t.databaseId,e.path)}function Nv(t,e){const r=oj(e);if(r.get(1)!==t.databaseId.projectId)throw new ae(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new ae(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new se(lj(r))}function sj(t,e){return vw(t.databaseId,e)}function kU(t){const e=oj(t);return e.length===4?Ze.emptyPath():lj(e)}function E0(t){return new Ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function lj(t){return De(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function KS(t,e,r){return{name:x0(t,e),fields:r.value.mapValue.fields}}function CU(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:he()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,c){return u.useProto3Json?(De(c===void 0||typeof c=="string"),Gt.fromBase64String(c||"")):(De(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Gt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,s=o&&function(u){const c=u.code===void 0?H.UNKNOWN:rj(u.code);return new ae(c,u.message||"")}(o);r=new ij(n,i,a,s||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Nv(t,n.document.name),a=zn(n.document.updateTime),o=n.document.createTime?zn(n.document.createTime):me.min(),s=new en({mapValue:{fields:n.document.fields}}),l=or.newFoundDocument(i,a,o,s),u=n.targetIds||[],c=n.removedTargetIds||[];r=new dh(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Nv(t,n.document),a=n.readTime?zn(n.readTime):me.min(),o=or.newNoDocument(i,a),s=n.removedTargetIds||[];r=new dh([],s,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Nv(t,n.document),a=n.removedTargetIds||[];r=new dh([],a,i,null)}else{if(!("filter"in e))return he();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,o=new bU(i,a),s=n.targetId;r=new nj(s,o)}}return r}function NU(t,e){let r;if(e instanceof Cf)r={update:KS(t,e.key,e.value)};else if(e instanceof pw)r={delete:x0(t,e.key)};else if(e instanceof Fo)r={update:KS(t,e.key,e.data),updateMask:BU(e.fieldMask)};else{if(!(e instanceof vU))return he();r={verify:x0(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(a,o){const s=o.transform;if(s instanceof Rc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Mc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof $c)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Yh)return{fieldPath:o.field.canonicalString(),increment:s.Pe};throw he()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:IU(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:he()}(t,e.precondition)),r}function jU(t,e){return t&&t.length>0?(De(e!==void 0),t.map(r=>function(i,a){let o=i.updateTime?zn(i.updateTime):zn(a);return o.isEqual(me.min())&&(o=zn(a)),new pU(o,i.transformResults||[])}(r,e))):[]}function RU(t,e){return{documents:[sj(t,e.path)]}}function MU(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=sj(t,i);const a=function(u){if(u.length!==0)return cj(Pn.create(u,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const o=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:os(h.field),direction:LU(h.dir)}}(c))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const s=b0(t,e.limit);return s!==null&&(r.structuredQuery.limit=s),e.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:r,parent:i}}function $U(t){let e=kU(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){De(n===1);const c=r.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let a=[];r.where&&(a=function(f){const h=uj(f);return h instanceof Pn&&FN(h)?h.getFilters():[h]}(r.where));let o=[];r.orderBy&&(o=function(f){return f.map(h=>function(y){return new jc(ss(y.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(h))}(r.orderBy));let s=null;r.limit&&(s=function(f){let h;return h=typeof f=="object"?f.value:f,Im(h)?null:h}(r.limit));let l=null;r.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new Kh(p,h)}(r.startAt));let u=null;return r.endAt&&(u=function(f){const h=!f.before,p=f.values||[];return new Kh(p,h)}(r.endAt)),eU(e,i,o,a,s,"F",l,u)}function DU(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function uj(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=ss(r.unaryFilter.field);return _t.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=ss(r.unaryFilter.field);return _t.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ss(r.unaryFilter.field);return _t.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ss(r.unaryFilter.field);return _t.create(o,"!=",{nullValue:"NULL_VALUE"});default:return he()}}(t):t.fieldFilter!==void 0?function(r){return _t.create(ss(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return he()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Pn.create(r.compositeFilter.filters.map(n=>uj(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return he()}}(r.compositeFilter.op))}(t):he()}function LU(t){return AU[t]}function FU(t){return TU[t]}function VU(t){return PU[t]}function os(t){return{fieldPath:t.canonicalString()}}function ss(t){return zt.fromServerFormat(t.fieldPath)}function cj(t){return t instanceof _t?function(r){if(r.op==="=="){if(RS(r.value))return{unaryFilter:{field:os(r.field),op:"IS_NAN"}};if(jS(r.value))return{unaryFilter:{field:os(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(RS(r.value))return{unaryFilter:{field:os(r.field),op:"IS_NOT_NAN"}};if(jS(r.value))return{unaryFilter:{field:os(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:os(r.field),op:FU(r.op),value:r.value}}}(t):t instanceof Pn?function(r){const n=r.getFilters().map(i=>cj(i));return n.length===1?n[0]:{compositeFilter:{op:VU(r.op),filters:n}}}(t):he()}function BU(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function fj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,r,n,i,a=me.min(),o=me.min(),s=Gt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new ca(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new ca(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(e){this.ct=e}}function zU(t){const e=$U({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?_0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(){this.un=new qU}addToCollectionParentIndex(e,r){return this.un.add(r),K.resolve()}getCollectionParents(e,r){return K.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return K.resolve()}deleteFieldIndex(e,r){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,r){return K.resolve()}getDocumentsMatchingTarget(e,r){return K.resolve(null)}getIndexType(e,r){return K.resolve(0)}getFieldIndexes(e,r){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,r){return K.resolve(Ia.min())}getMinOffsetFromCollectionGroup(e,r){return K.resolve(Ia.min())}updateCollectionGroup(e,r,n){return K.resolve()}updateIndexEntries(e,r){return K.resolve()}}class qU{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new qt(Ze.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new qt(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Zs(0)}static kn(){return new Zs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(){this.changes=new Dl(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,or.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?K.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&tc(n.mutation,i,wn.empty(),Ot.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,xe()).next(()=>n))}getLocalViewOfDocuments(e,r,n=xe()){const i=so();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(a=>{let o=Fu();return a.forEach((s,l)=>{o=o.insert(s,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=so();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,xe()))}populateOverlays(e,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,s)=>{r.set(o,s)})})}computeViews(e,r,n,i){let a=ki();const o=ec(),s=function(){return ec()}();return r.forEach((l,u)=>{const c=n.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Fo)?a=a.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),tc(c.mutation,u,c.mutation.getFieldMask(),Ot.now())):o.set(u.key,wn.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((u,c)=>o.set(u,c)),r.forEach((u,c)=>{var f;return s.set(u,new GU(c,(f=o.get(u))!==null&&f!==void 0?f:null))}),s))}recalculateAndSaveOverlays(e,r){const n=ec();let i=new ut((o,s)=>o-s),a=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const s of o)s.keys().forEach(l=>{const u=r.get(l);if(u===null)return;let c=n.get(l)||wn.empty();c=s.applyToLocalView(u,c),n.set(l,c);const f=(i.get(s.batchId)||xe()).add(l);i=i.insert(s.batchId,f)})}).next(()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,c=l.value,f=KN();c.forEach(h=>{if(!a.has(h)){const p=ej(r.get(h),n.get(h));p!==null&&f.set(h,p),a=a.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return K.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(o){return se.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):zN(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):K.resolve(so());let s=-1,l=a;return o.next(u=>K.forEach(u,(c,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),a.get(c)?K.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,l,u,xe())).next(c=>({batchId:s,changes:GN(c)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new se(r)).next(n=>{let i=Fu();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let o=Fu();return this.indexManager.getCollectionParents(e,a).next(s=>K.forEach(s,l=>{const u=function(f,h){return new $l(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,n,i).next(c=>{c.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i))).next(o=>{a.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,or.newInvalidDocument(c)))});let s=Fu();return o.forEach((l,u)=>{const c=a.get(l);c!==void 0&&tc(c.mutation,u,wn.empty(),Ot.now()),Cm(r,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return K.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:zn(i.createTime)}}(r)),K.resolve()}getNamedQuery(e,r){return K.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:zU(i.bundledQuery),readTime:zn(i.readTime)}}(r)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(){this.overlays=new ut(se.comparator),this.Ir=new Map}getOverlay(e,r){return K.resolve(this.overlays.get(r))}getOverlays(e,r){const n=so();return K.forEach(r,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,a)=>{this.ht(e,r,a)}),K.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(n)),K.resolve()}getOverlaysForCollection(e,r,n){const i=so(),a=r.length+1,o=new se(r.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>n&&i.set(l.getKey(),l)}return K.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new ut((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let c=a.get(u.largestBatchId);c===null&&(c=so(),a=a.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const s=so(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>s.set(u,c)),!(s.size()>=i)););return K.resolve(s)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new _U(r,n));let a=this.Ir.get(r);a===void 0&&(a=xe(),this.Ir.set(r,a)),this.Ir.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(){this.Tr=new qt(kt.Er),this.dr=new qt(kt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new kt(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new kt(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new se(new Ze([])),n=new kt(r,e),i=new kt(r,e+1),a=[];return this.dr.forEachInRange([n,i],o=>{this.Vr(o),a.push(o.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new se(new Ze([])),n=new kt(r,e),i=new kt(r,e+1);let a=xe();return this.dr.forEachInRange([n,i],o=>{a=a.add(o.key)}),a}containsKey(e){const r=new kt(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class kt{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return se.comparator(e.key,r.key)||Ie(e.wr,r.wr)}static Ar(e,r){return Ie(e.wr,r.wr)||se.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new qt(kt.Er)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new yU(a,r,n,i);this.mutationQueue.push(o);for(const s of i)this.br=this.br.add(new kt(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return K.resolve(o)}lookupMutationBatch(e,r){return K.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),a=i<0?0:i;return K.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new kt(r,0),i=new kt(r,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([n,i],o=>{const s=this.Dr(o.wr);a.push(s)}),K.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new qt(Ie);return r.forEach(i=>{const a=new kt(i,0),o=new kt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,o],s=>{n=n.add(s.wr)})}),K.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;se.isDocumentKey(a)||(a=a.child(""));const o=new kt(new se(a),0);let s=new qt(Ie);return this.br.forEachWhile(l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.wr)),!0)},o),K.resolve(this.Cr(s))}Cr(e){const r=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){De(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return K.forEach(r.mutations,i=>{const a=new kt(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new kt(r,0),i=this.br.firstAfterOrEqual(n);return K.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(e){this.Mr=e,this.docs=function(){return new ut(se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,o=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return K.resolve(n?n.document.mutableCopy():or.newInvalidDocument(r))}getEntries(e,r){let n=ki();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():or.newInvalidDocument(i))}),K.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=ki();const o=r.path,s=new se(o.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||MB(RB(c),n)<=0||(i.has(c.key)||Cm(r,c))&&(a=a.insert(c.key,c.mutableCopy()))}return K.resolve(a)}getAllFromCollectionGroup(e,r,n,i){he()}Or(e,r){return K.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new e5(this)}getSize(e){return K.resolve(this.size)}}class e5 extends HU{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),K.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(e){this.persistence=e,this.Nr=new Dl(r=>cw(r),fw),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.Lr=0,this.Br=new yw,this.targetCount=0,this.kr=Zs.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,i)=>r(i)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),K.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Zs(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,K.resolve()}updateTargetData(e,r){return this.Kn(r),K.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.Nr.forEach((o,s)=>{s.sequenceNumber<=r&&n.get(s.targetId)===null&&(this.Nr.delete(o),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),K.waitFor(a).next(()=>i)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return K.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),K.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),K.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),K.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return K.resolve(n)}containsKey(e,r){return K.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(e,r){this.qr={},this.overlays={},this.Qr=new ow(0),this.Kr=!1,this.Kr=!0,this.$r=new XU,this.referenceDelegate=e(this),this.Ur=new t5(this),this.indexManager=new WU,this.remoteDocumentCache=function(i){return new ZU(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new UU(r),this.Gr=new YU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new QU,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new JU(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){oe("MemoryPersistence","Starting transaction:",e);const i=new n5(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(e,r){return K.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class n5 extends DB{constructor(e){super(),this.currentSequenceNumber=e}}class _w{constructor(e){this.persistence=e,this.Jr=new yw,this.Yr=null}static Zr(e){return new _w(e)}get Xr(){if(this.Yr)return this.Yr;throw he()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),K.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),K.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),K.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.Xr,n=>{const i=se.fromPath(n);return this.ei(e,i).next(a=>{a||r.removeEntry(i,me.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return K.or([()=>K.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=xe(),i=xe();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new bw(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return y3()?8:LB(ur())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.Yi(e,r).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.Zi(e,r,i,n).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new i5;return this.Xi(e,r,o).next(s=>{if(a.result=s,this.zi)return this.es(e,r,o,s.size)})}).next(()=>a.result)}es(e,r,n,i){return n.documentReadCount<this.ji?(xu()<=Se.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",as(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),K.resolve()):(xu()<=Se.DEBUG&&oe("QueryEngine","Query:",as(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(xu()<=Se.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",as(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bn(r))):K.resolve())}Yi(e,r){if(LS(r))return K.resolve(null);let n=Bn(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=_0(r,null,"F"),n=Bn(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const o=xe(...a);return this.Ji.getDocuments(e,o).next(s=>this.indexManager.getMinOffset(e,n).next(l=>{const u=this.ts(r,s);return this.ns(r,u,o,l.readTime)?this.Yi(e,_0(r,null,"F")):this.rs(e,u,r,l)}))})))}Zi(e,r,n,i){return LS(r)||i.isEqual(me.min())?K.resolve(null):this.Ji.getDocuments(e,n).next(a=>{const o=this.ts(r,a);return this.ns(r,o,n,i)?K.resolve(null):(xu()<=Se.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),as(r)),this.rs(e,o,r,jB(i,-1)).next(s=>s))})}ts(e,r){let n=new qt(qN(e));return r.forEach((i,a)=>{Cm(e,a)&&(n=n.add(a))}),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,r,n){return xu()<=Se.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",as(r)),this.Ji.getDocumentsMatchingQuery(e,r,Ia.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(a=>(r.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new ut(Ie),this._s=new Dl(a=>cw(a),fw),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KU(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function s5(t,e,r,n){return new o5(t,e,r,n)}async function dj(t,e){const r=ve(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const o=[],s=[];let l=xe();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of a){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return r.localDocuments.getDocuments(n,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:s}))})})}function l5(t,e){const r=ve(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=r.cs.newChangeBuffer({trackRemovals:!0});return function(s,l,u,c){const f=u.batch,h=f.keys();let p=K.resolve();return h.forEach(y=>{p=p.next(()=>c.getEntry(l,y)).next(m=>{const b=u.docVersions.get(y);De(b!==null),m.version.compareTo(b)<0&&(f.applyToRemoteDocument(m,u),m.isValidDocument()&&(m.setReadTime(u.commitVersion),c.addEntry(m)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(l,f))}(r,n,e,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(s){let l=xe();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function hj(t){const e=ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function u5(t,e){const r=ve(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const s=[];e.targetChanges.forEach((c,f)=>{const h=i.get(f);if(!h)return;s.push(r.Ur.removeMatchingKeys(a,c.removedDocuments,f).next(()=>r.Ur.addMatchingKeys(a,c.addedDocuments,f)));let p=h.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Gt.EMPTY_BYTE_STRING,me.min()).withLastLimboFreeSnapshotVersion(me.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,n)),i=i.insert(f,p),function(m,b,v){return m.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(h,p,c)&&s.push(r.Ur.updateTargetData(a,p))});let l=ki(),u=xe();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&s.push(r.persistence.referenceDelegate.updateLimboDocument(a,c))}),s.push(c5(a,o,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!n.isEqual(me.min())){const c=r.Ur.getLastRemoteSnapshotVersion(a).next(f=>r.Ur.setTargetsMetadata(a,a.currentSequenceNumber,n));s.push(c)}return K.waitFor(s).next(()=>o.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(r.os=i,a))}function c5(t,e,r){let n=xe(),i=xe();return r.forEach(a=>n=n.add(a)),e.getEntries(t,n).next(a=>{let o=ki();return r.forEach((s,l)=>{const u=a.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(me.min())?(e.removeEntry(s,l.readTime),o=o.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(s,l)):oe("LocalStore","Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function f5(t,e){const r=ve(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function d5(t,e){const r=ve(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,e).next(a=>a?(i=a,K.resolve(i)):r.Ur.allocateTargetId(n).next(o=>(i=new ca(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function S0(t,e,r){const n=ve(t),i=n.os.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,o=>n.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!kf(o))throw o;oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function YS(t,e,r){const n=ve(t);let i=me.min(),a=xe();return n.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const f=ve(l),h=f._s.get(c);return h!==void 0?K.resolve(f.os.get(h)):f.Ur.getTargetData(u,c)}(n,o,Bn(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(o,s.targetId).next(l=>{a=l})}).next(()=>n.ss.getDocumentsMatchingQuery(o,e,r?i:me.min(),r?a:xe())).next(s=>(h5(n,rU(e),s),{documents:s,Ts:a})))}function h5(t,e,r){let n=t.us.get(e)||me.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),t.us.set(e,n)}class QS{constructor(){this.activeTargetIds=lU()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class p5{constructor(){this.so=new QS,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new QS,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cd=null;function jv(){return Cd===null?Cd=function(){return 268435456+Math.round(2147483648*Math.random())}():Cd++,"0x"+Cd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr="WebChannelConnection";class y5 extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(r,n,i,a,o){const s=jv(),l=this.xo(r,n.toUriEncodedString());oe("RestConnection",`Sending RPC '${r}' ${s}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,a,o),this.No(r,l,u,i).then(c=>(oe("RestConnection",`Received RPC '${r}' ${s}: `,c),c),c=>{throw Ys("RestConnection",`RPC '${r}' ${s} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(r,n,i,a,o,s){return this.Mo(r,n,i,a,o)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Rl}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,o)=>r[o]=a),i&&i.headers.forEach((a,o)=>r[o]=a)}xo(r,n){const i=g5[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const a=jv();return new Promise((o,s)=>{const l=new PN;l.setWithCredentials(!0),l.listenOnce(ON.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case uh.NO_ERROR:const c=l.getResponseJson();oe(tr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(c)),o(c);break;case uh.TIMEOUT:oe(tr,`RPC '${e}' ${a} timed out`),s(new ae(H.DEADLINE_EXCEEDED,"Request time out"));break;case uh.HTTP_ERROR:const f=l.getStatus();if(oe(tr,`RPC '${e}' ${a} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const y=function(b){const v=b.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(v)>=0?v:H.UNKNOWN}(p.status);s(new ae(y,p.message))}else s(new ae(H.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new ae(H.UNAVAILABLE,"Connection failed."));break;default:he()}}finally{oe(tr,`RPC '${e}' ${a} completed.`)}});const u=JSON.stringify(i);oe(tr,`RPC '${e}' ${a} sending request:`,i),l.send(r,"POST",u,n,15)})}Bo(e,r,n){const i=jv(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=CN(),s=kN(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const c=a.join("");oe(tr,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=o.createWebChannel(c,l);let h=!1,p=!1;const y=new v5({Io:b=>{p?oe(tr,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(h||(oe(tr,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),oe(tr,`RPC '${e}' stream ${i} sending:`,b),f.send(b))},To:()=>f.close()}),m=(b,v,_)=>{b.listen(v,w=>{try{_(w)}catch(I){setTimeout(()=>{throw I},0)}})};return m(f,Lu.EventType.OPEN,()=>{p||(oe(tr,`RPC '${e}' stream ${i} transport opened.`),y.yo())}),m(f,Lu.EventType.CLOSE,()=>{p||(p=!0,oe(tr,`RPC '${e}' stream ${i} transport closed`),y.So())}),m(f,Lu.EventType.ERROR,b=>{p||(p=!0,Ys(tr,`RPC '${e}' stream ${i} transport errored:`,b),y.So(new ae(H.UNAVAILABLE,"The operation could not be completed")))}),m(f,Lu.EventType.MESSAGE,b=>{var v;if(!p){const _=b.data[0];De(!!_);const w=_,I=w.error||((v=w[0])===null||v===void 0?void 0:v.error);if(I){oe(tr,`RPC '${e}' stream ${i} received error:`,I);const T=I.status;let O=function(A){const C=gt[A];if(C!==void 0)return rj(C)}(T),S=I.message;O===void 0&&(O=H.INTERNAL,S="Unknown error status: "+T+" with message "+I.message),p=!0,y.So(new ae(O,S)),f.close()}else oe(tr,`RPC '${e}' stream ${i} received:`,_),y.bo(_)}}),m(s,IN.STAT_EVENT,b=>{b.stat===h0.PROXY?oe(tr,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===h0.NOPROXY&&oe(tr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}}function Rv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(t){return new OU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e,r,n=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&oe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(e,r,n,i,a,o,s,l){this.ui=e,this.Ho=n,this.Jo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new pj(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===H.RESOURCE_EXHAUSTED?(Ii(r.toString()),Ii("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{e(()=>{const i=new ae(H.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _5 extends mj{constructor(e,r,n,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=CU(this.serializer,e),n=function(a){if(!("targetChange"in a))return me.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?me.min():o.readTime?zn(o.readTime):me.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=E0(this.serializer),r.addTarget=function(a,o){let s;const l=o.target;if(s=v0(l)?{documents:RU(a,l)}:{query:MU(a,l)._t},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=aj(a,o.resumeToken);const u=b0(a,o.expectedCount);u!==null&&(s.expectedCount=u)}else if(o.snapshotVersion.compareTo(me.min())>0){s.readTime=Qh(a,o.snapshotVersion.toTimestamp());const u=b0(a,o.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const n=DU(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=E0(this.serializer),r.removeTarget=e,this.a_(r)}}class b5 extends mj{constructor(e,r,n,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return De(!!e.streamToken),this.lastStreamToken=e.streamToken,De(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){De(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=jU(e.writeResults,e.commitTime),n=zn(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=E0(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>NU(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5 extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ae(H.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Mo(e,w0(r,n),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ae(H.UNKNOWN,a.toString())})}Lo(e,r,n,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Lo(e,w0(r,n),i,o,s,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ae(H.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class x5{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ii(r),this.D_=!1):oe("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(o=>{n.enqueueAndForget(async()=>{Vo(this)&&(oe("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ve(l);u.L_.add(4),await jf(u),u.q_.set("Unknown"),u.L_.delete(4),await $m(u)}(this))})}),this.q_=new x5(n,i)}}async function $m(t){if(Vo(t))for(const e of t.B_)await e(!0)}async function jf(t){for(const e of t.B_)await e(!1)}function gj(t,e){const r=ve(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),Sw(r)?Ew(r):Ll(r).r_()&&xw(r,e))}function ww(t,e){const r=ve(t),n=Ll(r);r.N_.delete(e),n.r_()&&vj(r,e),r.N_.size===0&&(n.r_()?n.o_():Vo(r)&&r.q_.set("Unknown"))}function xw(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(me.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Ll(t).A_(e)}function vj(t,e){t.Q_.xe(e),Ll(t).R_(e)}function Ew(t){t.Q_=new SU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ll(t).start(),t.q_.v_()}function Sw(t){return Vo(t)&&!Ll(t).n_()&&t.N_.size>0}function Vo(t){return ve(t).L_.size===0}function yj(t){t.Q_=void 0}async function S5(t){t.q_.set("Online")}async function A5(t){t.N_.forEach((e,r)=>{xw(t,e)})}async function T5(t,e){yj(t),Sw(t)?(t.q_.M_(e),Ew(t)):t.q_.set("Unknown")}async function P5(t,e,r){if(t.q_.set("Online"),e instanceof ij&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const s of a.targetIds)i.N_.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i.N_.delete(s),i.Q_.removeTarget(s))}(t,e)}catch(n){oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Xh(t,n)}else if(e instanceof dh?t.Q_.Ke(e):e instanceof nj?t.Q_.He(e):t.Q_.We(e),!r.isEqual(me.min()))try{const n=await hj(t.localStore);r.compareTo(n)>=0&&await function(a,o){const s=a.Q_.rt(o);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=a.N_.get(u);c&&a.N_.set(u,c.withResumeToken(l.resumeToken,o))}}),s.targetMismatches.forEach((l,u)=>{const c=a.N_.get(l);if(!c)return;a.N_.set(l,c.withResumeToken(Gt.EMPTY_BYTE_STRING,c.snapshotVersion)),vj(a,l);const f=new ca(c.target,l,u,c.sequenceNumber);xw(a,f)}),a.remoteSyncer.applyRemoteEvent(s)}(t,r)}catch(n){oe("RemoteStore","Failed to raise snapshot:",n),await Xh(t,n)}}async function Xh(t,e,r){if(!kf(e))throw e;t.L_.add(1),await jf(t),t.q_.set("Offline"),r||(r=()=>hj(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{oe("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await $m(t)})}function _j(t,e){return e().catch(r=>Xh(t,r,e))}async function Dm(t){const e=ve(t),r=Ca(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;O5(e);)try{const i=await f5(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,I5(e,i)}catch(i){await Xh(e,i)}bj(e)&&wj(e)}function O5(t){return Vo(t)&&t.O_.length<10}function I5(t,e){t.O_.push(e);const r=Ca(t);r.r_()&&r.V_&&r.m_(e.mutations)}function bj(t){return Vo(t)&&!Ca(t).n_()&&t.O_.length>0}function wj(t){Ca(t).start()}async function k5(t){Ca(t).p_()}async function C5(t){const e=Ca(t);for(const r of t.O_)e.m_(r.mutations)}async function N5(t,e,r){const n=t.O_.shift(),i=mw.from(n,e,r);await _j(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Dm(t)}async function j5(t,e){e&&Ca(t).V_&&await async function(n,i){if(function(o){return wU(o)&&o!==H.ABORTED}(i.code)){const a=n.O_.shift();Ca(n).s_(),await _j(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Dm(n)}}(t,e),bj(t)&&wj(t)}async function JS(t,e){const r=ve(t);r.asyncQueue.verifyOperationInProgress(),oe("RemoteStore","RemoteStore received new credentials");const n=Vo(r);r.L_.add(3),await jf(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await $m(r)}async function R5(t,e){const r=ve(t);e?(r.L_.delete(2),await $m(r)):e||(r.L_.add(2),await jf(r),r.q_.set("Unknown"))}function Ll(t){return t.K_||(t.K_=function(r,n,i){const a=ve(r);return a.w_(),new _5(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:S5.bind(null,t),Ro:A5.bind(null,t),mo:T5.bind(null,t),d_:P5.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Sw(t)?Ew(t):t.q_.set("Unknown")):(await t.K_.stop(),yj(t))})),t.K_}function Ca(t){return t.U_||(t.U_=function(r,n,i){const a=ve(r);return a.w_(),new b5(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:k5.bind(null,t),mo:j5.bind(null,t),f_:C5.bind(null,t),g_:N5.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Dm(t)):(await t.U_.stop(),t.O_.length>0&&(oe("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new Ea,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const o=Date.now()+n,s=new Aw(e,r,o,i,a);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tw(t,e){if(Ii("AsyncQueue",`${e}: ${t}`),kf(t))return new ae(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e){this.comparator=e?(r,n)=>e(r,n)||se.comparator(r.key,n.key):(r,n)=>se.comparator(r.key,n.key),this.keyedMap=Fu(),this.sortedSet=new ut(this.comparator)}static emptySet(e){return new Cs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Cs)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Cs;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(){this.W_=new ut(se.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):he():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class el{constructor(e,r,n,i,a,o,s,l,u){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,r,n,i,a){const o=[];return r.forEach(s=>{o.push({type:0,doc:s})}),new el(e,r,Cs.emptySet(r),o,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&km(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class $5{constructor(){this.queries=eA(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=ve(r),a=i.queries;i.queries=eA(),a.forEach((o,s)=>{for(const l of s.j_)l.onError(n)})})(this,new ae(H.ABORTED,"Firestore shutting down"))}}function eA(){return new Dl(t=>WN(t),km)}async function xj(t,e){const r=ve(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.H_()&&e.J_()&&(n=2):(a=new M5,n=e.J_()?0:1);try{switch(n){case 0:a.z_=await r.onListen(i,!0);break;case 1:a.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const s=Tw(o,`Initialization of query '${as(e.query)}' failed`);return void e.onError(s)}r.queries.set(i,a),a.j_.push(e),e.Z_(r.onlineState),a.z_&&e.X_(a.z_)&&Pw(r)}async function Ej(t,e){const r=ve(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const o=a.j_.indexOf(e);o>=0&&(a.j_.splice(o,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function D5(t,e){const r=ve(t);let n=!1;for(const i of e){const a=i.query,o=r.queries.get(a);if(o){for(const s of o.j_)s.X_(i)&&(n=!0);o.z_=i}}n&&Pw(r)}function L5(t,e,r){const n=ve(t),i=n.queries.get(e);if(i)for(const a of i.j_)a.onError(r);n.queries.delete(e)}function Pw(t){t.Y_.forEach(e=>{e.next()})}var A0,tA;(tA=A0||(A0={})).ea="default",tA.Cache="cache";class Sj{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new el(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=el.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==A0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e){this.key=e}}class Tj{constructor(e){this.key=e}}class F5{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=xe(),this.mutatedKeys=xe(),this.Aa=qN(e),this.Ra=new Cs(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new ZS,i=r?r.Ra:this.Ra;let a=r?r.mutatedKeys:this.mutatedKeys,o=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const h=i.get(c),p=Cm(this.query,f)?f:null,y=!!h&&this.mutatedKeys.has(h.key),m=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let b=!1;h&&p?h.data.isEqual(p.data)?y!==m&&(n.track({type:3,doc:p}),b=!0):this.ga(h,p)||(n.track({type:2,doc:p}),b=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(s=!0)):!h&&p?(n.track({type:0,doc:p}),b=!0):h&&!p&&(n.track({type:1,doc:h}),b=!0,(l||u)&&(s=!0)),b&&(p?(o=o.add(p),a=m?a.add(c):a.delete(c)):(o=o.delete(c),a=a.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),n.track({type:1,doc:c})}return{Ra:o,fa:n,ns:s,mutatedKeys:a}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((c,f)=>function(p,y){const m=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he()}};return m(p)-m(y)}(c.type,f.type)||this.Aa(c.doc,f.doc)),this.pa(n),i=i!=null&&i;const s=r&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new el(this.query,e.Ra,a,o,e.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new ZS,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=xe(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new Tj(n))}),this.da.forEach(n=>{e.has(n)||r.push(new Aj(n))}),r}ba(e){this.Ta=e.Ts,this.da=xe();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return el.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class V5{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class B5{constructor(e){this.key=e,this.va=!1}}class U5{constructor(e,r,n,i,a,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Dl(s=>WN(s),km),this.Ma=new Map,this.xa=new Set,this.Oa=new ut(se.comparator),this.Na=new Map,this.La=new yw,this.Ba={},this.ka=new Map,this.qa=Zs.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function z5(t,e,r=!0){const n=Nj(t);let i;const a=n.Fa.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await Pj(n,e,r,!0),i}async function W5(t,e){const r=Nj(t);await Pj(r,e,!0,!1)}async function Pj(t,e,r,n){const i=await d5(t.localStore,Bn(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,r);let s;return n&&(s=await q5(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&gj(t.remoteStore,i),s}async function q5(t,e,r,n,i){t.Ka=(f,h,p)=>async function(m,b,v,_){let w=b.view.ma(v);w.ns&&(w=await YS(m.localStore,b.query,!1).then(({documents:S})=>b.view.ma(S,w)));const I=_&&_.targetChanges.get(b.targetId),T=_&&_.targetMismatches.get(b.targetId)!=null,O=b.view.applyChanges(w,m.isPrimaryClient,I,T);return nA(m,b.targetId,O.wa),O.snapshot}(t,f,h,p);const a=await YS(t.localStore,e,!0),o=new F5(e,a.Ts),s=o.ma(a.documents),l=Nf.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),u=o.applyChanges(s,t.isPrimaryClient,l);nA(t,r,u.wa);const c=new V5(e,r,o);return t.Fa.set(e,c),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),u.snapshot}async function H5(t,e,r){const n=ve(t),i=n.Fa.get(e),a=n.Ma.get(i.targetId);if(a.length>1)return n.Ma.set(i.targetId,a.filter(o=>!km(o,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await S0(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&ww(n.remoteStore,i.targetId),T0(n,i.targetId)}).catch(If)):(T0(n,i.targetId),await S0(n.localStore,i.targetId,!0))}async function G5(t,e){const r=ve(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),ww(r.remoteStore,n.targetId))}async function K5(t,e,r){const n=t6(t);try{const i=await function(o,s){const l=ve(o),u=Ot.now(),c=s.reduce((p,y)=>p.add(y.key),xe());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let y=ki(),m=xe();return l.cs.getEntries(p,c).next(b=>{y=b,y.forEach((v,_)=>{_.isValidDocument()||(m=m.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,y)).next(b=>{f=b;const v=[];for(const _ of s){const w=gU(_,f.get(_.key).overlayedDocument);w!=null&&v.push(new Fo(_.key,w,$N(w.value.mapValue),Un.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,v,s)}).next(b=>{h=b;const v=b.applyToLocalDocumentSet(f,m);return l.documentOverlayCache.saveOverlays(p,b.batchId,v)})}).then(()=>({batchId:h.batchId,changes:GN(f)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(o,s,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new ut(Ie)),u=u.insert(s,l),o.Ba[o.currentUser.toKey()]=u}(n,i.batchId,r),await Rf(n,i.changes),await Dm(n.remoteStore)}catch(i){const a=Tw(i,"Failed to persist write");r.reject(a)}}async function Oj(t,e){const r=ve(t);try{const n=await u5(r.localStore,e);e.targetChanges.forEach((i,a)=>{const o=r.Na.get(a);o&&(De(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?De(o.va):i.removedDocuments.size>0&&(De(o.va),o.va=!1))}),await Rf(r,n,e)}catch(n){await If(n)}}function rA(t,e,r){const n=ve(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((a,o)=>{const s=o.view.Z_(e);s.snapshot&&i.push(s.snapshot)}),function(o,s){const l=ve(o);l.onlineState=s;let u=!1;l.queries.forEach((c,f)=>{for(const h of f.j_)h.Z_(s)&&(u=!0)}),u&&Pw(l)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function Y5(t,e,r){const n=ve(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),a=i&&i.key;if(a){let o=new ut(se.comparator);o=o.insert(a,or.newNoDocument(a,me.min()));const s=xe().add(a),l=new Rm(me.min(),new Map,new ut(Ie),o,s);await Oj(n,l),n.Oa=n.Oa.remove(a),n.Na.delete(e),Ow(n)}else await S0(n.localStore,e,!1).then(()=>T0(n,e,r)).catch(If)}async function Q5(t,e){const r=ve(t),n=e.batch.batchId;try{const i=await l5(r.localStore,e);kj(r,n,null),Ij(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Rf(r,i)}catch(i){await If(i)}}async function X5(t,e,r){const n=ve(t);try{const i=await function(o,s){const l=ve(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,s).next(f=>(De(f!==null),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(n.localStore,e);kj(n,e,r),Ij(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Rf(n,i)}catch(i){await If(i)}}function Ij(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function kj(t,e,r){const n=ve(t);let i=n.Ba[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function T0(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||Cj(t,n)})}function Cj(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(ww(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),Ow(t))}function nA(t,e,r){for(const n of r)n instanceof Aj?(t.La.addReference(n.key,e),J5(t,n)):n instanceof Tj?(oe("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||Cj(t,n.key)):he()}function J5(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(oe("SyncEngine","New document in limbo: "+r),t.xa.add(n),Ow(t))}function Ow(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new se(Ze.fromString(e)),n=t.qa.next();t.Na.set(n,new B5(r)),t.Oa=t.Oa.insert(r,n),gj(t.remoteStore,new ca(Bn(dw(r.path)),n,"TargetPurposeLimboResolution",ow.oe))}}async function Rf(t,e,r){const n=ve(t),i=[],a=[],o=[];n.Fa.isEmpty()||(n.Fa.forEach((s,l)=>{o.push(n.Ka(l,e,r).then(u=>{var c;if((u||r)&&n.isPrimaryClient){const f=u?!u.fromCache:(c=r==null?void 0:r.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=bw.Wi(l.targetId,u);a.push(f)}}))}),await Promise.all(o),n.Ca.d_(i),await async function(l,u){const c=ve(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>K.forEach(u,h=>K.forEach(h.$i,p=>c.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>K.forEach(h.Ui,p=>c.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!kf(f))throw f;oe("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const p=c.os.get(h),y=p.snapshotVersion,m=p.withLastLimboFreeSnapshotVersion(y);c.os=c.os.insert(h,m)}}}(n.localStore,a))}async function Z5(t,e){const r=ve(t);if(!r.currentUser.isEqual(e)){oe("SyncEngine","User change. New user:",e.toKey());const n=await dj(r.localStore,e);r.currentUser=e,function(a,o){a.ka.forEach(s=>{s.forEach(l=>{l.reject(new ae(H.CANCELLED,o))})}),a.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Rf(r,n.hs)}}function e6(t,e){const r=ve(t),n=r.Na.get(e);if(n&&n.va)return xe().add(n.key);{let i=xe();const a=r.Ma.get(e);if(!a)return i;for(const o of a){const s=r.Fa.get(o);i=i.unionWith(s.view.Va)}return i}}function Nj(t){const e=ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Oj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=e6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Y5.bind(null,e),e.Ca.d_=D5.bind(null,e.eventManager),e.Ca.$a=L5.bind(null,e.eventManager),e}function t6(t){const e=ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Q5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=X5.bind(null,e),e}class Jh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mm(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return s5(this.persistence,new a5,e.initialUser,this.serializer)}Ga(e){return new r5(_w.Zr,this.serializer)}Wa(e){return new p5}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jh.provider={build:()=>new Jh};class P0{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>rA(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Z5.bind(null,this.syncEngine),await R5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new $5}()}createDatastore(e){const r=Mm(e.databaseInfo.databaseId),n=function(a){return new y5(a)}(e.databaseInfo);return function(a,o,s,l){return new w5(a,o,s,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,a,o,s){return new E5(n,i,a,o,s)}(this.localStore,this.datastore,e.asyncQueue,r=>rA(this.syncEngine,r,0),function(){return XS.D()?new XS:new m5}())}createSyncEngine(e,r){return function(i,a,o,s,l,u,c){const f=new U5(i,a,o,s,l,u);return c&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const a=ve(i);oe("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await jf(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}P0.provider={build:()=>new P0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ii("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=nr.UNAUTHENTICATED,this.clientId=jN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async o=>{oe("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(oe("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ea;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=Tw(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Mv(t,e){t.asyncQueue.verifyOperationInProgress(),oe("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await dj(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function iA(t,e){t.asyncQueue.verifyOperationInProgress();const r=await n6(t);oe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>JS(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>JS(e.remoteStore,i)),t._onlineComponents=e}async function n6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){oe("FirestoreClient","Using user provided OfflineComponentProvider");try{await Mv(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===H.FAILED_PRECONDITION||i.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;Ys("Error using user provided cache. Falling back to memory cache: "+r),await Mv(t,new Jh)}}else oe("FirestoreClient","Using default OfflineComponentProvider"),await Mv(t,new Jh);return t._offlineComponents}async function Rj(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(oe("FirestoreClient","Using user provided OnlineComponentProvider"),await iA(t,t._uninitializedComponentsProvider._online)):(oe("FirestoreClient","Using default OnlineComponentProvider"),await iA(t,new P0))),t._onlineComponents}function i6(t){return Rj(t).then(e=>e.syncEngine)}async function O0(t){const e=await Rj(t),r=e.eventManager;return r.onListen=z5.bind(null,e.syncEngine),r.onUnlisten=H5.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=W5.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=G5.bind(null,e.syncEngine),r}function a6(t,e,r={}){const n=new Ea;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,u){const c=new jj({next:h=>{c.Za(),o.enqueueAndForget(()=>Ej(a,f)),h.fromCache&&l.source==="server"?u.reject(new ae(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new Sj(s,c,{includeMetadataChanges:!0,_a:!0});return xj(a,f)}(await O0(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $j(t,e,r){if(!r)throw new ae(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function o6(t,e,r,n){if(e===!0&&n===!0)throw new ae(H.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function oA(t){if(!se.isDocumentKey(t))throw new ae(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function sA(t){if(se.isDocumentKey(t))throw new ae(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Lm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":he()}function bi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ae(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Lm(t);throw new ae(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ae(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}o6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Mj((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ae(H.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ae(H.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ae(H.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fm{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lA({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lA(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new SB;switch(n.type){case"firstParty":return new OB(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ae(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=aA.get(r);n&&(oe("ComponentProvider","Removing Datastore"),aA.delete(r),n.terminate())}(this),Promise.resolve()}}function s6(t,e,r,n={}){var i;const a=(t=bi(t,Fm))._getSettings(),o=`${e}:${r}`;if(a.host!=="firestore.googleapis.com"&&a.host!==o&&Ys("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),n.mockUserToken){let s,l;if(typeof n.mockUserToken=="string")s=n.mockUserToken,l=nr.MOCK_USER;else{s=f3(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=n.mockUserToken.sub||n.mockUserToken.user_id;if(!u)throw new ae(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new nr(u)}t._authCredentials=new AB(new NN(s,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Da(this.firestore,e,this._query)}}class kr{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kr(this.firestore,e,this._key)}}class Sa extends Da{constructor(e,r,n){super(e,r,dw(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kr(this.firestore,null,new se(e))}withConverter(e){return new Sa(this.firestore,e,this._path)}}function Ki(t,e,...r){if(t=br(t),$j("collection","path",e),t instanceof Fm){const n=Ze.fromString(e,...r);return sA(n),new Sa(t,null,n)}{if(!(t instanceof kr||t instanceof Sa))throw new ae(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Ze.fromString(e,...r));return sA(n),new Sa(t.firestore,null,n)}}function Eu(t,e,...r){if(t=br(t),arguments.length===1&&(e=jN.newId()),$j("doc","path",e),t instanceof Fm){const n=Ze.fromString(e,...r);return oA(n),new kr(t,null,new se(n))}{if(!(t instanceof kr||t instanceof Sa))throw new ae(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Ze.fromString(e,...r));return oA(n),new kr(t.firestore,t instanceof Sa?t.converter:null,new se(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new pj(this,"async_queue_retry"),this.Vu=()=>{const n=Rv();n&&oe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=Rv();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=Rv();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new Ea;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!kf(e))throw e;oe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const i=function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(n);throw Ii("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=Aw.createAndSchedule(this,e,r,n,a=>this.yu(a));return this.Tu.push(i),i}fu(){this.Eu&&he()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function cA(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class tl extends Fm{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new uA,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uA(e),this._firestoreClient=void 0,await e}}}function l6(t,e){const r=typeof t=="object"?t:EN(),n=typeof t=="string"?t:"(default)",i=iw(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=u3("firestore");a&&s6(i,...a)}return i}function Iw(t){if(t._terminated)throw new ae(H.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||u6(t),t._firestoreClient}function u6(t){var e,r,n;const i=t._freezeSettings(),a=function(s,l,u,c){return new BB(s,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Mj(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new r6(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new rl(Gt.fromBase64String(e))}catch(r){throw new ae(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new rl(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new ae(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ae(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ae(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6=/^__.*__$/;class f6{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Fo(e,this.data,this.fieldMask,r,this.fieldTransforms):new Cf(e,this.data,r,this.fieldTransforms)}}function Dj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he()}}class Rw{constructor(e,r,n,i,a,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Rw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Zh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Dj(this.Cu)&&c6.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class d6{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Mm(e)}Qu(e,r,n,i=!1){return new Rw({Cu:e,methodName:r,qu:n,path:zt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lj(t){const e=t._freezeSettings(),r=Mm(t._databaseId);return new d6(t._databaseId,!!e.ignoreUndefinedProperties,r)}function h6(t,e,r,n,i,a={}){const o=t.Qu(a.merge||a.mergeFields?2:0,e,r,i);Bj("Data must be an object, but it was:",o,n);const s=Fj(n,o);let l,u;if(a.merge)l=new wn(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){const c=[];for(const f of a.mergeFields){const h=m6(e,f,r);if(!o.contains(h))throw new ae(H.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);v6(c,h)||c.push(h)}l=new wn(c),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new f6(new en(s),l,u)}class Mw extends Cw{_toFieldTransform(e){return new dU(e.path,new Rc)}isEqual(e){return e instanceof Mw}}function p6(t,e,r,n=!1){return $w(r,t.Qu(n?4:3,e))}function $w(t,e){if(Vj(t=br(t)))return Bj("Unsupported field value:",e,t),Fj(t,e);if(t instanceof Cw)return function(n,i){if(!Dj(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,i){const a=[];let o=0;for(const s of n){let l=$w(s,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),o++}return{arrayValue:{values:a}}}(t,e)}return function(n,i){if((n=br(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return uU(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Ot.fromDate(n);return{timestampValue:Qh(i.serializer,a)}}if(n instanceof Ot){const a=new Ot(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Qh(i.serializer,a)}}if(n instanceof Nw)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof rl)return{bytesValue:aj(i.serializer,n._byteString)};if(n instanceof kr){const a=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(a))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:vw(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof jw)return function(o,s){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw s.Bu("VectorValues must only contain numeric values.");return hw(s.serializer,l)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${Lm(n)}`)}(t,e)}function Fj(t,e){const r={};return RN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ml(t,(n,i)=>{const a=$w(i,e.Mu(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function Vj(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ot||t instanceof Nw||t instanceof rl||t instanceof kr||t instanceof Cw||t instanceof jw)}function Bj(t,e,r){if(!Vj(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=Lm(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function m6(t,e,r){if((e=br(e))instanceof kw)return e._internalPath;if(typeof e=="string")return Uj(t,e);throw Zh("Field path arguments must be of type string or ",t,!1,void 0,r)}const g6=new RegExp("[~\\*/\\[\\]]");function Uj(t,e,r){if(e.search(g6)>=0)throw Zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new kw(...e.split("."))._internalPath}catch{throw Zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Zh(t,e,r,n,i){const a=n&&!n.isEmpty(),o=i!==void 0;let s=`Function ${e}() called with invalid data`;r&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=` in field ${n}`),o&&(l+=` in document ${i}`),l+=")"),new ae(H.INVALID_ARGUMENT,s+t+l)}function v6(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new kr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new y6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Vm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class y6 extends zj{data(){return super.data()}}function Vm(t,e){return typeof e=="string"?Uj(t,e):e instanceof kw?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ae(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dw{}class qj extends Dw{}function Yi(t,e,...r){let n=[];e instanceof Dw&&n.push(e),n=n.concat(r),function(a){const o=a.filter(l=>l instanceof Lw).length,s=a.filter(l=>l instanceof Bm).length;if(o>1||o>0&&s>0)throw new ae(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class Bm extends qj{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new Bm(e,r,n)}_apply(e){const r=this._parse(e);return Hj(e._query,r),new Da(e.firestore,e.converter,y0(e._query,r))}_parse(e){const r=Lj(e.firestore);return function(a,o,s,l,u,c,f){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ae(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){dA(f,c);const p=[];for(const y of f)p.push(fA(l,a,y));h={arrayValue:{values:p}}}else h=fA(l,a,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||dA(f,c),h=p6(s,o,f,c==="in"||c==="not-in");return _t.create(u,c,h)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function _6(t,e,r){const n=e,i=Vm("where",t);return Bm._create(i,n,r)}class Lw extends Dw{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Lw(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Pn.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,a){let o=i;const s=a.getFlattenedFilters();for(const l of s)Hj(o,l),o=y0(o,l)}(e._query,r),new Da(e.firestore,e.converter,y0(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Fw extends qj{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new Fw(e,r)}_apply(e){const r=function(i,a,o){if(i.startAt!==null)throw new ae(H.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ae(H.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new jc(a,o)}(e._query,this._field,this._direction);return new Da(e.firestore,e.converter,function(i,a){const o=i.explicitOrderBy.concat([a]);return new $l(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function Nd(t,e="asc"){const r=e,n=Vm("orderBy",t);return Fw._create(n,r)}function fA(t,e,r){if(typeof(r=br(r))=="string"){if(r==="")throw new ae(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zN(e)&&r.indexOf("/")!==-1)throw new ae(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Ze.fromString(r));if(!se.isDocumentKey(n))throw new ae(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return NS(t,new se(n))}if(r instanceof kr)return NS(t,r._key);throw new ae(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lm(r)}.`)}function dA(t,e){if(!Array.isArray(t)||t.length===0)throw new ae(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Hj(t,e){const r=function(i,a){for(const o of i)for(const s of o.getFlattenedFilters())if(a.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new ae(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class b6{convertValue(e,r="none"){switch(Io(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Oo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw he()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Ml(e,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(e){var r,n,i;const a=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(o=>pt(o.doubleValue));return new jw(a)}convertGeoPoint(e){return new Nw(pt(e.latitude),pt(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=lw(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(kc(e));default:return null}}convertTimestamp(e){const r=ka(e);return new Ot(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Ze.fromString(e);De(fj(n));const i=new Cc(n.get(1),n.get(3)),a=new se(n.popFirst(5));return i.isEqual(r)||Ii(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w6(t,e,r){let n;return n=t?t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gj extends zj{constructor(e,r,n,i,a,o){super(e,r,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new hh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(Vm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class hh extends Gj{data(e={}){return super.data(e)}}class Kj{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Bu(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new hh(this._firestore,this._userDataWriter,n.key,n,new Bu(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ae(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>{const l=new hh(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Bu(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>a||s.type!==3).map(s=>{const l=new hh(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Bu(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return s.type!==0&&(u=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),c=o.indexOf(s.doc.key)),{type:x6(s.type),doc:l,oldIndex:u,newIndex:c}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function x6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he()}}class Vw extends b6{constructor(e){super(),this.firestore=e}convertBytes(e){return new rl(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new kr(this.firestore,null,r)}}function Jo(t){t=bi(t,Da);const e=bi(t.firestore,tl),r=Iw(e),n=new Vw(e);return Wj(t._query),a6(r,t._query).then(i=>new Kj(e,n,t,i))}function $v(t,e,r){t=bi(t,kr);const n=bi(t.firestore,tl),i=w6(t.converter,e);return Yj(n,[h6(Lj(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,Un.none())])}function hA(t){return Yj(bi(t.firestore,tl),[new pw(t._key,Un.none())])}function pA(t,...e){var r,n,i;t=br(t);let a={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||cA(e[o])||(a=e[o],o++);const s={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(cA(e[o])){const f=e[o];e[o]=(r=f.next)===null||r===void 0?void 0:r.bind(f),e[o+1]=(n=f.error)===null||n===void 0?void 0:n.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,c;if(t instanceof kr)u=bi(t.firestore,tl),c=dw(t._key.path),l={next:f=>{e[o]&&e[o](E6(u,t,f))},error:e[o+1],complete:e[o+2]};else{const f=bi(t,Da);u=bi(f.firestore,tl),c=f._query;const h=new Vw(u);l={next:p=>{e[o]&&e[o](new Kj(u,h,f,p))},error:e[o+1],complete:e[o+2]},Wj(t._query)}return function(h,p,y,m){const b=new jj(m),v=new Sj(p,b,y);return h.asyncQueue.enqueueAndForget(async()=>xj(await O0(h),v)),()=>{b.Za(),h.asyncQueue.enqueueAndForget(async()=>Ej(await O0(h),v))}}(Iw(u),c,s,l)}function Yj(t,e){return function(n,i){const a=new Ea;return n.asyncQueue.enqueueAndForget(async()=>K5(await i6(n),i,a)),a.promise}(Iw(t),e)}function E6(t,e,r){const n=r.docs.get(e._key),i=new Vw(t);return new Gj(t,i,e._key,n,new Bu(r.hasPendingWrites,r.fromCache),e.converter)}function mA(){return new Mw("serverTimestamp")}(function(e,r=!0){(function(i){Rl=i})(jl),Ks(new To("firestore",(n,{instanceIdentifier:i,options:a})=>{const o=n.getProvider("app").getImmediate(),s=new tl(new TB(n.getProvider("auth-internal")),new kB(n.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ae(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cc(u.options.projectId,c)}(o,i),o);return a=Object.assign({useFetchStreams:r},a),s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),xa(PS,"4.7.3",e),xa(PS,"4.7.3","esm2017")})();function Bw(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Qj(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const S6=Qj,Xj=new Pf("auth","Firebase",Qj());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep=new nw("@firebase/auth");function A6(t,...e){ep.logLevel<=Se.WARN&&ep.warn(`Auth (${jl}): ${t}`,...e)}function ph(t,...e){ep.logLevel<=Se.ERROR&&ep.error(`Auth (${jl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(t,...e){throw zw(t,...e)}function Sn(t,...e){return zw(t,...e)}function Uw(t,e,r){const n=Object.assign(Object.assign({},S6()),{[e]:r});return new Pf("auth","Firebase",n).create(e,{appName:t.name})}function vo(t){return Uw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function T6(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&Yn(t,"argument-error"),Uw(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function zw(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return Xj.create(t,...e)}function de(t,e,...r){if(!t)throw zw(e,...r)}function hi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ph(e),new Error(e)}function Ci(t,e){t||hi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function P6(){return gA()==="http:"||gA()==="https:"}function gA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(P6()||m3()||"connection"in navigator)?navigator.onLine:!0}function I6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,r){this.shortDelay=e,this.longDelay=r,Ci(r>e,"Short delay should be less than long delay!"),this.isMobile=d3()||g3()}get(){return O6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(t,e){Ci(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6=new Mf(3e4,6e4);function qw(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Fl(t,e,r,n,i={}){return Zj(t,i,async()=>{let a={},o={};n&&(e==="GET"?o=n:a={body:JSON.stringify(n)});const s=Of(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},a);return p3()||(u.referrerPolicy="no-referrer"),Jj.fetch()(e2(t,t.config.apiHost,r,s),u)})}async function Zj(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},k6),e);try{const i=new j6(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw jd(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const s=a.ok?o.errorMessage:o.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw jd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw jd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw jd(t,"user-disabled",o);const c=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Uw(t,c,u);Yn(t,c)}}catch(i){if(i instanceof Fi)throw i;Yn(t,"network-request-failed",{message:String(i)})}}async function N6(t,e,r,n,i={}){const a=await Fl(t,e,r,n,i);return"mfaPendingCredential"in a&&Yn(t,"multi-factor-auth-required",{_serverResponse:a}),a}function e2(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?Ww(t.config,i):`${t.config.apiScheme}://${i}`}class j6{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Sn(this.auth,"network-request-failed")),C6.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function jd(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Sn(t,e,n);return i.customData._tokenResponse=r,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R6(t,e){return Fl(t,"POST","/v1/accounts:delete",e)}async function t2(t,e){return Fl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function M6(t,e=!1){const r=br(t),n=await r.getIdToken(e),i=Hw(n);de(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:rc(Dv(i.auth_time)),issuedAtTime:rc(Dv(i.iat)),expirationTime:rc(Dv(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Dv(t){return Number(t)*1e3}function Hw(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return ph("JWT malformed, contained fewer than 3 sections"),null;try{const i=yN(r);return i?JSON.parse(i):(ph("Failed to decode base64 JWT payload"),null)}catch(i){return ph("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function vA(t){const e=Hw(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dc(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Fi&&$6(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function $6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=rc(this.lastLoginAt),this.creationTime=rc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tp(t){var e;const r=t.auth,n=await t.getIdToken(),i=await Dc(t,t2(r,{idToken:n}));de(i==null?void 0:i.users.length,r,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?r2(a.providerUserInfo):[],s=F6(t.providerData,o),l=t.isAnonymous,u=!(t.email&&a.passwordHash)&&!(s!=null&&s.length),c=l?u:!1,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new k0(a.createdAt,a.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function L6(t){const e=br(t);await tp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function F6(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function r2(t){return t.map(e=>{var{providerId:r}=e,n=Bw(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V6(t,e){const r=await Zj(t,{},async()=>{const n=Of({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=e2(t,i,"/v1/token",`key=${a}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",Jj.fetch()(o,{method:"POST",headers:s,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function B6(t,e){return Fl(t,"POST","/v2/accounts:revokeToken",qw(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){de(e.length!==0,"internal-error");const r=vA(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await V6(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,o=new Ns;return n&&(de(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(de(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(de(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ns,this.toJSON())}_performRefresh(){return hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class pi{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,a=Bw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new D6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new k0(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await Dc(this,this.stsTokenManager.getToken(this.auth,e));return de(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return M6(this,e)}reload(){return L6(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new pi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await tp(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(di(this.auth.app))return Promise.reject(vo(this.auth));const e=await this.getIdToken();return await Dc(this,R6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,a,o,s,l,u,c;const f=(n=r.displayName)!==null&&n!==void 0?n:void 0,h=(i=r.email)!==null&&i!==void 0?i:void 0,p=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,y=(o=r.photoURL)!==null&&o!==void 0?o:void 0,m=(s=r.tenantId)!==null&&s!==void 0?s:void 0,b=(l=r._redirectEventId)!==null&&l!==void 0?l:void 0,v=(u=r.createdAt)!==null&&u!==void 0?u:void 0,_=(c=r.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:w,emailVerified:I,isAnonymous:T,providerData:O,stsTokenManager:S}=r;de(w&&S,e,"internal-error");const E=Ns.fromJSON(this.name,S);de(typeof w=="string",e,"internal-error"),Qi(f,e.name),Qi(h,e.name),de(typeof I=="boolean",e,"internal-error"),de(typeof T=="boolean",e,"internal-error"),Qi(p,e.name),Qi(y,e.name),Qi(m,e.name),Qi(b,e.name),Qi(v,e.name),Qi(_,e.name);const A=new pi({uid:w,auth:e,email:h,emailVerified:I,displayName:f,isAnonymous:T,photoURL:y,phoneNumber:p,tenantId:m,stsTokenManager:E,createdAt:v,lastLoginAt:_});return O&&Array.isArray(O)&&(A.providerData=O.map(C=>Object.assign({},C))),b&&(A._redirectEventId=b),A}static async _fromIdTokenResponse(e,r,n=!1){const i=new Ns;i.updateFromServerResponse(r);const a=new pi({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await tp(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];de(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?r2(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),s=new Ns;s.updateFromIdToken(n);const l=new pi({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new k0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA=new Map;function mi(t){Ci(t instanceof Function,"Expected a class definition");let e=yA.get(t);return e?(Ci(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,yA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}n2.type="NONE";const _A=n2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(t,e,r){return`firebase:${t}:${e}:${r}`}class js{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=mh(this.userKey,i.apiKey,a),this.fullPersistenceKey=mh("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?pi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new js(mi(_A),e,n);const i=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||mi(_A);const o=mh(n,e.config.apiKey,e.name);let s=null;for(const u of r)try{const c=await u._get(o);if(c){const f=pi._fromJSON(e,c);u!==a&&(s=f),a=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new js(a,e,n):(a=l[0],s&&await a._set(o,s.toJSON()),await Promise.all(r.map(async u=>{if(u!==a)try{await u._remove(o)}catch{}})),new js(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(s2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(i2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(u2(e))return"Blackberry";if(c2(e))return"Webos";if(a2(e))return"Safari";if((e.includes("chrome/")||o2(e))&&!e.includes("edge/"))return"Chrome";if(l2(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function i2(t=ur()){return/firefox\//i.test(t)}function a2(t=ur()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function o2(t=ur()){return/crios\//i.test(t)}function s2(t=ur()){return/iemobile/i.test(t)}function l2(t=ur()){return/android/i.test(t)}function u2(t=ur()){return/blackberry/i.test(t)}function c2(t=ur()){return/webos/i.test(t)}function Gw(t=ur()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function U6(t=ur()){var e;return Gw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function z6(){return v3()&&document.documentMode===10}function f2(t=ur()){return Gw(t)||l2(t)||c2(t)||u2(t)||/windows phone/i.test(t)||s2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(t,e=[]){let r;switch(t){case"Browser":r=bA(ur());break;case"Worker":r=`${bA(ur())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${jl}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((o,s)=>{try{const l=e(a);o(l)}catch(l){s(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q6(t,e={}){return Fl(t,"GET","/v2/passwordPolicy",qw(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6=6;class G6{constructor(e){var r,n,i,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:H6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,a,o,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(r=l.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsUppercaseLetter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wA(this),this.idTokenSubscription=new wA(this),this.beforeStateQueue=new W6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xj,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=mi(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await js.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await t2(this,{idToken:e}),n=await pi._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(di(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===s)&&(l!=null&&l.user)&&(i=l.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await tp(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=I6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(di(this.app))return Promise.reject(vo(this));const r=e?br(e):null;return r&&de(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return di(this.app)?Promise.reject(vo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return di(this.app)?Promise.reject(vo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await q6(this),r=new G6(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Pf("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await B6(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&mi(e)||this._popupRedirectResolver;de(r,this,"argument-error"),this.redirectPersistenceManager=await js.create(this,[mi(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(s,this,"internal-error"),s.then(()=>{o||a(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,i);return()=>{o=!0,l()}}else{const l=e.addObserver(r);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=d2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&A6(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Um(t){return br(t)}class wA{constructor(e){this.auth=e,this.observer=null,this.addObserver=A3(r=>this.observer=r)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Y6(t){Kw=t}function Q6(t){return Kw.loadJS(t)}function X6(){return Kw.gapiScript}function J6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z6(t,e){const r=iw(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(qh(a,e??{}))return i;Yn(i,"already-initialized")}return r.initialize({options:e})}function ez(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(mi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function tz(t,e,r){const n=Um(t);de(n._canInitEmulator,n,"emulator-config-failed"),de(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=h2(e),{host:o,port:s}=rz(e),l=s===null?"":`:${s}`;n.config.emulator={url:`${a}//${o}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),nz()}function h2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function rz(t){const e=h2(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:xA(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:xA(o)}}}function xA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function nz(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return hi("not implemented")}_getIdTokenResponse(e){return hi("not implemented")}_linkToIdToken(e,r){return hi("not implemented")}_getReauthenticationResolver(e){return hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rs(t,e){return N6(t,"POST","/v1/accounts:signInWithIdp",qw(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iz="http://localhost";class ko extends p2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new ko(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Yn("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,a=Bw(r,["providerId","signInMethod"]);if(!n||!i)return null;const o=new ko(n,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return Rs(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Rs(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Rs(e,r)}buildRequest(){const e={requestUri:iz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Of(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f extends Yw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia extends $f{constructor(){super("facebook.com")}static credential(e){return ko._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ia.credentialFromTaggedObject(e)}static credentialFromError(e){return ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ia.credential(e.oauthAccessToken)}catch{return null}}}ia.FACEBOOK_SIGN_IN_METHOD="facebook.com";ia.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends $f{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return ko._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return ui.credential(r,n)}catch{return null}}}ui.GOOGLE_SIGN_IN_METHOD="google.com";ui.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa extends $f{constructor(){super("github.com")}static credential(e){return ko._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return aa.credentialFromTaggedObject(e)}static credentialFromError(e){return aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return aa.credential(e.oauthAccessToken)}catch{return null}}}aa.GITHUB_SIGN_IN_METHOD="github.com";aa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa extends $f{constructor(){super("twitter.com")}static credential(e,r){return ko._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return oa.credentialFromTaggedObject(e)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return oa.credential(r,n)}catch{return null}}}oa.TWITTER_SIGN_IN_METHOD="twitter.com";oa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await pi._fromIdTokenResponse(e,n,i),o=EA(n);return new nl({user:a,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=EA(n);return new nl({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function EA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp extends Fi{constructor(e,r,n,i){var a;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,rp.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new rp(e,r,n,i)}}function m2(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?rp._fromErrorAndOperation(t,a,e,n):a})}async function az(t,e,r=!1){const n=await Dc(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return nl._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oz(t,e,r=!1){const{auth:n}=t;if(di(n.app))return Promise.reject(vo(n));const i="reauthenticate";try{const a=await Dc(t,m2(n,i,e,t),r);de(a.idToken,n,"internal-error");const o=Hw(a.idToken);de(o,n,"internal-error");const{sub:s}=o;return de(t.uid===s,n,"user-mismatch"),nl._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Yn(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sz(t,e,r=!1){if(di(t.app))return Promise.reject(vo(t));const n="signIn",i=await m2(t,n,e),a=await nl._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}function lz(t,e,r,n){return br(t).onIdTokenChanged(e,r,n)}function uz(t,e,r){return br(t).beforeAuthStateChanged(e,r)}function cz(t,e,r,n){return br(t).onAuthStateChanged(e,r,n)}function fz(t){return br(t).signOut()}const np="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(np,"1"),this.storage.removeItem(np),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dz=1e3,hz=10;class v2 extends g2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=f2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,s,l)=>{this.notifyListeners(o,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);z6()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,hz):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},dz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}v2.type="LOCAL";const pz=v2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2 extends g2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}y2.type="SESSION";const _2=y2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mz(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new zm(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const s=Array.from(o).map(async u=>u(r.origin,a)),l=await mz(s);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((s,l)=>{const u=Qw("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),s(h.data.response);break;default:clearTimeout(c),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(){return window}function vz(t){Wn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(){return typeof Wn().WorkerGlobalScope<"u"&&typeof Wn().importScripts=="function"}async function yz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _z(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function bz(){return b2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2="firebaseLocalStorageDb",wz=1,ip="firebaseLocalStorage",x2="fbase_key";class Df{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Wm(t,e){return t.transaction([ip],e?"readwrite":"readonly").objectStore(ip)}function xz(){const t=indexedDB.deleteDatabase(w2);return new Df(t).toPromise()}function C0(){const t=indexedDB.open(w2,wz);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(ip,{keyPath:x2})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(ip)?e(n):(n.close(),await xz(),e(await C0()))})})}async function SA(t,e,r){const n=Wm(t,!0).put({[x2]:e,value:r});return new Df(n).toPromise()}async function Ez(t,e){const r=Wm(t,!1).get(e),n=await new Df(r).toPromise();return n===void 0?null:n.value}function AA(t,e){const r=Wm(t,!0).delete(e);return new Df(r).toPromise()}const Sz=800,Az=3;class E2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await C0(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>Az)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return b2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zm._getInstance(bz()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await yz(),!this.activeServiceWorker)return;this.sender=new gz(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_z()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await C0();return await SA(e,np,"1"),await AA(e,np),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>SA(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>Ez(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>AA(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Wm(i,!1).getAll();return new Df(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Sz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}E2.type="LOCAL";const Tz=E2;new Mf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(t,e){return e?mi(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw extends p2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Rs(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Rs(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Rs(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function Pz(t){return sz(t.auth,new Xw(t),t.bypassAuthState)}function Oz(t){const{auth:e,user:r}=t;return de(r,e,"internal-error"),oz(r,new Xw(t),t.bypassAuthState)}async function Iz(t){const{auth:e,user:r}=t;return de(r,e,"internal-error"),az(r,new Xw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:o,type:s}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Pz;case"linkViaPopup":case"linkViaRedirect":return Iz;case"reauthViaPopup":case"reauthViaRedirect":return Oz;default:Yn(this.auth,"internal-error")}}resolve(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kz=new Mf(2e3,1e4);async function Cz(t,e,r){if(di(t.app))return Promise.reject(Sn(t,"operation-not-supported-in-this-environment"));const n=Um(t);T6(t,e,Yw);const i=S2(n,r);return new lo(n,"signInViaPopup",e,i).executeNotNull()}class lo extends A2{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,lo.currentPopupAction&&lo.currentPopupAction.cancel(),lo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){Ci(this.filter.length===1,"Popup operations only handle one event");const e=Qw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Sn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Sn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,lo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,kz.get())};e()}}lo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nz="pendingRedirect",gh=new Map;class jz extends A2{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=gh.get(this.auth._key());if(!e){try{const n=await Rz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}gh.set(this.auth._key(),e)}return this.bypassAuthState||gh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Rz(t,e){const r=Dz(e),n=$z(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function Mz(t,e){gh.set(t._key(),e)}function $z(t){return mi(t._redirectPersistence)}function Dz(t){return mh(Nz,t.config.apiKey,t.name)}async function Lz(t,e,r=!1){if(di(t.app))return Promise.reject(vo(t));const n=Um(t),i=S2(n,e),o=await new jz(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fz=10*60*1e3;class Vz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Bz(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!T2(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Sn(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Fz&&this.cachedEventUids.clear(),this.cachedEventUids.has(TA(e))}saveEventToCache(e){this.cachedEventUids.add(TA(e)),this.lastProcessedEventTime=Date.now()}}function TA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function T2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Bz(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return T2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uz(t,e={}){return Fl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wz=/^https?/;async function qz(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Uz(t);for(const r of e)try{if(Hz(r))return}catch{}Yn(t,"unauthorized-domain")}function Hz(t){const e=I0(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!Wz.test(r))return!1;if(zz.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gz=new Mf(3e4,6e4);function PA(){const t=Wn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function Kz(t){return new Promise((e,r)=>{var n,i,a;function o(){PA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{PA(),r(Sn(t,"network-request-failed"))},timeout:Gz.get()})}if(!((i=(n=Wn().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Wn().gapi)===null||a===void 0)&&a.load)o();else{const s=J6("iframefcb");return Wn()[s]=()=>{gapi.load?o():r(Sn(t,"network-request-failed"))},Q6(`${X6()}?onload=${s}`).catch(l=>r(l))}}).catch(e=>{throw vh=null,e})}let vh=null;function Yz(t){return vh=vh||Kz(t),vh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qz=new Mf(5e3,15e3),Xz="__/auth/iframe",Jz="emulator/auth/iframe",Zz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},e9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function t9(t){const e=t.config;de(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?Ww(e,Jz):`https://${t.config.authDomain}/${Xz}`,n={apiKey:e.apiKey,appName:t.name,v:jl},i=e9.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${Of(n).slice(1)}`}async function r9(t){const e=await Yz(t),r=Wn().gapi;return de(r,t,"internal-error"),e.open({where:document.body,url:t9(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zz,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const o=Sn(t,"network-request-failed"),s=Wn().setTimeout(()=>{a(o)},Qz.get());function l(){Wn().clearTimeout(s),i(n)}n.ping(l).then(l,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},i9=500,a9=600,o9="_blank",s9="http://localhost";class OA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function l9(t,e,r,n=i9,i=a9){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let s="";const l=Object.assign(Object.assign({},n9),{width:n.toString(),height:i.toString(),top:a,left:o}),u=ur().toLowerCase();r&&(s=o2(u)?o9:r),i2(u)&&(e=e||s9,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[p,y])=>`${h}${p}=${y},`,"");if(U6(u)&&s!=="_self")return u9(e||"",s),new OA(null);const f=window.open(e||"",s,c);de(f,t,"popup-blocked");try{f.focus()}catch{}return new OA(f)}function u9(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c9="__/auth/handler",f9="emulator/auth/handler",d9=encodeURIComponent("fac");async function IA(t,e,r,n,i,a){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:jl,eventId:i};if(e instanceof Yw){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",S3(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))o[c]=f}if(e instanceof $f){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const s=o;for(const c of Object.keys(s))s[c]===void 0&&delete s[c];const l=await t._getAppCheckToken(),u=l?`#${d9}=${encodeURIComponent(l)}`:"";return`${h9(t)}?${Of(s).slice(1)}${u}`}function h9({config:t}){return t.emulator?Ww(t,f9):`https://${t.authDomain}/${c9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="webStorageSupport";class p9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_2,this._completeRedirectFn=Lz,this._overrideRedirectResult=Mz}async _openPopup(e,r,n,i){var a;Ci((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await IA(e,r,n,I0(),i);return l9(e,o,Qw())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await IA(e,r,n,I0(),i);return vz(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(Ci(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await r9(e),n=new Vz(e);return r.register("authEvent",i=>(de(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Lv,{type:Lv},i=>{var a;const o=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[Lv];o!==void 0&&r(!!o),Yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=qz(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return f2()||a2()||Gw()}}const m9=p9;var kA="@firebase/auth",CA="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function y9(t){Ks(new To("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=n.options;de(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:o,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:d2(t)},u=new K6(n,i,a,l);return ez(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Ks(new To("auth-internal",e=>{const r=Um(e.getProvider("auth").getImmediate());return(n=>new g9(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),xa(kA,CA,v9(t)),xa(kA,CA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _9=5*60,b9=wN("authIdTokenMaxAge")||_9;let NA=null;const w9=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>b9)return;const i=r==null?void 0:r.token;NA!==i&&(NA=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function x9(t=EN()){const e=iw(t,"auth");if(e.isInitialized())return e.getImmediate();const r=Z6(t,{popupRedirectResolver:m9,persistence:[Tz,pz,_2]}),n=wN("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const o=w9(a.toString());uz(r,o,()=>o(r.currentUser)),lz(r,s=>o(s))}}const i=_N("auth");return i&&tz(r,`http://${i}`),r}function E9(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Y6({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=Sn("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",E9().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});y9("Browser");var S9="firebase",A9="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xa(S9,A9,"app");const T9={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0},P2=xN(T9),jr=l6(P2),Rd=x9(P2);class P9{constructor(){Zg(this,"unsubscribe",null)}async signInWithGoogle(){try{const e=new ui,r=await Cz(Rd,e),n=r.user.email;return n==="bardini.kirk@gmail.com"||n==="emanuelle.joaquim@gmail.com"?(console.log("✅ Login realizado com sucesso:",r.user.displayName),!0):(console.log("❌ Email não autorizado:",n),await this.signOut(),!1)}catch(e){return console.error("Erro no login Google:",e),!1}}async signOut(){await fz(Rd),this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)}getCurrentUser(){return Rd.currentUser}onAuthStateChanged(e){return cz(Rd,e)}cleanup(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)}async saveFood(e){const r=Date.now(),n={id:e.id,name:e.name,category:e.category,per:typeof e.per=="string"?parseFloat(e.per)||100:e.per,protein_g:e.protein_g,carbs_g:e.carbs_g,fat_g:e.fat_g,kcal:e.kcal,updatedAt:r,createdAt:e.createdAt||r};e.density_g_per_ml!==void 0&&(n.density_g_per_ml=e.density_g_per_ml),await $v(Eu(jr,"foods",e.id),n)}async saveFoods(e){console.log(`🍎 Salvando ${e.length} alimentos (LOCAL → FIREBASE)...`);const r=await this.loadFoods(),n=new Set(r.map(l=>l.id)),i=new Set(r.map(l=>l.name.toLowerCase()));let a=0,o=0,s=0;for(const l of e){if(!l||!l.id||!l.name){console.warn("⚠️ Alimento inválido ignorado:",l),s++;continue}if(n.has(l.id)){await this.saveFood(l),o++;continue}if(i.has(l.name.toLowerCase())){s++;continue}await this.saveFood(l),a++,n.add(l.id),i.add(l.name.toLowerCase())}console.log(`✅ Alimentos sincronizados: ${a} novos, ${o} atualizados, ${s} duplicados ignorados`)}async countFoods(){const e=Yi(Ki(jr,"foods"));return(await Jo(e)).docs.length}async countEntries(){const e=Yi(Ki(jr,"entries"));return(await Jo(e)).docs.length}async checkSyncStatus(e,r){try{const[n,i]=await Promise.all([this.countFoods(),this.countEntries()]);console.log("📊 Verificação de sincronização:"),console.log(`   Local: ${e} alimentos, ${r} entradas`),console.log(`   Firebase: ${n} alimentos, ${i} entradas`);const a=e!==n,o=r!==i,s=a||o;let l="";return a&&o?l=`Alimentos: ${e} vs ${n}, Entradas: ${r} vs ${i}`:a?l=`Alimentos: local ${e} vs Firebase ${n}`:o?l=`Entradas: local ${r} vs Firebase ${i}`:l="Dados sincronizados",{needsSync:s,reason:l,needsFoods:a,needsEntries:o}}catch(n){return console.warn("⚠️ Erro ao verificar sincronização:",n),{needsSync:!0,reason:"Erro na verificação",needsFoods:!0,needsEntries:!0}}}async loadSelectiveData(e,r,n){const i={foods:[],entries:[]};return e?(console.log("🍎 Carregando alimentos do Firebase..."),i.foods=await this.loadFoods()):console.log("✅ Alimentos já sincronizados - usando dados locais"),r?(console.log("📝 Carregando entradas do Firebase..."),i.entries=await this.loadEntries(n)):console.log("✅ Entradas já sincronizadas - usando dados locais"),i}async loadFoods(){const e=Yi(Ki(jr,"foods"),Nd("name"));return(await Jo(e)).docs.map(i=>{const a=i.data();return{id:a.id,name:a.name,category:a.category,per:typeof a.per=="string"?parseFloat(a.per)||100:a.per||100,protein_g:a.protein_g||0,carbs_g:a.carbs_g||0,fat_g:a.fat_g||0,kcal:a.kcal||0,density_g_per_ml:a.density_g_per_ml,updatedAt:a.updatedAt||Date.now(),createdAt:a.createdAt||Date.now()}})}async deleteFood(e){await hA(Eu(jr,"foods",e))}async saveEntry(e){const r={id:e.id,userId:e.userId,dateISO:e.dateISO,foodId:e.foodId,qty:e.qty,unit:e.unit,mealType:e.mealType,protein_g:e.protein_g,carbs_g:e.carbs_g,fat_g:e.fat_g,kcal:e.kcal,water_ml:e.water_ml||0,updatedAt:mA()};e.note!==void 0&&(r.note=e.note),await $v(Eu(jr,"entries",e.id),r)}async saveEntries(e){console.log(`📝 Salvando ${e.length} entradas (LOCAL → FIREBASE)...`);const r=await this.loadAllEntries(),n=new Set(r.map(s=>s.id));let i=0,a=0,o=0;for(const s of e){if(!s||!s.id||!s.userId||!s.foodId){console.warn("⚠️ Entrada inválida ignorada:",s),o++;continue}if(n.has(s.id)){await this.saveEntry(s),a++;continue}await this.saveEntry(s),i++,n.add(s.id)}console.log(`✅ Entradas sincronizadas: ${i} novas, ${a} atualizadas, ${o} inválidas ignoradas`)}async loadEntries(e){const r=Yi(Ki(jr,"entries"),_6("userId","==",e),Nd("dateISO","desc"));return(await Jo(r)).docs.map(i=>{const a=i.data();return{id:a.id,userId:a.userId,dateISO:a.dateISO,foodId:a.foodId,qty:a.qty,unit:a.unit,mealType:a.mealType,note:a.note,protein_g:a.protein_g,carbs_g:a.carbs_g,fat_g:a.fat_g,kcal:a.kcal,water_ml:a.water_ml}})}async loadAllEntries(){const e=Yi(Ki(jr,"entries"),Nd("dateISO","desc"));return(await Jo(e)).docs.map(n=>{const i=n.data();return{id:i.id,userId:i.userId,dateISO:i.dateISO,foodId:i.foodId,qty:i.qty,unit:i.unit,mealType:i.mealType,note:i.note,protein_g:i.protein_g,carbs_g:i.carbs_g,fat_g:i.fat_g,kcal:i.kcal,water_ml:i.water_ml}})}async deleteEntry(e){await hA(Eu(jr,"entries",e)),console.log(`🗑️ Entrada deletada: ${e}`)}async saveUsers(e){var s,l,u,c,f;console.log("👥 Salvando usuários (LOCAL → FIREBASE):",e);const r=await this.loadUsers(),n=new Set(r.map(h=>h.id));let i=0,a=0,o=0;for(const h of e){if(!h||!h.id||!h.name){console.warn("⚠️ Usuário inválido ignorado:",h),o++;continue}const p={id:h.id,name:h.name||"Usuário",goals:{protein_g:((s=h.goals)==null?void 0:s.protein_g)||0,carbs_g:((l=h.goals)==null?void 0:l.carbs_g)||0,fat_g:((u=h.goals)==null?void 0:u.fat_g)||0,kcal:((c=h.goals)==null?void 0:c.kcal)||0,water_ml:((f=h.goals)==null?void 0:f.water_ml)||0},updatedAt:mA()};n.has(h.id)?a++:i++,await $v(Eu(jr,"users",h.id),p)}console.log(`✅ Usuários sincronizados: ${i} novos, ${a} atualizados, ${o} inválidos ignorados`)}async loadUsers(){const e=Yi(Ki(jr,"users"));return(await Jo(e)).docs.map(n=>{var a,o,s,l,u;const i=n.data();return{id:i.id,name:i.name,goals:{protein_g:((a=i.goals)==null?void 0:a.protein_g)||0,carbs_g:((o=i.goals)==null?void 0:o.carbs_g)||0,fat_g:((s=i.goals)==null?void 0:s.fat_g)||0,kcal:((l=i.goals)==null?void 0:l.kcal)||0,water_ml:((u=i.goals)==null?void 0:u.water_ml)||0},weeklyGoalFactor:i.weeklyGoalFactor||1}})}onUsersChange(e){const r=Yi(Ki(jr,"users"));return pA(r,i=>{const a=[];i.forEach(o=>{var l,u,c,f,h;const s=o.data();a.push({id:s.id,name:s.name,goals:{protein_g:((l=s.goals)==null?void 0:l.protein_g)||0,carbs_g:((u=s.goals)==null?void 0:u.carbs_g)||0,fat_g:((c=s.goals)==null?void 0:c.fat_g)||0,kcal:((f=s.goals)==null?void 0:f.kcal)||0,water_ml:((h=s.goals)==null?void 0:h.water_ml)||0}})}),e(a)})}onFoodsChange(e){const r=Yi(Ki(jr,"foods"),Nd("name"));return pA(r,i=>{const a=[];i.forEach(o=>{const s=o.data();a.push({id:s.id,name:s.name,category:s.category,per:s.per||100,protein_g:s.protein_g||0,carbs_g:s.carbs_g||0,fat_g:s.fat_g||0,kcal:s.kcal||0,density_g_per_ml:s.density_g_per_ml,updatedAt:s.updatedAt||Date.now(),createdAt:s.createdAt||Date.now()})}),e(a)})}async loadAllUsersData(){const[e,r,n]=await Promise.all([this.loadAllEntries(),this.loadFoods(),this.loadUsers()]);return{entries:e,foods:r,users:n}}getUserIdFromEmail(e){return e==="bardini.kirk@gmail.com"?"kirk":e==="emanuelle.joaquim@gmail.com"?"manu":"kirk"}getCurrentUserId(){const e=this.getCurrentUser();return e!=null&&e.email?this.getUserIdFromEmail(e.email):"kirk"}}const hr=new P9,jA=()=>Date.now().toString(36)+Math.random().toString(36).substr(2),Ue=(t,e=1)=>t.toFixed(e),RA=(t,e,r)=>{if(!t||!e||e<=0||!t.per||t.per<=0)return{protein_g:0,carbs_g:0,fat_g:0,kcal:0,water_ml:0};const n=t.protein_g||0,i=t.carbs_g||0,a=t.fat_g||0,o=t.kcal||0;let s;return r==="g"||r==="ml"?s=e/t.per:s=e*1e3/t.per,r==="ml"&&t.density_g_per_ml&&t.density_g_per_ml>0&&(s=e*t.density_g_per_ml/t.per),isNaN(s)||!isFinite(s)?{protein_g:0,carbs_g:0,fat_g:0,kcal:0,water_ml:0}:{protein_g:Math.round(n*s*100)/100,carbs_g:Math.round(i*s*100)/100,fat_g:Math.round(a*s*100)/100,kcal:Math.round(o*s*100)/100,water_ml:r==="ml"?e:0}},O9=t=>t.reduce((e,r)=>({protein_g:e.protein_g+r.protein_g,carbs_g:e.carbs_g+r.carbs_g,fat_g:e.fat_g+r.fat_g,kcal:e.kcal+r.kcal,water_ml:e.water_ml+(r.foodId==="agua"?r.qty:0)}),{protein_g:0,carbs_g:0,fat_g:0,kcal:0,water_ml:0}),N0={kirk:{name:"Kirk",gradient:"from-blue-600 via-purple-600 to-indigo-700",bgGradient:"bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700",textColor:"text-white",accentColor:"text-blue-300",cardBg:"bg-blue-50/90",borderColor:"border-blue-200",subtleBg:"bg-blue-50/60"},manu:{name:"Manu",gradient:"from-pink-500 via-rose-400 to-yellow-400",bgGradient:"bg-gradient-to-br from-pink-500 via-rose-400 to-yellow-400",textColor:"text-white",accentColor:"text-pink-300",cardBg:"bg-pink-50/90",borderColor:"border-pink-200",subtleBg:"bg-pink-50/60"}},Md=[{id:"kirk",name:"Kirk",goals:{protein_g:160,carbs_g:220,fat_g:60,kcal:2400,water_ml:3e3},minimumRequirements:{protein_g:125,carbs_g:160,fat_g:40,kcal:1500}},{id:"manu",name:"Manu",goals:{protein_g:120,carbs_g:180,fat_g:50,kcal:2e3,water_ml:2500},minimumRequirements:{protein_g:96,carbs_g:120,fat_g:25,kcal:1100}}],I9={theme:"light",language:"pt",defaultUnit:"g"},Zo=async(t,e)=>{try{await t()}catch(r){console.error(`❌ Falha na sincronização de ${e}:`,r)}},Ur=LV()(WV((t,e)=>({currentUser:"kirk",selectedDate:new Date().toISOString().split("T")[0],isLoading:!1,error:null,isInitialized:!1,isAuthenticated:!1,foods:[],entries:[],users:Md,settings:I9,initializeApp:async()=>{const{isInitialized:r,isLoading:n}=e();if(r||n){console.log("⚠️ Aplicação já inicializada ou em processo, pulando...");return}t({isLoading:!0,error:null});try{console.log("🚀 Inicializando aplicação..."),await Oe.init(),await e().loadInitialData(),await e().autoSelectUser(),t({isInitialized:!0}),console.log("✅ Aplicação inicializada com sucesso")}catch(i){t({error:"Erro ao inicializar aplicação"}),console.error("Erro na inicialização:",i)}finally{t({isLoading:!1})}},loadInitialData:async()=>{try{const[r,n,i]=await Promise.all([Oe.getAllFoods(),Oe.getAllEntries(),Oe.getAllUsers()]);if(i.length===0)for(const a of Md)await Oe.updateUser(a);t({foods:r,entries:n,users:i.length>0?i:Md}),console.log(`✅ Aplicação inicializada (LOCAL): ${r.length} alimentos, ${n.length} entradas, ${i.length} usuários`)}catch(r){console.error("Erro ao carregar dados iniciais:",r),t({foods:[],entries:[],users:Md})}},autoSelectUser:async()=>{},setupRealtimeListeners:async()=>{try{console.log("🔄 Configurando listeners em tempo real..."),hr.onFoodsChange(async r=>{console.log("🔄 Alimentos atualizados em tempo real:",r.length);for(const n of r)try{await Oe.getFood(n.id)?(await Oe.updateFood(n),console.log(`🔄 Alimento atualizado: ${n.name}`)):(await Oe.addFood(n),console.log(`✅ Alimento adicionado: ${n.name}`))}catch(i){console.warn(`⚠️ Erro ao sincronizar alimento ${n.name}:`,i)}t({foods:r})}),console.log("✅ Listeners configurados")}catch(r){console.error("Erro ao configurar listeners:",r)}},setCurrentUser:r=>t({currentUser:r}),setSelectedDate:r=>t({selectedDate:r}),setUsers:r=>t({users:r}),setAuthenticated:r=>t({isAuthenticated:r}),setError:r=>t({error:r}),addFood:async r=>{const n=Date.now(),i={...r,id:r.id||jA(),createdAt:r.createdAt||n,updatedAt:n};await Oe.addFood(i),t(a=>({foods:[...a.foods,i]})),console.log(`🍎 Alimento adicionado: ${i.name}`),console.log(`✅ Alimento salvo localmente: ${i.name}`),await Zo(()=>hr.saveFood(i),`alimento ${i.name}`),console.log(`✅ Alimento sincronizado (LOCAL → FIREBASE): ${i.name}`)},updateFood:async r=>{const n={...r,updatedAt:Date.now()};await Oe.updateFood(n),t(i=>({foods:i.foods.map(a=>a.id===r.id?n:a)})),await Zo(()=>hr.saveFood(n),`alimento ${n.name}`),console.log(`✅ Alimento atualizado (LOCAL → FIREBASE): ${n.name}`)},deleteFood:async r=>{const n=e().foods.find(i=>i.id===r);await Oe.deleteFood(r),console.log(`🗑️ Alimento deletado: ${n==null?void 0:n.name}`),t(i=>({foods:i.foods.filter(a=>a.id!==r)})),n?(console.log(`🔄 Sincronizando deleção com Firebase: ${n.name}`),await Zo(()=>hr.deleteFood(r),`alimento ${n.name}`),console.log(`✅ Alimento deletado (LOCAL → FIREBASE): ${n.name}`)):console.warn(`⚠️ Alimento não encontrado para sincronização: ${r}`)},searchFoods:r=>{const{foods:n}=e();if(!r||r.trim()==="")return n;const i=r.toLowerCase().trim();return n.filter(a=>a.name.toLowerCase().includes(i)||a.category.toLowerCase().includes(i))},importFoods:async r=>{let n=0,i=0;for(const a of r){const o=e().foods.find(s=>s.name.toLowerCase()===a.name.toLowerCase());if(o){const s={...o,...a,id:o.id,createdAt:o.createdAt,updatedAt:Date.now()};await e().updateFood(s),i++,console.log(`🔄 Alimento atualizado: ${a.name}`)}else await e().addFood(a),n++,console.log(`✅ Alimento adicionado: ${a.name}`)}return{added:n,updated:i}},addEntry:async r=>{const n=Date.now(),i={...r,id:r.id||jA(),createdAt:r.createdAt||n,updatedAt:n,water_ml:r.water_ml||0};await Oe.addEntry(i),t(s=>({entries:[...s.entries,i]}));const a=e().foods.find(s=>s.id===i.foodId),o=(a==null?void 0:a.name)||"Alimento não encontrado";console.log(`📝 Entrada adicionada: ${o} (${i.dateISO})`),console.log(`✅ Entrada salva localmente: ${i.id}`),await Zo(()=>hr.saveEntry(i),`entrada ${o}`),console.log(`✅ Entrada sincronizada (LOCAL → FIREBASE): ${o} (${i.dateISO})`)},addEntryFromSync:r=>{t(n=>({entries:[...n.entries,r]}))},updateEntry:async r=>{const n={...r,water_ml:r.water_ml||0,updatedAt:Date.now()};await Oe.updateEntry(n),t(o=>({entries:o.entries.map(s=>s.id===r.id?n:s)}));const i=e().foods.find(o=>o.id===n.foodId),a=(i==null?void 0:i.name)||"Alimento não encontrado";await Zo(()=>hr.saveEntry(n),`entrada ${a}`),console.log(`✅ Entrada atualizada (LOCAL → FIREBASE): ${a} (${n.dateISO})`)},deleteEntry:async r=>{const n=e().entries.find(o=>o.id===r);await Oe.deleteEntry(r);const i=n?e().foods.find(o=>o.id===n.foodId):null,a=(i==null?void 0:i.name)||"Alimento não encontrado";console.log(`🗑️ Entrada deletada: ${a} (${n==null?void 0:n.dateISO})`),t(o=>({entries:o.entries.filter(s=>s.id!==r)})),n?(console.log(`🔄 Sincronizando deleção com Firebase: ${a} (${n.dateISO})`),await Zo(()=>hr.deleteEntry(r),`entrada ${a} (${n.dateISO})`),console.log(`✅ Entrada deletada (LOCAL → FIREBASE): ${a} (${n.dateISO})`)):console.warn(`⚠️ Entrada não encontrada para sincronização: ${r}`)},getEntriesForDate:(r,n)=>{const{entries:i}=e();return i.filter(a=>a.userId===r&&a.dateISO===n)},getCurrentUserTheme:()=>{const{currentUser:r}=e();return N0[r]||N0.kirk},getEntriesForDateRange:(r,n,i)=>{const{entries:a}=e();return a.filter(o=>o.userId===r&&o.dateISO>=n&&o.dateISO<=i)},exportBackup:async()=>await Oe.exportBackup(),importBackup:async r=>{await Oe.importBackup(r),await e().loadInitialData()},cleanDuplicates:async()=>{try{console.log("🧹 Limpando duplicatas de alimentos e entradas...");const r=await Oe.cleanAllDuplicates();return console.log(`✅ Limpeza concluída: ${r.foods.removed} alimentos e ${r.entries.removed} entradas removidas`),await e().loadInitialData(),r}catch(r){throw console.error("Erro ao limpar duplicatas:",r),r}},updateSettings:async r=>{const{settings:n}=e(),i={...n,...r};await Oe.setSetting("app_settings",i),t({settings:i})},getDailyTotals:(r,n)=>{const i=e().getEntriesForDate(r,n);return O9(i)}}),{name:"foodlog-km-storage",partialize:t=>({currentUser:t.currentUser,selectedDate:t.selectedDate,settings:t.settings}),onRehydrateStorage:()=>t=>{t&&(t.selectedDate=new Date().toISOString().split("T")[0],t.users&&(console.log("🧹 Limpando dados locais dos usuários - Firebase é a fonte da verdade"),t.users=[]))}})),tt=({children:t,className:e=""})=>g.jsx("div",{className:`bg-white rounded-lg shadow border border-gray-200 p-6 ${e}`,children:t}),k9=()=>{const{currentUser:t,selectedDate:e,users:r,setCurrentUser:n,setSelectedDate:i,getDailyTotals:a,isAuthenticated:o}=Ur(),s=M.useMemo(()=>(r||[]).filter(h=>h.id==="kirk"||h.id==="manu"),[r]),l=s.find(h=>h.id===t),u=a(t,e),c=h=>{i(h.target.value)},f=h=>{const[p,y,m]=h.split("-");return`${m}/${y}/${p}`};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"FoodLog KM"}),g.jsx("p",{className:"text-gray-600",children:"Registro de alimentos e nutrientes"})]}),g.jsx("div",{className:"flex bg-gray-100 rounded-lg p-1",children:s.map(h=>{const p=N0[h.id];return g.jsx("button",{onClick:()=>n(h.id),className:`px-4 py-2 rounded-md text-sm font-medium transition-all duration-300 ${t===h.id?`${p.bgGradient} ${p.textColor} shadow-lg transform scale-105`:"text-gray-600 hover:text-gray-900 hover:bg-gray-200"}`,children:g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("span",{children:h.name}),t===h.id&&g.jsxs("div",{className:"flex items-center space-x-1",children:[g.jsx("div",{className:`w-2 h-2 rounded-full ${o?"bg-green-500":"bg-gray-400"}`}),g.jsx("span",{className:`text-xs ${o?"text-green-600":"text-gray-500"}`,children:o?"🟢 Conectado":"⚪ Offline"})]})]})},h.id)})})]}),g.jsx(tt,{children:g.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Data Selecionada"}),g.jsx("p",{className:"text-sm text-gray-600",children:f(e)})]}),g.jsx("div",{className:"flex items-center space-x-2",children:g.jsx("input",{type:"date",value:e,onChange:c,className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})})]})}),g.jsxs(tt,{children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Ações Rápidas"}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[g.jsxs("button",{onClick:()=>{const h=new CustomEvent("openFoodEntry");window.dispatchEvent(h)},className:"inline-flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 w-full",children:[g.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),g.jsx("span",{className:"truncate",children:"Novo Lançamento"})]}),g.jsxs("button",{onClick:()=>{const h=new CustomEvent("openAddWater");window.dispatchEvent(h)},className:"inline-flex items-center justify-center px-4 py-2 bg-cyan-600 text-white rounded-md hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-cyan-500 w-full",children:[g.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),g.jsx("span",{className:"truncate",children:"Adicionar Água"})]}),g.jsxs("button",{onClick:()=>{const h=new CustomEvent("openFoodsManager");window.dispatchEvent(h)},className:"inline-flex items-center justify-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 w-full",children:[g.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),g.jsx("span",{className:"truncate",children:"Alimentos"})]}),g.jsxs("button",{onClick:()=>{const h=new CustomEvent("openReports");window.dispatchEvent(h)},className:"inline-flex items-center justify-center px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 w-full",children:[g.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),g.jsx("span",{className:"truncate",children:"Relatórios"})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[g.jsx(tt,{children:g.jsxs("div",{className:"text-center",children:[g.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[u.protein_g.toFixed(1),"g"]}),g.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Proteínas"}),g.jsxs("div",{className:"text-xs text-gray-500",children:["Meta: ",(l==null?void 0:l.goals.protein_g)||0,"g"]})]})}),g.jsx(tt,{children:g.jsxs("div",{className:"text-center",children:[g.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[u.carbs_g.toFixed(1),"g"]}),g.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Carboidratos"}),g.jsxs("div",{className:"text-xs text-gray-500",children:["Meta: ",(l==null?void 0:l.goals.carbs_g)||0,"g"]})]})}),g.jsx(tt,{children:g.jsxs("div",{className:"text-center",children:[g.jsxs("div",{className:"text-2xl font-bold text-yellow-600",children:[u.fat_g.toFixed(1),"g"]}),g.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Gorduras"}),g.jsxs("div",{className:"text-xs text-gray-500",children:["Meta: ",(l==null?void 0:l.goals.fat_g)||0,"g"]})]})}),g.jsx(tt,{children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-2xl font-bold text-red-600",children:u.kcal.toFixed(0)}),g.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Calorias"}),g.jsxs("div",{className:"text-xs text-gray-500",children:["Meta: ",(l==null?void 0:l.goals.kcal)||0]})]})}),g.jsx(tt,{children:g.jsxs("div",{className:"text-center",children:[g.jsxs("div",{className:"text-2xl font-bold text-cyan-600",children:[u.water_ml.toFixed(0),"ml"]}),g.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Água"}),g.jsxs("div",{className:"text-xs text-gray-500",children:["Meta: ",(l==null?void 0:l.goals.water_ml)||0,"ml"]})]})})]})]})},Na=({isOpen:t,onClose:e,title:r,children:n,size:i="md"})=>{if(D.useEffect(()=>{const o=s=>{s.key==="Escape"&&e()};return t&&(document.addEventListener("keydown",o),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",o),document.body.style.overflow="unset"}},[t,e]),!t)return null;const a={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return g.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:g.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:e}),g.jsxs("div",{className:`relative w-full ${a[i]} transform overflow-hidden rounded-lg bg-white shadow-xl transition-all`,children:[g.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-6 py-4",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:r}),g.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 focus:outline-none focus:text-gray-600",children:g.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),g.jsx("div",{className:"px-6 py-4",children:n})]})]})})},we=({variant:t="primary",size:e="md",className:r="",children:n,...i})=>{const a="inline-flex items-center justify-center font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",o={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"},s={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},l=`${a} ${o[t]} ${s[e]} ${r}`;return g.jsx("button",{className:l,...i,children:n})},Er=({label:t,error:e,className:r="",...n})=>{const o=`block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${e?"border-red-300 focus:ring-red-500 focus:border-red-500":""} ${r}`;return g.jsxs("div",{children:[t&&g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t}),g.jsx("input",{className:o,...n}),e&&g.jsx("p",{className:"mt-1 text-sm text-red-600",children:e})]})},MA={"cafe-da-manha":"Café da Manhã",almoco:"Almoço",lanche:"Lanche",jantar:"Jantar",outros:"Outros"},C9={"cafe-da-manha":"☀️",almoco:"🍽️",lanche:"🍪",jantar:"🌙",outros:"🍴"},N9=({isOpen:t,onClose:e,editingEntry:r,onUpdate:n})=>{const{foods:i,currentUser:a,selectedDate:o,addEntry:s,updateEntry:l}=Ur(),[u,c]=D.useState(""),[f,h]=D.useState(null),[p,y]=D.useState(""),[m,b]=D.useState("g"),[v,_]=D.useState("outros"),[w,I]=D.useState(""),[T,O]=D.useState(!1),[S,E]=D.useState([]);D.useEffect(()=>{if(r){const $=i.find(B=>B.id===r.foodId);h($||null),c(($==null?void 0:$.name)||""),y(r.qty.toString()),b(r.unit),_(r.mealType),I(r.note||"")}else A()},[r,i]);const A=()=>{c(""),h(null),y(""),b("g"),_("outros"),I(""),O(!1),E([])},C=$=>{if(c($),$.length>0){const B=i.filter(W=>W.name.toLowerCase().includes($.toLowerCase())||W.category.toLowerCase().includes($.toLowerCase()));E(B.slice(0,5)),O(!0)}else E([]),O(!1)},k=$=>{h($),c($.name),O(!1)},j=async $=>{if($.preventDefault(),!f||!p)return;const B=parseFloat(p);if(isNaN(B)||B<=0)return;const W=RA(f,B,m),V={userId:a,dateISO:o,foodId:f.id,qty:B,unit:m,mealType:v,note:w.trim()||void 0,...W};if(r&&n){const z={...r,...V};await l(z),n(z)}else await s(V);e(),A()},N=()=>{e(),A()},F=f&&p&&!isNaN(parseFloat(p))?RA(f,parseFloat(p),m):{protein_g:0,carbs_g:0,fat_g:0,kcal:0};return g.jsx(Na,{isOpen:t,onClose:N,title:r?"Editar Lançamento":"Novo Lançamento",size:"lg",children:g.jsxs("form",{onSubmit:j,className:"space-y-6",children:[g.jsxs("div",{className:"relative",children:[g.jsx(Er,{label:"Alimento",value:u,onChange:$=>C($.target.value),placeholder:"Digite o nome do alimento...",required:!0}),T&&S.length>0&&g.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto",children:S.map($=>g.jsxs("button",{type:"button",onClick:()=>k($),className:"w-full px-4 py-2 text-left hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",children:[g.jsx("div",{className:"font-medium",children:$.name}),g.jsx("div",{className:"text-sm text-gray-500",children:$.category})]},$.id))})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[g.jsx(Er,{label:"Quantidade",type:"number",value:p,onChange:$=>y($.target.value),placeholder:"0.0",step:"0.1",min:"0",required:!0}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unidade"}),g.jsxs("select",{value:m,onChange:$=>b($.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[g.jsx("option",{value:"g",children:"Gramas (g)"}),g.jsx("option",{value:"ml",children:"Mililitros (ml)"}),g.jsx("option",{value:"Kg",children:"Quilogramas (Kg)"}),g.jsx("option",{value:"L",children:"Litros (L)"})]})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Refeição"}),g.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:Object.keys(MA).map($=>g.jsxs("button",{type:"button",onClick:()=>_($),className:`p-3 rounded-lg border text-sm font-medium transition-colors ${v===$?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-gray-200 text-gray-700 hover:bg-gray-50"}`,children:[g.jsx("div",{className:"text-lg mb-1",children:C9[$]}),g.jsx("div",{children:MA[$]})]},$))})]}),g.jsx(Er,{label:"Observação (opcional)",value:w,onChange:$=>I($.target.value),placeholder:"Ex: sem sal, grelhado..."}),f&&p&&!isNaN(parseFloat(p))&&g.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[g.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Valores Nutricionais"}),g.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 text-sm",children:[g.jsxs("div",{children:[g.jsx("div",{className:"text-gray-600",children:"Proteínas"}),g.jsxs("div",{className:"font-medium",children:[F.protein_g.toFixed(1),"g"]})]}),g.jsxs("div",{children:[g.jsx("div",{className:"text-gray-600",children:"Carboidratos"}),g.jsxs("div",{className:"font-medium",children:[F.carbs_g.toFixed(1),"g"]})]}),g.jsxs("div",{children:[g.jsx("div",{className:"text-gray-600",children:"Gorduras"}),g.jsxs("div",{className:"font-medium",children:[F.fat_g.toFixed(1),"g"]})]}),g.jsxs("div",{children:[g.jsx("div",{className:"text-gray-600",children:"Calorias"}),g.jsx("div",{className:"font-medium",children:F.kcal.toFixed(0)})]})]})]}),u&&!f&&g.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:g.jsxs("div",{className:"flex",children:[g.jsx("div",{className:"text-yellow-400 mr-3",children:"⚠️"}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-sm font-medium text-yellow-800",children:"Alimento não encontrado"}),g.jsxs("p",{className:"text-sm text-yellow-700 mt-1",children:['O alimento "',u,'" não foi encontrado na base de dados. Verifique a ortografia ou adicione um novo alimento.']})]})]})}),g.jsxs("div",{className:"flex justify-end space-x-3",children:[g.jsx(we,{type:"button",variant:"secondary",onClick:N,children:"Cancelar"}),g.jsx(we,{type:"submit",disabled:!f||!p,children:r?"Atualizar":"Adicionar"})]})]})})},j9={"cafe-da-manha":"Café da Manhã",almoco:"Almoço",lanche:"Lanche",jantar:"Jantar",outros:"Outros"},R9={"cafe-da-manha":"☀️",almoco:"🍽️",lanche:"🍪",jantar:"🌙",outros:"🍴"},$A=["cafe-da-manha","almoco","lanche","jantar","outros"],M9=({onEdit:t,onDelete:e})=>{const{currentUser:r,selectedDate:n,foods:i,getEntriesForDate:a}=Ur(),[o,s]=D.useState(null),l=a(r,n),u=l.filter(v=>v.foodId==="agua"),f=l.filter(v=>v.foodId!=="agua").reduce((v,_)=>(v[_.mealType]||(v[_.mealType]=[]),v[_.mealType].push(_),v),{}),h=v=>{const _=i.find(w=>w.id===v);return _?_.name:"Alimento não encontrado"},p=v=>{const _=i.find(w=>w.id===v);return _?_.category:""},y=v=>v.unit==="g"||v.unit==="ml"?`${Ue(v.qty)}${v.unit}`:`${Ue(v.qty)} ${v.unit}`,m=$A.map(v=>{const w=(f[v]||[]).reduce((I,T)=>({kcal:I.kcal+T.kcal,protein_g:I.protein_g+T.protein_g,carbs_g:I.carbs_g+T.carbs_g,fat_g:I.fat_g+T.fat_g,count:I.count+1}),{kcal:0,protein_g:0,carbs_g:0,fat_g:0,count:0});return{mealType:v,...w}}),b=u.reduce((v,_)=>v+_.qty,0);return l.length===0?g.jsx(tt,{children:g.jsxs("div",{className:"text-center py-8",children:[g.jsx("div",{className:"text-4xl mb-4",children:"🍽️"}),g.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum lançamento hoje"}),g.jsx("p",{className:"text-gray-600",children:"Adicione alimentos para começar a registrar sua alimentação."})]})}):g.jsxs("div",{className:"space-y-6",children:[u.length>0&&g.jsxs("div",{className:"space-y-3",children:[g.jsx("div",{className:"mb-3 p-3 bg-cyan-50 rounded-lg border border-cyan-200",children:g.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("span",{className:"text-xl",children:"💧"}),g.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Água"}),g.jsxs("span",{className:"text-sm text-gray-500",children:["(",u.length," ",u.length===1?"lançamento":"lançamentos",")"]})]}),g.jsxs("div",{className:"text-center",children:[g.jsxs("div",{className:"font-semibold text-cyan-600",children:[Ue(b)," ml"]}),g.jsx("div",{className:"text-xs text-gray-500",children:"Total"})]})]})}),g.jsx("div",{className:"space-y-2",children:u.map(v=>g.jsxs("div",{className:"flex items-center justify-between p-4 bg-cyan-50 rounded-lg hover:bg-cyan-100 transition-colors border border-cyan-200",children:[g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("h4",{className:"font-medium text-gray-900",children:h(v.foodId)}),g.jsxs("div",{className:"text-sm text-cyan-600 font-medium",children:[Ue(v.qty)," ml"]})]}),v.note&&g.jsxs("p",{className:"text-sm text-gray-600 mb-2 italic",children:['"',v.note,'"']})]}),g.jsxs("div",{className:"flex flex-col sm:flex-row space-y-1 sm:space-y-0 sm:space-x-2 ml-2 sm:ml-4",children:[g.jsx(we,{onClick:()=>t(v),variant:"secondary",size:"sm",className:"text-xs px-2 py-1 min-w-0",children:"✏️"}),g.jsx(we,{onClick:()=>s(v.id),variant:"secondary",size:"sm",className:"text-xs px-2 py-1 min-w-0 text-red-600 hover:text-red-700",children:"🗑️"})]})]},v.id))})]}),$A.map(v=>{const _=f[v]||[],w=m.find(I=>I.mealType===v);return _.length===0?null:g.jsxs("div",{className:"space-y-3",children:[g.jsx("div",{className:"mb-3 p-3 bg-gray-50 rounded-lg",children:g.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("span",{className:"text-xl",children:R9[v]}),g.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:j9[v]}),g.jsxs("span",{className:"text-sm text-gray-500",children:["(",_.length," ",_.length===1?"item":"itens",")"]})]}),w&&w.count>0&&g.jsxs("div",{className:"text-center",children:[g.jsxs("div",{className:"font-semibold text-gray-900",children:[Ue(w.kcal)," kcal"]}),g.jsxs("div",{className:"text-xs text-gray-500",children:[Ue(w.protein_g),"p • ",Ue(w.carbs_g),"c • ",Ue(w.fat_g),"g"]})]})]})}),g.jsx("div",{className:"space-y-2",children:_.map(I=>g.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg hover:bg-gray-50 transition-colors border border-gray-200",children:[g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("h4",{className:"font-medium text-gray-900",children:h(I.foodId)}),g.jsx("div",{className:"text-sm text-gray-600",children:y(I)})]}),g.jsx("div",{className:"text-sm text-gray-500 mb-1",children:p(I.foodId)}),g.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-600",children:[g.jsxs("span",{children:[Ue(I.protein_g),"g proteína"]}),g.jsxs("span",{children:[Ue(I.carbs_g),"g carboidrato"]}),g.jsxs("span",{children:[Ue(I.fat_g),"g gordura"]}),g.jsxs("span",{className:"font-medium",children:[Ue(I.kcal)," kcal"]})]}),I.note&&g.jsxs("p",{className:"text-sm text-gray-600 mt-2 italic",children:['"',I.note,'"']})]}),g.jsxs("div",{className:"flex flex-col sm:flex-row space-y-1 sm:space-y-0 sm:space-x-2 ml-2 sm:ml-4",children:[g.jsx(we,{onClick:()=>t(I),variant:"secondary",size:"sm",className:"text-xs px-2 py-1 min-w-0",children:"✏️"}),g.jsx(we,{onClick:()=>s(I.id),variant:"secondary",size:"sm",className:"text-xs px-2 py-1 min-w-0 text-red-600 hover:text-red-700",children:"🗑️"})]})]},I.id))})]},v)}),o&&g.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:g.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50"}),g.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[g.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Confirmar Exclusão"}),g.jsx("p",{className:"text-gray-600 mb-6",children:"Tem certeza que deseja excluir este lançamento? Esta ação não pode ser desfeita."}),g.jsxs("div",{className:"flex justify-end space-x-3",children:[g.jsx(we,{variant:"secondary",onClick:()=>s(null),children:"Cancelar"}),g.jsx(we,{variant:"danger",onClick:()=>{e(o),s(null)},children:"Excluir"})]})]})]})})]})},$9=({isOpen:t,onClose:e})=>{const{importFoods:r}=Ur(),[n,i]=D.useState(!1),[a,o]=D.useState(!1),[s,l]=D.useState(null),[u,c]=D.useState(null),f=async _=>{if(!_.name.endsWith(".json")){l("Por favor, selecione um arquivo JSON válido.");return}o(!0),l(null),c(null);try{const w=await _.text(),I=JSON.parse(w);if(!Array.isArray(I))throw new Error("O arquivo deve conter um array de alimentos.");const T=[];for(const S of I)typeof S.name=="string"&&typeof S.category=="string"&&typeof S.per=="number"&&typeof S.protein_g=="number"&&typeof S.carbs_g=="number"&&typeof S.fat_g=="number"&&typeof S.kcal=="number"&&T.push({id:S.id||`imported-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:S.name,category:S.category,per:S.per,protein_g:S.protein_g,carbs_g:S.carbs_g,fat_g:S.fat_g,kcal:S.kcal,density_g_per_ml:S.density_g_per_ml||void 0});if(T.length===0)throw new Error("Nenhum alimento válido encontrado no arquivo.");const O=await r(T);c(`Importação concluída! ${O.added} alimentos adicionados, ${O.updated} atualizados.`),setTimeout(()=>{e()},2e3)}catch(w){l(w instanceof Error?w.message:"Erro ao processar arquivo.")}finally{o(!1)}},h=_=>{var I;const w=(I=_.target.files)==null?void 0:I[0];w&&f(w)},p=_=>{_.preventDefault(),i(!1);const w=_.dataTransfer.files[0];w&&f(w)},y=_=>{_.preventDefault(),i(!0)},m=_=>{_.preventDefault(),i(!1)},b=()=>{const _=[{name:"Arroz Branco",category:"Cereais",per:100,protein_g:7.2,carbs_g:28,fat_g:.3,kcal:130},{name:"Frango Grelhado",category:"Carnes",per:100,protein_g:23,carbs_g:0,fat_g:1.2,kcal:99}],w=new Blob([JSON.stringify(_,null,2)],{type:"application/json"}),I=URL.createObjectURL(w),T=document.createElement("a");T.href=I,T.download="alimentos_template.json",document.body.appendChild(T),T.click(),document.body.removeChild(T),URL.revokeObjectURL(I)},v=()=>{l(null),c(null),e()};return g.jsx(Na,{isOpen:t,onClose:v,title:"📥 Importar Alimentos",size:"lg",children:g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[g.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Como importar:"}),g.jsxs("ol",{className:"text-sm text-blue-800 space-y-1 list-decimal list-inside",children:[g.jsx("li",{children:"Baixe o template de exemplo"}),g.jsx("li",{children:"Preencha com seus alimentos (formato JSON)"}),g.jsx("li",{children:"Arraste o arquivo para cá ou clique para selecionar"})]})]}),g.jsx("div",{className:"text-center",children:g.jsx(we,{onClick:b,variant:"secondary",className:"mb-4",children:"📄 Baixar Template"})}),g.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${n?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onDrop:p,onDragOver:y,onDragLeave:m,children:[g.jsx("div",{className:"text-4xl mb-4",children:"📁"}),g.jsx("p",{className:"text-lg font-medium text-gray-900 mb-2",children:"Arraste o arquivo JSON aqui"}),g.jsx("p",{className:"text-gray-600 mb-4",children:"ou"}),g.jsx("input",{type:"file",accept:".json",onChange:h,className:"hidden",id:"file-input"}),g.jsx("label",{htmlFor:"file-input",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 cursor-pointer",children:"Selecionar Arquivo"})]}),s&&g.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:g.jsxs("div",{className:"flex",children:[g.jsx("div",{className:"text-red-400 mr-3",children:"❌"}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-sm font-medium text-red-800",children:"Erro na importação"}),g.jsx("p",{className:"text-sm text-red-700 mt-1",children:s})]})]})}),u&&g.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:g.jsxs("div",{className:"flex",children:[g.jsx("div",{className:"text-green-400 mr-3",children:"✅"}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-sm font-medium text-green-800",children:"Importação bem-sucedida"}),g.jsx("p",{className:"text-sm text-green-700 mt-1",children:u})]})]})}),a&&g.jsxs("div",{className:"text-center py-4",children:[g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),g.jsx("p",{className:"text-gray-600",children:"Processando arquivo..."})]}),g.jsx("div",{className:"flex justify-end",children:g.jsx(we,{onClick:v,variant:"secondary",children:"Fechar"})})]})})},D9=({isOpen:t,onClose:e})=>{const{foods:r,addFood:n,updateFood:i,deleteFood:a}=Ur(),[o,s]=D.useState(""),[l,u]=D.useState(!1),[c,f]=D.useState(!1),[h,p]=D.useState(!1),[y,m]=D.useState(null),[b,v]=D.useState({name:"",category:"",per:"",protein_g:"",carbs_g:"",fat_g:"",kcal:"",density_g_per_ml:""}),_=r.filter(A=>A.name.toLowerCase().includes(o.toLowerCase())||A.category.toLowerCase().includes(o.toLowerCase())),w=()=>{v({name:"",category:"",per:"",protein_g:"",carbs_g:"",fat_g:"",kcal:"",density_g_per_ml:""}),m(null),u(!0)},I=A=>{v({name:A.name,category:A.category,per:A.per.toString(),protein_g:A.protein_g.toString(),carbs_g:A.carbs_g.toString(),fat_g:A.fat_g.toString(),kcal:A.kcal.toString(),density_g_per_ml:(A.density_g_per_ml||0).toString()}),m(A),f(!0)},T=async A=>{confirm("Tem certeza que deseja excluir este alimento?")&&await a(A)},O=async A=>{A.preventDefault();const C={...b,per:parseFloat(b.per)||100,protein_g:parseFloat(b.protein_g)||0,carbs_g:parseFloat(b.carbs_g)||0,fat_g:parseFloat(b.fat_g)||0,kcal:parseFloat(b.kcal)||0,density_g_per_ml:parseFloat(b.density_g_per_ml)||0};y?await i({...y,...C}):await n(C),S()},S=()=>{u(!1),f(!1),p(!1),m(null)},E=()=>{p(!0)};return t?g.jsxs(Na,{isOpen:t,onClose:e,title:"Gerenciar Alimentos",size:"xl",children:[g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[g.jsx("div",{className:"flex-1",children:g.jsx(Er,{placeholder:"Buscar alimentos...",value:o,onChange:A=>s(A.target.value)})}),g.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2",children:[g.jsxs(we,{onClick:w,className:"whitespace-nowrap",children:[g.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Adicionar Alimento"]}),g.jsxs(we,{onClick:E,variant:"secondary",className:"whitespace-nowrap hidden md:flex",children:[g.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})}),"Importar JSON"]})]})]}),g.jsx("div",{className:"space-y-4",children:_.length===0?g.jsx(tt,{children:g.jsxs("div",{className:"text-center py-8",children:[g.jsx("div",{className:"text-4xl mb-4",children:"🍎"}),g.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum alimento encontrado"}),g.jsx("p",{className:"text-gray-600",children:o?"Tente uma busca diferente.":"Adicione alimentos para começar."})]})}):g.jsx("div",{className:"grid gap-4",children:_.map(A=>g.jsx(tt,{children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("h3",{className:"font-medium text-gray-900",children:A.name}),g.jsx("p",{className:"text-sm text-gray-600 mb-2",children:A.category}),g.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 text-sm",children:[g.jsxs("div",{children:[g.jsx("span",{className:"text-gray-500",children:"Proteína:"}),g.jsxs("span",{className:"ml-1 font-medium",children:[A.protein_g,"g"]})]}),g.jsxs("div",{children:[g.jsx("span",{className:"text-gray-500",children:"Carboidrato:"}),g.jsxs("span",{className:"ml-1 font-medium",children:[A.carbs_g,"g"]})]}),g.jsxs("div",{children:[g.jsx("span",{className:"text-gray-500",children:"Gordura:"}),g.jsxs("span",{className:"ml-1 font-medium",children:[A.fat_g,"g"]})]}),g.jsxs("div",{children:[g.jsx("span",{className:"text-gray-500",children:"Calorias:"}),g.jsx("span",{className:"ml-1 font-medium",children:A.kcal})]})]}),A.density_g_per_ml&&g.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Densidade: ",A.density_g_per_ml,"g/ml"]})]}),g.jsxs("div",{className:"flex space-x-2 ml-4",children:[g.jsx(we,{onClick:()=>I(A),variant:"secondary",size:"sm",children:"✏️"}),g.jsx(we,{onClick:()=>T(A.id),variant:"secondary",size:"sm",className:"text-red-600 hover:text-red-700",children:"🗑️"})]})]})},A.id))})})]}),g.jsx(Na,{isOpen:l||c,onClose:S,title:y?"Editar Alimento":"Adicionar Alimento",size:"lg",children:g.jsxs("form",{onSubmit:O,className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[g.jsx(Er,{label:"Nome",value:b.name,onChange:A=>v({...b,name:A.target.value}),required:!0}),g.jsx(Er,{label:"Categoria",value:b.category,onChange:A=>v({...b,category:A.target.value}),required:!0})]}),g.jsx(Er,{label:"Por (gramas/ml)",type:"text",value:b.per,onChange:A=>v({...b,per:A.target.value}),placeholder:"100",required:!0}),g.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[g.jsx(Er,{label:"Proteína (g)",type:"text",value:b.protein_g,onChange:A=>v({...b,protein_g:A.target.value}),placeholder:"0",required:!0}),g.jsx(Er,{label:"Carboidrato (g)",type:"text",value:b.carbs_g,onChange:A=>v({...b,carbs_g:A.target.value}),placeholder:"0",required:!0}),g.jsx(Er,{label:"Gordura (g)",type:"text",value:b.fat_g,onChange:A=>v({...b,fat_g:A.target.value}),placeholder:"0",required:!0}),g.jsx(Er,{label:"Calorias",type:"text",value:b.kcal,onChange:A=>v({...b,kcal:A.target.value}),placeholder:"0",required:!0})]}),g.jsx(Er,{label:"Densidade (g/ml) - opcional",type:"text",value:b.density_g_per_ml,onChange:A=>v({...b,density_g_per_ml:A.target.value}),placeholder:"0"}),g.jsxs("div",{className:"flex justify-end space-x-3",children:[g.jsx(we,{type:"button",variant:"secondary",onClick:S,children:"Cancelar"}),g.jsx(we,{type:"submit",children:y?"Atualizar":"Adicionar"})]})]})}),g.jsx($9,{isOpen:h,onClose:S})]}):null},L9=({isOpen:t,onClose:e})=>{const{currentUser:r,selectedDate:n,addEntry:i,foods:a}=Ur(),[o,s]=D.useState(0),[l,u]=D.useState(""),c=a.find(b=>b.id==="agua"),f=b=>{s(v=>v+b)},h=b=>{s(v=>Math.max(0,v-b))},p=()=>{s(0),u("")},y=async b=>{if(b.preventDefault(),o<=0)return;const v={userId:r,dateISO:n,foodId:"agua",qty:o,unit:"ml",mealType:"outros",note:l.trim()||void 0,protein_g:0,carbs_g:0,fat_g:0,kcal:0,water_ml:o};await i(v),e(),p()},m=()=>{e(),p()};return g.jsx(Na,{isOpen:t,onClose:m,title:"💧 Adicionar Água",size:"md",children:g.jsxs("form",{onSubmit:y,className:"space-y-6",children:[c&&g.jsxs("div",{className:"bg-cyan-50 rounded-lg p-4 border border-cyan-200",children:[g.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[g.jsx("span",{className:"text-2xl",children:"💧"}),g.jsx("h3",{className:"font-medium text-cyan-900",children:c.name})]}),g.jsx("p",{className:"text-sm text-cyan-700",children:"Adicione água ao seu registro diário"})]}),g.jsxs("div",{className:"text-center",children:[g.jsxs("div",{className:"text-4xl font-bold text-cyan-600 mb-2",children:[o," ml"]}),g.jsx("div",{className:"text-sm text-gray-600",children:"Quantidade atual"})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Adicionar rapidamente:"}),g.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[g.jsx(we,{type:"button",onClick:()=>f(100),variant:"secondary",className:"text-sm",children:"+100ml"}),g.jsx(we,{type:"button",onClick:()=>f(250),variant:"secondary",className:"text-sm",children:"+250ml"}),g.jsx(we,{type:"button",onClick:()=>f(500),variant:"secondary",className:"text-sm",children:"+500ml"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Remover:"}),g.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[g.jsx(we,{type:"button",onClick:()=>h(100),variant:"secondary",className:"text-sm",children:"-100ml"}),g.jsx(we,{type:"button",onClick:p,variant:"secondary",className:"text-sm",children:"Reset"})]})]})]}),g.jsx("div",{children:g.jsx(Er,{label:"Quantidade personalizada (ml)",type:"number",value:o||"",onChange:b=>s(parseInt(b.target.value)||0),placeholder:"0",min:"0",step:"50"})}),g.jsx(Er,{label:"Observação (opcional)",value:l,onChange:b=>u(b.target.value),placeholder:"Ex: água com limão, água gelada..."}),g.jsxs("div",{className:"flex justify-end space-x-3",children:[g.jsx(we,{type:"button",variant:"secondary",onClick:m,children:"Cancelar"}),g.jsx(we,{type:"submit",disabled:o<=0,children:"Adicionar Água"})]})]})})},pr=({value:t,max:e,color:r,label:n,unit:i,icon:a,className:o=""})=>{const[s,l]=D.useState(0),[u,c]=D.useState(!1);D.useEffect(()=>{const v=setTimeout(()=>{c(!0),l(t)},100);return()=>clearTimeout(v)},[t]);const f=e>0?s/e*100:0,h=Math.min(f,100),y=((v,_)=>{switch(_.toLowerCase()){case"proteína":case"proteínas":return v<85?"very-low":v<=94?"low":v<=110?"target":v<=120?"above":"excess";case"carboidrato":case"carboidratos":return v<70?"very-low":v<=84?"low":v<=100?"target":v<=105?"above":"excess";case"gordura":case"gorduras":return v<70?"very-low":v<=84?"low":v<=100?"target":v<=110?"above":"excess";case"caloria":case"calorias":return v<90?"very-low":v<=96?"low":v<=103?"target":v<=107?"above":"excess";case"água":case"agua":return v<75?"very-low":v<=90?"low":v<=130?"target":v<=150?"above":"excess";default:return v<60?"very-low":v<=79?"low":v<=100?"target":v<=110?"above":"excess"}})(f,n),b={"very-low":{icon:"🔴",color:"text-red-600",bgColor:"bg-red-50",text:"Muito baixo"},low:{icon:"🟠",color:"text-orange-500",bgColor:"bg-orange-50",text:"Baixo"},target:{icon:"✅",color:"text-green-600",bgColor:"bg-green-50",text:"Meta"},above:{icon:"🟡",color:"text-yellow-600",bgColor:"bg-yellow-50",text:"Acima"},excess:{icon:"⚠️",color:"text-red-500",bgColor:"bg-red-50",text:"Excesso"}}[y];return g.jsx("div",{className:`relative overflow-hidden rounded-lg border transition-all duration-300 hover:shadow-md ${b.bgColor} ${o}`,children:g.jsxs("div",{className:"p-3",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("div",{className:"text-sm",children:a}),g.jsx("div",{className:"text-xs font-medium text-gray-700 truncate",children:n})]}),g.jsxs("div",{className:"text-right",children:[g.jsx("div",{className:"text-sm font-bold text-gray-900",children:s.toFixed(0)}),g.jsx("div",{className:"text-xs text-gray-500",children:i})]})]}),g.jsxs("div",{className:"mb-2",children:[g.jsxs("div",{className:"flex justify-between items-center mb-1",children:[g.jsx("span",{className:"text-xs text-gray-600",children:"Progresso"}),g.jsxs("span",{className:`text-xs font-medium ${b.color}`,children:[f.toFixed(0),"%"]})]}),g.jsx("div",{className:"w-full bg-white/50 rounded-full h-1.5 overflow-hidden",children:g.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ease-out ${r}`,style:{width:u?`${h}%`:"0%",transition:"width 1s ease-out"}})})]}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:`text-xs ${b.color} flex items-center space-x-1`,children:[g.jsx("span",{children:b.icon}),g.jsx("span",{className:"hidden lg:inline text-xs",children:b.text})]}),g.jsxs("div",{className:"text-xs text-gray-500",children:[e.toFixed(0),i]})]})]})})},F9=({entries:t})=>{const e=t.reduce((n,i)=>{const a=i.mealType;return n[a]||(n[a]={mealType:a,protein_g:0,carbs_g:0,fat_g:0,kcal:0,count:0}),n[a].protein_g+=i.protein_g,n[a].carbs_g+=i.carbs_g,n[a].fat_g+=i.fat_g,n[a].kcal+=i.kcal,n[a].count+=1,n},{}),r=Object.values(e).map(n=>({...n,mealType:V9(n.mealType),icon:B9(n.mealType),color:U9(n.mealType)}));return g.jsx(tt,{children:g.jsxs("div",{className:"p-6",children:[g.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[g.jsx("span",{className:"mr-2",children:"🍽️"}),"Distribuição por Refeição"]}),r.length>0?g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:r.map((n,i)=>g.jsx("div",{className:`relative overflow-hidden rounded-lg border transition-all duration-300 hover:shadow-lg ${n.color.bgColor}`,children:g.jsxs("div",{className:"p-4",children:[g.jsxs("div",{className:"flex items-center justify-between mb-3",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("div",{className:"text-lg",children:n.icon}),g.jsxs("div",{children:[g.jsx("div",{className:"text-sm font-medium text-gray-700",children:n.mealType}),g.jsxs("div",{className:"text-xs text-gray-500",children:[n.count," item",n.count!==1?"s":""]})]})]}),g.jsxs("div",{className:"text-right",children:[g.jsx("div",{className:"text-lg font-bold text-gray-900",children:n.kcal.toFixed(0)}),g.jsx("div",{className:"text-xs text-gray-500",children:"kcal"})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),g.jsx("span",{className:"text-xs text-gray-600",children:"Proteína"})]}),g.jsxs("span",{className:"text-xs font-medium text-gray-900",children:[n.protein_g.toFixed(1),"g"]})]}),g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),g.jsx("span",{className:"text-xs text-gray-600",children:"Carboidratos"})]}),g.jsxs("span",{className:"text-xs font-medium text-gray-900",children:[n.carbs_g.toFixed(1),"g"]})]}),g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-500"}),g.jsx("span",{className:"text-xs text-gray-600",children:"Gorduras"})]}),g.jsxs("span",{className:"text-xs font-medium text-gray-900",children:[n.fat_g.toFixed(1),"g"]})]})]})]})},i))}):g.jsxs("div",{className:"text-center py-8 text-gray-500",children:[g.jsx("div",{className:"text-4xl mb-2",children:"🍽️"}),g.jsx("p",{children:"Nenhuma refeição registrada hoje"})]})]})})};function V9(t){return{breakfast:"Café da Manhã",lunch:"Almoço",dinner:"Jantar",snack:"Lanche",other:"Outros","cafe-da-manha":"Café da Manhã",almoco:"Almoço",jantar:"Jantar",lanche:"Lanche",outros:"Outros"}[t]||t}function B9(t){return{breakfast:"🌅",lunch:"🍽️",dinner:"🌙",snack:"🍎",other:"🍴","cafe-da-manha":"🌅",almoco:"🍽️",jantar:"🌙",lanche:"🍎",outros:"🍴"}[t]||"🍴"}function U9(t){return{breakfast:{bgColor:"bg-orange-50",borderColor:"border-orange-200"},lunch:{bgColor:"bg-green-50",borderColor:"border-green-200"},dinner:{bgColor:"bg-purple-50",borderColor:"border-purple-200"},snack:{bgColor:"bg-yellow-50",borderColor:"border-yellow-200"},other:{bgColor:"bg-gray-50",borderColor:"border-gray-200"},"cafe-da-manha":{bgColor:"bg-orange-50",borderColor:"border-orange-200"},almoco:{bgColor:"bg-green-50",borderColor:"border-green-200"},jantar:{bgColor:"bg-purple-50",borderColor:"border-purple-200"},lanche:{bgColor:"bg-yellow-50",borderColor:"border-yellow-200"},outros:{bgColor:"bg-gray-50",borderColor:"border-gray-200"}}[t]||{bgColor:"bg-gray-50",borderColor:"border-gray-200"}}function O2(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=O2(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function ye(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=O2(t))&&(n&&(n+=" "),n+=e);return n}var z9=Array.isArray,Cr=z9,W9=typeof ud=="object"&&ud&&ud.Object===Object&&ud,I2=W9,q9=I2,H9=typeof self=="object"&&self&&self.Object===Object&&self,G9=q9||H9||Function("return this")(),Jn=G9,K9=Jn,Y9=K9.Symbol,Lf=Y9,DA=Lf,k2=Object.prototype,Q9=k2.hasOwnProperty,X9=k2.toString,Su=DA?DA.toStringTag:void 0;function J9(t){var e=Q9.call(t,Su),r=t[Su];try{t[Su]=void 0;var n=!0}catch{}var i=X9.call(t);return n&&(e?t[Su]=r:delete t[Su]),i}var Z9=J9,eW=Object.prototype,tW=eW.toString;function rW(t){return tW.call(t)}var nW=rW,LA=Lf,iW=Z9,aW=nW,oW="[object Null]",sW="[object Undefined]",FA=LA?LA.toStringTag:void 0;function lW(t){return t==null?t===void 0?sW:oW:FA&&FA in Object(t)?iW(t):aW(t)}var Vi=lW;function uW(t){return t!=null&&typeof t=="object"}var Bi=uW,cW=Vi,fW=Bi,dW="[object Symbol]";function hW(t){return typeof t=="symbol"||fW(t)&&cW(t)==dW}var Vl=hW,pW=Cr,mW=Vl,gW=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vW=/^\w*$/;function yW(t,e){if(pW(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||mW(t)?!0:vW.test(t)||!gW.test(t)||e!=null&&t in Object(e)}var Jw=yW;function _W(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var La=_W;const Bl=Re(La);var bW=Vi,wW=La,xW="[object AsyncFunction]",EW="[object Function]",SW="[object GeneratorFunction]",AW="[object Proxy]";function TW(t){if(!wW(t))return!1;var e=bW(t);return e==EW||e==SW||e==xW||e==AW}var Zw=TW;const ce=Re(Zw);var PW=Jn,OW=PW["__core-js_shared__"],IW=OW,Fv=IW,VA=function(){var t=/[^.]+$/.exec(Fv&&Fv.keys&&Fv.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function kW(t){return!!VA&&VA in t}var CW=kW,NW=Function.prototype,jW=NW.toString;function RW(t){if(t!=null){try{return jW.call(t)}catch{}try{return t+""}catch{}}return""}var C2=RW,MW=Zw,$W=CW,DW=La,LW=C2,FW=/[\\^$.*+?()[\]{}|]/g,VW=/^\[object .+?Constructor\]$/,BW=Function.prototype,UW=Object.prototype,zW=BW.toString,WW=UW.hasOwnProperty,qW=RegExp("^"+zW.call(WW).replace(FW,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function HW(t){if(!DW(t)||$W(t))return!1;var e=MW(t)?qW:VW;return e.test(LW(t))}var GW=HW;function KW(t,e){return t==null?void 0:t[e]}var YW=KW,QW=GW,XW=YW;function JW(t,e){var r=XW(t,e);return QW(r)?r:void 0}var Bo=JW,ZW=Bo,e8=ZW(Object,"create"),qm=e8,BA=qm;function t8(){this.__data__=BA?BA(null):{},this.size=0}var r8=t8;function n8(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var i8=n8,a8=qm,o8="__lodash_hash_undefined__",s8=Object.prototype,l8=s8.hasOwnProperty;function u8(t){var e=this.__data__;if(a8){var r=e[t];return r===o8?void 0:r}return l8.call(e,t)?e[t]:void 0}var c8=u8,f8=qm,d8=Object.prototype,h8=d8.hasOwnProperty;function p8(t){var e=this.__data__;return f8?e[t]!==void 0:h8.call(e,t)}var m8=p8,g8=qm,v8="__lodash_hash_undefined__";function y8(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=g8&&e===void 0?v8:e,this}var _8=y8,b8=r8,w8=i8,x8=c8,E8=m8,S8=_8;function Ul(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ul.prototype.clear=b8;Ul.prototype.delete=w8;Ul.prototype.get=x8;Ul.prototype.has=E8;Ul.prototype.set=S8;var A8=Ul;function T8(){this.__data__=[],this.size=0}var P8=T8;function O8(t,e){return t===e||t!==t&&e!==e}var ex=O8,I8=ex;function k8(t,e){for(var r=t.length;r--;)if(I8(t[r][0],e))return r;return-1}var Hm=k8,C8=Hm,N8=Array.prototype,j8=N8.splice;function R8(t){var e=this.__data__,r=C8(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():j8.call(e,r,1),--this.size,!0}var M8=R8,$8=Hm;function D8(t){var e=this.__data__,r=$8(e,t);return r<0?void 0:e[r][1]}var L8=D8,F8=Hm;function V8(t){return F8(this.__data__,t)>-1}var B8=V8,U8=Hm;function z8(t,e){var r=this.__data__,n=U8(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var W8=z8,q8=P8,H8=M8,G8=L8,K8=B8,Y8=W8;function zl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}zl.prototype.clear=q8;zl.prototype.delete=H8;zl.prototype.get=G8;zl.prototype.has=K8;zl.prototype.set=Y8;var Gm=zl,Q8=Bo,X8=Jn,J8=Q8(X8,"Map"),tx=J8,UA=A8,Z8=Gm,eq=tx;function tq(){this.size=0,this.__data__={hash:new UA,map:new(eq||Z8),string:new UA}}var rq=tq;function nq(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var iq=nq,aq=iq;function oq(t,e){var r=t.__data__;return aq(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Km=oq,sq=Km;function lq(t){var e=sq(this,t).delete(t);return this.size-=e?1:0,e}var uq=lq,cq=Km;function fq(t){return cq(this,t).get(t)}var dq=fq,hq=Km;function pq(t){return hq(this,t).has(t)}var mq=pq,gq=Km;function vq(t,e){var r=gq(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var yq=vq,_q=rq,bq=uq,wq=dq,xq=mq,Eq=yq;function Wl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Wl.prototype.clear=_q;Wl.prototype.delete=bq;Wl.prototype.get=wq;Wl.prototype.has=xq;Wl.prototype.set=Eq;var rx=Wl,N2=rx,Sq="Expected a function";function nx(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Sq);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(nx.Cache||N2),r}nx.Cache=N2;var j2=nx;const Aq=Re(j2);var Tq=j2,Pq=500;function Oq(t){var e=Tq(t,function(n){return r.size===Pq&&r.clear(),n}),r=e.cache;return e}var Iq=Oq,kq=Iq,Cq=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Nq=/\\(\\)?/g,jq=kq(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Cq,function(r,n,i,a){e.push(i?a.replace(Nq,"$1"):n||r)}),e}),Rq=jq;function Mq(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var ix=Mq,zA=Lf,$q=ix,Dq=Cr,Lq=Vl,WA=zA?zA.prototype:void 0,qA=WA?WA.toString:void 0;function R2(t){if(typeof t=="string")return t;if(Dq(t))return $q(t,R2)+"";if(Lq(t))return qA?qA.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Fq=R2,Vq=Fq;function Bq(t){return t==null?"":Vq(t)}var M2=Bq,Uq=Cr,zq=Jw,Wq=Rq,qq=M2;function Hq(t,e){return Uq(t)?t:zq(t,e)?[t]:Wq(qq(t))}var $2=Hq,Gq=Vl;function Kq(t){if(typeof t=="string"||Gq(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Ym=Kq,Yq=$2,Qq=Ym;function Xq(t,e){e=Yq(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[Qq(e[r++])];return r&&r==n?t:void 0}var ax=Xq,Jq=ax;function Zq(t,e,r){var n=t==null?void 0:Jq(t,e);return n===void 0?r:n}var D2=Zq;const zr=Re(D2);function eH(t){return t==null}var tH=eH;const ge=Re(tH);var rH=Vi,nH=Cr,iH=Bi,aH="[object String]";function oH(t){return typeof t=="string"||!nH(t)&&iH(t)&&rH(t)==aH}var sH=oH;const Co=Re(sH);var L2={exports:{}},Le={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ox=Symbol.for("react.element"),sx=Symbol.for("react.portal"),Qm=Symbol.for("react.fragment"),Xm=Symbol.for("react.strict_mode"),Jm=Symbol.for("react.profiler"),Zm=Symbol.for("react.provider"),eg=Symbol.for("react.context"),lH=Symbol.for("react.server_context"),tg=Symbol.for("react.forward_ref"),rg=Symbol.for("react.suspense"),ng=Symbol.for("react.suspense_list"),ig=Symbol.for("react.memo"),ag=Symbol.for("react.lazy"),uH=Symbol.for("react.offscreen"),F2;F2=Symbol.for("react.module.reference");function cn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case ox:switch(t=t.type,t){case Qm:case Jm:case Xm:case rg:case ng:return t;default:switch(t=t&&t.$$typeof,t){case lH:case eg:case tg:case ag:case ig:case Zm:return t;default:return e}}case sx:return e}}}Le.ContextConsumer=eg;Le.ContextProvider=Zm;Le.Element=ox;Le.ForwardRef=tg;Le.Fragment=Qm;Le.Lazy=ag;Le.Memo=ig;Le.Portal=sx;Le.Profiler=Jm;Le.StrictMode=Xm;Le.Suspense=rg;Le.SuspenseList=ng;Le.isAsyncMode=function(){return!1};Le.isConcurrentMode=function(){return!1};Le.isContextConsumer=function(t){return cn(t)===eg};Le.isContextProvider=function(t){return cn(t)===Zm};Le.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===ox};Le.isForwardRef=function(t){return cn(t)===tg};Le.isFragment=function(t){return cn(t)===Qm};Le.isLazy=function(t){return cn(t)===ag};Le.isMemo=function(t){return cn(t)===ig};Le.isPortal=function(t){return cn(t)===sx};Le.isProfiler=function(t){return cn(t)===Jm};Le.isStrictMode=function(t){return cn(t)===Xm};Le.isSuspense=function(t){return cn(t)===rg};Le.isSuspenseList=function(t){return cn(t)===ng};Le.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Qm||t===Jm||t===Xm||t===rg||t===ng||t===uH||typeof t=="object"&&t!==null&&(t.$$typeof===ag||t.$$typeof===ig||t.$$typeof===Zm||t.$$typeof===eg||t.$$typeof===tg||t.$$typeof===F2||t.getModuleId!==void 0)};Le.typeOf=cn;L2.exports=Le;var cH=L2.exports,fH=Vi,dH=Bi,hH="[object Number]";function pH(t){return typeof t=="number"||dH(t)&&fH(t)==hH}var V2=pH;const mH=Re(V2);var gH=V2;function vH(t){return gH(t)&&t!=+t}var yH=vH;const Ff=Re(yH);var mr=function(e){return e===0?0:e>0?1:-1},uo=function(e){return Co(e)&&e.indexOf("%")===e.length-1},J=function(e){return mH(e)&&!Ff(e)},_H=function(e){return ge(e)},Pt=function(e){return J(e)||Co(e)},bH=0,ql=function(e){var r=++bH;return"".concat(e||"").concat(r)},gr=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!J(e)&&!Co(e))return n;var a;if(uo(e)){var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return Ff(a)&&(a=n),i&&a>r&&(a=r),a},sa=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},wH=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Lr=function(e,r){return J(e)&&J(r)?function(n){return e+n*(r-e)}:function(){return r}};function ap(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):zr(n,e))===r})}var xH=function(e,r){return J(e)&&J(r)?e-r:Co(e)&&Co(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Ms(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function j0(t){"@babel/helpers - typeof";return j0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j0(t)}var EH=["viewBox","children"],SH=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],HA=["points","pathLength"],Vv={svg:EH,polygon:HA,polyline:HA},lx=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],op=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(D.isValidElement(e)&&(n=e.props),!Bl(n))return null;var i={};return Object.keys(n).forEach(function(a){lx.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},AH=function(e,r,n){return function(i){return e(r,n,i),null}},No=function(e,r,n){if(!Bl(e)||j0(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];lx.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=AH(o,r,n))}),i},TH=["children"],PH=["children"];function GA(t,e){if(t==null)return{};var r=OH(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function OH(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function R0(t){"@babel/helpers - typeof";return R0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R0(t)}var KA={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},wi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},YA=null,Bv=null,ux=function t(e){if(e===YA&&Array.isArray(Bv))return Bv;var r=[];return D.Children.forEach(e,function(n){ge(n)||(cH.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),Bv=r,YA=e,r};function Wr(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return wi(i)}):n=[wi(e)],ux(t).forEach(function(i){var a=zr(i,"type.displayName")||zr(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Dr(t,e){var r=Wr(t,e);return r&&r[0]}var QA=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!J(n)||n<=0||!J(i)||i<=0)},IH=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],kH=function(e){return e&&e.type&&Co(e.type)&&IH.indexOf(e.type)>=0},CH=function(e){return e&&R0(e)==="object"&&"clipDot"in e},NH=function(e,r,n,i){var a,o=(a=Vv==null?void 0:Vv[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!ce(e)&&(i&&o.includes(r)||SH.includes(r))||n&&lx.includes(r)},le=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(D.isValidElement(e)&&(i=e.props),!Bl(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;NH((s=i)===null||s===void 0?void 0:s[o],o,r,n)&&(a[o]=i[o])}),a},M0=function t(e,r){if(e===r)return!0;var n=D.Children.count(e);if(n!==D.Children.count(r))return!1;if(n===0)return!0;if(n===1)return XA(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!XA(a,o))return!1}return!0},XA=function(e,r){if(ge(e)&&ge(r))return!0;if(!ge(e)&&!ge(r)){var n=e.props||{},i=n.children,a=GA(n,TH),o=r.props||{},s=o.children,l=GA(o,PH);return i&&s?Ms(a,l)&&M0(i,s):!i&&!s?Ms(a,l):!1}return!1},JA=function(e,r){var n=[],i={};return ux(e).forEach(function(a,o){if(kH(a))n.push(a);else if(a){var s=wi(a.type),l=r[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var f=u(a,s,o);n.push(f),i[s]=!0}}}),n},jH=function(e){var r=e&&e.type;return r&&KA[r]?KA[r]:null},RH=function(e,r){return ux(r).indexOf(e)},MH=["children","width","height","viewBox","className","style","title","desc"];function $0(){return $0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$0.apply(this,arguments)}function $H(t,e){if(t==null)return{};var r=DH(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function DH(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function D0(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,u=$H(t,MH),c=i||{width:r,height:n,x:0,y:0},f=ye("recharts-surface",a);return M.createElement("svg",$0({},le(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),M.createElement("title",null,s),M.createElement("desc",null,l),e)}var LH=["children","className"];function L0(){return L0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},L0.apply(this,arguments)}function FH(t,e){if(t==null)return{};var r=VH(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function VH(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var ke=M.forwardRef(function(t,e){var r=t.children,n=t.className,i=FH(t,LH),a=ye("recharts-layer",n);return M.createElement("g",L0({className:a},le(i,!0),{ref:e}),r)}),An=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function BH(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}var UH=BH,zH=UH;function WH(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:zH(t,e,r)}var qH=WH,HH="\\ud800-\\udfff",GH="\\u0300-\\u036f",KH="\\ufe20-\\ufe2f",YH="\\u20d0-\\u20ff",QH=GH+KH+YH,XH="\\ufe0e\\ufe0f",JH="\\u200d",ZH=RegExp("["+JH+HH+QH+XH+"]");function e7(t){return ZH.test(t)}var B2=e7;function t7(t){return t.split("")}var r7=t7,U2="\\ud800-\\udfff",n7="\\u0300-\\u036f",i7="\\ufe20-\\ufe2f",a7="\\u20d0-\\u20ff",o7=n7+i7+a7,s7="\\ufe0e\\ufe0f",l7="["+U2+"]",F0="["+o7+"]",V0="\\ud83c[\\udffb-\\udfff]",u7="(?:"+F0+"|"+V0+")",z2="[^"+U2+"]",W2="(?:\\ud83c[\\udde6-\\uddff]){2}",q2="[\\ud800-\\udbff][\\udc00-\\udfff]",c7="\\u200d",H2=u7+"?",G2="["+s7+"]?",f7="(?:"+c7+"(?:"+[z2,W2,q2].join("|")+")"+G2+H2+")*",d7=G2+H2+f7,h7="(?:"+[z2+F0+"?",F0,W2,q2,l7].join("|")+")",p7=RegExp(V0+"(?="+V0+")|"+h7+d7,"g");function m7(t){return t.match(p7)||[]}var g7=m7,v7=r7,y7=B2,_7=g7;function b7(t){return y7(t)?_7(t):v7(t)}var w7=b7,x7=qH,E7=B2,S7=w7,A7=M2;function T7(t){return function(e){e=A7(e);var r=E7(e)?S7(e):void 0,n=r?r[0]:e.charAt(0),i=r?x7(r,1).join(""):e.slice(1);return n[t]()+i}}var P7=T7,O7=P7,I7=O7("toUpperCase"),k7=I7;const og=Re(k7);function He(t){return function(){return t}}const K2=Math.cos,sp=Math.sin,On=Math.sqrt,lp=Math.PI,sg=2*lp,B0=Math.PI,U0=2*B0,Za=1e-6,C7=U0-Za;function Y2(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function N7(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Y2;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class j7{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Y2:N7(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=n-e,u=i-r,c=o-e,f=s-r,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>Za)if(!(Math.abs(f*l-u*c)>Za)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-o,y=i-s,m=l*l+u*u,b=p*p+y*y,v=Math.sqrt(m),_=Math.sqrt(h),w=a*Math.tan((B0-Math.acos((m+h-b)/(2*v*_)))/2),I=w/_,T=w/v;Math.abs(I-1)>Za&&this._append`L${e+I*c},${r+I*f}`,this._append`A${a},${a},0,0,${+(f*p>c*y)},${this._x1=e+T*l},${this._y1=r+T*u}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),u=e+s,c=r+l,f=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Za||Math.abs(this._y1-c)>Za)&&this._append`L${u},${c}`,n&&(h<0&&(h=h%U0+U0),h>C7?this._append`A${n},${n},0,1,${f},${e-s},${r-l}A${n},${n},0,1,${f},${this._x1=u},${this._y1=c}`:h>Za&&this._append`A${n},${n},0,${+(h>=B0)},${f},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function cx(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new j7(e)}function fx(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Q2(t){this._context=t}Q2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function lg(t){return new Q2(t)}function X2(t){return t[0]}function J2(t){return t[1]}function Z2(t,e){var r=He(!0),n=null,i=lg,a=null,o=cx(s);t=typeof t=="function"?t:t===void 0?X2:He(t),e=typeof e=="function"?e:e===void 0?J2:He(e);function s(l){var u,c=(l=fx(l)).length,f,h=!1,p;for(n==null&&(a=i(p=o())),u=0;u<=c;++u)!(u<c&&r(f=l[u],u,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,u,l),+e(f,u,l));if(p)return a=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:He(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:He(+l),s):e},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:He(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),s):n},s}function $d(t,e,r){var n=null,i=He(!0),a=null,o=lg,s=null,l=cx(u);t=typeof t=="function"?t:t===void 0?X2:He(+t),e=typeof e=="function"?e:He(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?J2:He(+r);function u(f){var h,p,y,m=(f=fx(f)).length,b,v=!1,_,w=new Array(m),I=new Array(m);for(a==null&&(s=o(_=l())),h=0;h<=m;++h){if(!(h<m&&i(b=f[h],h,f))===v)if(v=!v)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),y=h-1;y>=p;--y)s.point(w[y],I[y]);s.lineEnd(),s.areaEnd()}v&&(w[h]=+t(b,h,f),I[h]=+e(b,h,f),s.point(n?+n(b,h,f):w[h],r?+r(b,h,f):I[h]))}if(_)return s=null,_+""||null}function c(){return Z2().defined(i).curve(o).context(a)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:He(+f),n=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:He(+f),u):t},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:He(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:He(+f),r=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:He(+f),u):e},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:He(+f),u):r},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(r)},u.lineX1=function(){return c().x(n).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:He(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),u):a},u}class eR{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function R7(t){return new eR(t,!0)}function M7(t){return new eR(t,!1)}const dx={draw(t,e){const r=On(e/lp);t.moveTo(r,0),t.arc(0,0,r,0,sg)}},$7={draw(t,e){const r=On(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},tR=On(1/3),D7=tR*2,L7={draw(t,e){const r=On(e/D7),n=r*tR;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},F7={draw(t,e){const r=On(e),n=-r/2;t.rect(n,n,r,r)}},V7=.8908130915292852,rR=sp(lp/10)/sp(7*lp/10),B7=sp(sg/10)*rR,U7=-K2(sg/10)*rR,z7={draw(t,e){const r=On(e*V7),n=B7*r,i=U7*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=sg*a/5,s=K2(o),l=sp(o);t.lineTo(l*r,-s*r),t.lineTo(s*n-l*i,l*n+s*i)}t.closePath()}},Uv=On(3),W7={draw(t,e){const r=-On(e/(Uv*3));t.moveTo(0,r*2),t.lineTo(-Uv*r,-r),t.lineTo(Uv*r,-r),t.closePath()}},Yr=-.5,Qr=On(3)/2,z0=1/On(12),q7=(z0/2+1)*3,H7={draw(t,e){const r=On(e/q7),n=r/2,i=r*z0,a=n,o=r*z0+r,s=-a,l=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(Yr*n-Qr*i,Qr*n+Yr*i),t.lineTo(Yr*a-Qr*o,Qr*a+Yr*o),t.lineTo(Yr*s-Qr*l,Qr*s+Yr*l),t.lineTo(Yr*n+Qr*i,Yr*i-Qr*n),t.lineTo(Yr*a+Qr*o,Yr*o-Qr*a),t.lineTo(Yr*s+Qr*l,Yr*l-Qr*s),t.closePath()}};function G7(t,e){let r=null,n=cx(i);t=typeof t=="function"?t:He(t||dx),e=typeof e=="function"?e:He(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:He(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:He(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function up(){}function cp(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function nR(t){this._context=t}nR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:cp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:cp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function K7(t){return new nR(t)}function iR(t){this._context=t}iR.prototype={areaStart:up,areaEnd:up,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:cp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Y7(t){return new iR(t)}function aR(t){this._context=t}aR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:cp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Q7(t){return new aR(t)}function oR(t){this._context=t}oR.prototype={areaStart:up,areaEnd:up,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function X7(t){return new oR(t)}function ZA(t){return t<0?-1:1}function eT(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(ZA(a)+ZA(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function tT(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function zv(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-n)/3;t._context.bezierCurveTo(n+s,i+s*e,a-s,o-s*r,a,o)}function fp(t){this._context=t}fp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:zv(this,this._t0,tT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,zv(this,tT(this,r=eT(this,t,e)),r);break;default:zv(this,this._t0,r=eT(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function sR(t){this._context=new lR(t)}(sR.prototype=Object.create(fp.prototype)).point=function(t,e){fp.prototype.point.call(this,e,t)};function lR(t){this._context=t}lR.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function J7(t){return new fp(t)}function Z7(t){return new sR(t)}function uR(t){this._context=t}uR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=rT(t),i=rT(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function rT(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function eG(t){return new uR(t)}function ug(t,e){this._context=t,this._t=e}ug.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function tG(t){return new ug(t,.5)}function rG(t){return new ug(t,0)}function nG(t){return new ug(t,1)}function il(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,s=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function W0(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function iG(t,e){return t[e]}function aG(t){const e=[];return e.key=t,e}function oG(){var t=He([]),e=W0,r=il,n=iG;function i(a){var o=Array.from(t.apply(this,arguments),aG),s,l=o.length,u=-1,c;for(const f of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+n(f,o[s].key,u,a)]).data=f;for(s=0,c=fx(e(o));s<l;++s)o[c[s]].index=s;return r(o,c),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:He(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:He(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?W0:typeof a=="function"?a:He(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??il,i):r},i}function sG(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}il(t,e)}}function lG(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=t[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}il(t,e)}}function uG(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,l=0,u=0;s<o;++s){for(var c=t[e[s]],f=c[n][1]||0,h=c[n-1][1]||0,p=(f-h)/2,y=0;y<s;++y){var m=t[e[y]],b=m[n][1]||0,v=m[n-1][1]||0;p+=b-v}l+=f,u+=p*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,il(t,e)}}function Lc(t){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(t)}var cG=["type","size","sizeType"];function q0(){return q0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},q0.apply(this,arguments)}function nT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function iT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nT(Object(r),!0).forEach(function(n){fG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fG(t,e,r){return e=dG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dG(t){var e=hG(t,"string");return Lc(e)=="symbol"?e:e+""}function hG(t,e){if(Lc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pG(t,e){if(t==null)return{};var r=mG(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mG(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var cR={symbolCircle:dx,symbolCross:$7,symbolDiamond:L7,symbolSquare:F7,symbolStar:z7,symbolTriangle:W7,symbolWye:H7},gG=Math.PI/180,vG=function(e){var r="symbol".concat(og(e));return cR[r]||dx},yG=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*gG;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},_G=function(e,r){cR["symbol".concat(og(e))]=r},hx=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=pG(e,cG),u=iT(iT({},l),{},{type:n,size:a,sizeType:s}),c=function(){var b=vG(n),v=G7().type(b).size(yG(a,s,n));return v()},f=u.className,h=u.cx,p=u.cy,y=le(u,!0);return h===+h&&p===+p&&a===+a?M.createElement("path",q0({},y,{className:ye("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:c()})):null};hx.registerSymbol=_G;function al(t){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},al(t)}function H0(){return H0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},H0.apply(this,arguments)}function aT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bG(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aT(Object(r),!0).forEach(function(n){Fc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dR(n.key),n)}}function EG(t,e,r){return e&&xG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function SG(t,e,r){return e=dp(e),AG(t,fR()?Reflect.construct(e,r||[],dp(t).constructor):e.apply(t,r))}function AG(t,e){if(e&&(al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TG(t)}function TG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fR=function(){return!!t})()}function dp(t){return dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dp(t)}function PG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G0(t,e)}function G0(t,e){return G0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},G0(t,e)}function Fc(t,e,r){return e=dR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dR(t){var e=OG(t,"string");return al(e)=="symbol"?e:e+""}function OG(t,e){if(al(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(al(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xr=32,px=function(t){function e(){return wG(this,e),SG(this,e,arguments)}return PG(e,t),EG(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Xr/2,o=Xr/6,s=Xr/3,l=n.inactive?i:n.color;if(n.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Xr,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(Xr,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return M.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Xr/8,"h").concat(Xr,"v").concat(Xr*3/4,"h").concat(-Xr,"z"),className:"recharts-legend-icon"});if(M.isValidElement(n.legendIcon)){var u=bG({},n);return delete u.legendIcon,M.cloneElement(n.legendIcon,u)}return M.createElement(hx,{fill:l,cx:a,cy:a,size:Xr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:Xr,height:Xr},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,y){var m=p.formatter||l,b=ye(Fc(Fc({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",p.inactive));if(p.type==="none")return null;var v=ce(p.value)?null:p.value;An(!ce(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=p.inactive?u:p.color;return M.createElement("li",H0({className:b,style:f,key:"legend-item-".concat(y)},No(n.props,p,y)),M.createElement(D0,{width:o,height:o,viewBox:c,style:h},n.renderIcon(p)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},m?m(v,p,y):v))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(D.PureComponent);Fc(px,"displayName","Legend");Fc(px,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var IG=Gm;function kG(){this.__data__=new IG,this.size=0}var CG=kG;function NG(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var jG=NG;function RG(t){return this.__data__.get(t)}var MG=RG;function $G(t){return this.__data__.has(t)}var DG=$G,LG=Gm,FG=tx,VG=rx,BG=200;function UG(t,e){var r=this.__data__;if(r instanceof LG){var n=r.__data__;if(!FG||n.length<BG-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new VG(n)}return r.set(t,e),this.size=r.size,this}var zG=UG,WG=Gm,qG=CG,HG=jG,GG=MG,KG=DG,YG=zG;function Hl(t){var e=this.__data__=new WG(t);this.size=e.size}Hl.prototype.clear=qG;Hl.prototype.delete=HG;Hl.prototype.get=GG;Hl.prototype.has=KG;Hl.prototype.set=YG;var hR=Hl,QG="__lodash_hash_undefined__";function XG(t){return this.__data__.set(t,QG),this}var JG=XG;function ZG(t){return this.__data__.has(t)}var eK=ZG,tK=rx,rK=JG,nK=eK;function hp(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new tK;++e<r;)this.add(t[e])}hp.prototype.add=hp.prototype.push=rK;hp.prototype.has=nK;var pR=hp;function iK(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var mR=iK;function aK(t,e){return t.has(e)}var gR=aK,oK=pR,sK=mR,lK=gR,uK=1,cK=2;function fK(t,e,r,n,i,a){var o=r&uK,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(t),c=a.get(e);if(u&&c)return u==e&&c==t;var f=-1,h=!0,p=r&cK?new oK:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var y=t[f],m=e[f];if(n)var b=o?n(m,y,f,e,t,a):n(y,m,f,t,e,a);if(b!==void 0){if(b)continue;h=!1;break}if(p){if(!sK(e,function(v,_){if(!lK(p,_)&&(y===v||i(y,v,r,n,a)))return p.push(_)})){h=!1;break}}else if(!(y===m||i(y,m,r,n,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var vR=fK,dK=Jn,hK=dK.Uint8Array,pK=hK;function mK(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var gK=mK;function vK(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var mx=vK,oT=Lf,sT=pK,yK=ex,_K=vR,bK=gK,wK=mx,xK=1,EK=2,SK="[object Boolean]",AK="[object Date]",TK="[object Error]",PK="[object Map]",OK="[object Number]",IK="[object RegExp]",kK="[object Set]",CK="[object String]",NK="[object Symbol]",jK="[object ArrayBuffer]",RK="[object DataView]",lT=oT?oT.prototype:void 0,Wv=lT?lT.valueOf:void 0;function MK(t,e,r,n,i,a,o){switch(r){case RK:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case jK:return!(t.byteLength!=e.byteLength||!a(new sT(t),new sT(e)));case SK:case AK:case OK:return yK(+t,+e);case TK:return t.name==e.name&&t.message==e.message;case IK:case CK:return t==e+"";case PK:var s=bK;case kK:var l=n&xK;if(s||(s=wK),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;n|=EK,o.set(t,e);var c=_K(s(t),s(e),n,i,a,o);return o.delete(t),c;case NK:if(Wv)return Wv.call(t)==Wv.call(e)}return!1}var $K=MK;function DK(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var yR=DK,LK=yR,FK=Cr;function VK(t,e,r){var n=e(t);return FK(t)?n:LK(n,r(t))}var BK=VK;function UK(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}var zK=UK;function WK(){return[]}var qK=WK,HK=zK,GK=qK,KK=Object.prototype,YK=KK.propertyIsEnumerable,uT=Object.getOwnPropertySymbols,QK=uT?function(t){return t==null?[]:(t=Object(t),HK(uT(t),function(e){return YK.call(t,e)}))}:GK,XK=QK;function JK(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var ZK=JK,eY=Vi,tY=Bi,rY="[object Arguments]";function nY(t){return tY(t)&&eY(t)==rY}var iY=nY,cT=iY,aY=Bi,_R=Object.prototype,oY=_R.hasOwnProperty,sY=_R.propertyIsEnumerable,lY=cT(function(){return arguments}())?cT:function(t){return aY(t)&&oY.call(t,"callee")&&!sY.call(t,"callee")},gx=lY,pp={exports:{}};function uY(){return!1}var cY=uY;pp.exports;(function(t,e){var r=Jn,n=cY,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?r.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||n;t.exports=u})(pp,pp.exports);var bR=pp.exports,fY=9007199254740991,dY=/^(?:0|[1-9]\d*)$/;function hY(t,e){var r=typeof t;return e=e??fY,!!e&&(r=="number"||r!="symbol"&&dY.test(t))&&t>-1&&t%1==0&&t<e}var vx=hY,pY=9007199254740991;function mY(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=pY}var yx=mY,gY=Vi,vY=yx,yY=Bi,_Y="[object Arguments]",bY="[object Array]",wY="[object Boolean]",xY="[object Date]",EY="[object Error]",SY="[object Function]",AY="[object Map]",TY="[object Number]",PY="[object Object]",OY="[object RegExp]",IY="[object Set]",kY="[object String]",CY="[object WeakMap]",NY="[object ArrayBuffer]",jY="[object DataView]",RY="[object Float32Array]",MY="[object Float64Array]",$Y="[object Int8Array]",DY="[object Int16Array]",LY="[object Int32Array]",FY="[object Uint8Array]",VY="[object Uint8ClampedArray]",BY="[object Uint16Array]",UY="[object Uint32Array]",Xe={};Xe[RY]=Xe[MY]=Xe[$Y]=Xe[DY]=Xe[LY]=Xe[FY]=Xe[VY]=Xe[BY]=Xe[UY]=!0;Xe[_Y]=Xe[bY]=Xe[NY]=Xe[wY]=Xe[jY]=Xe[xY]=Xe[EY]=Xe[SY]=Xe[AY]=Xe[TY]=Xe[PY]=Xe[OY]=Xe[IY]=Xe[kY]=Xe[CY]=!1;function zY(t){return yY(t)&&vY(t.length)&&!!Xe[gY(t)]}var WY=zY;function qY(t){return function(e){return t(e)}}var wR=qY,mp={exports:{}};mp.exports;(function(t,e){var r=I2,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(mp,mp.exports);var HY=mp.exports,GY=WY,KY=wR,fT=HY,dT=fT&&fT.isTypedArray,YY=dT?KY(dT):GY,xR=YY,QY=ZK,XY=gx,JY=Cr,ZY=bR,eQ=vx,tQ=xR,rQ=Object.prototype,nQ=rQ.hasOwnProperty;function iQ(t,e){var r=JY(t),n=!r&&XY(t),i=!r&&!n&&ZY(t),a=!r&&!n&&!i&&tQ(t),o=r||n||i||a,s=o?QY(t.length,String):[],l=s.length;for(var u in t)(e||nQ.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||eQ(u,l)))&&s.push(u);return s}var aQ=iQ,oQ=Object.prototype;function sQ(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||oQ;return t===r}var lQ=sQ;function uQ(t,e){return function(r){return t(e(r))}}var ER=uQ,cQ=ER,fQ=cQ(Object.keys,Object),dQ=fQ,hQ=lQ,pQ=dQ,mQ=Object.prototype,gQ=mQ.hasOwnProperty;function vQ(t){if(!hQ(t))return pQ(t);var e=[];for(var r in Object(t))gQ.call(t,r)&&r!="constructor"&&e.push(r);return e}var yQ=vQ,_Q=Zw,bQ=yx;function wQ(t){return t!=null&&bQ(t.length)&&!_Q(t)}var Vf=wQ,xQ=aQ,EQ=yQ,SQ=Vf;function AQ(t){return SQ(t)?xQ(t):EQ(t)}var cg=AQ,TQ=BK,PQ=XK,OQ=cg;function IQ(t){return TQ(t,OQ,PQ)}var kQ=IQ,hT=kQ,CQ=1,NQ=Object.prototype,jQ=NQ.hasOwnProperty;function RQ(t,e,r,n,i,a){var o=r&CQ,s=hT(t),l=s.length,u=hT(e),c=u.length;if(l!=c&&!o)return!1;for(var f=l;f--;){var h=s[f];if(!(o?h in e:jQ.call(e,h)))return!1}var p=a.get(t),y=a.get(e);if(p&&y)return p==e&&y==t;var m=!0;a.set(t,e),a.set(e,t);for(var b=o;++f<l;){h=s[f];var v=t[h],_=e[h];if(n)var w=o?n(_,v,h,e,t,a):n(v,_,h,t,e,a);if(!(w===void 0?v===_||i(v,_,r,n,a):w)){m=!1;break}b||(b=h=="constructor")}if(m&&!b){var I=t.constructor,T=e.constructor;I!=T&&"constructor"in t&&"constructor"in e&&!(typeof I=="function"&&I instanceof I&&typeof T=="function"&&T instanceof T)&&(m=!1)}return a.delete(t),a.delete(e),m}var MQ=RQ,$Q=Bo,DQ=Jn,LQ=$Q(DQ,"DataView"),FQ=LQ,VQ=Bo,BQ=Jn,UQ=VQ(BQ,"Promise"),zQ=UQ,WQ=Bo,qQ=Jn,HQ=WQ(qQ,"Set"),SR=HQ,GQ=Bo,KQ=Jn,YQ=GQ(KQ,"WeakMap"),QQ=YQ,K0=FQ,Y0=tx,Q0=zQ,X0=SR,J0=QQ,AR=Vi,Gl=C2,pT="[object Map]",XQ="[object Object]",mT="[object Promise]",gT="[object Set]",vT="[object WeakMap]",yT="[object DataView]",JQ=Gl(K0),ZQ=Gl(Y0),eX=Gl(Q0),tX=Gl(X0),rX=Gl(J0),eo=AR;(K0&&eo(new K0(new ArrayBuffer(1)))!=yT||Y0&&eo(new Y0)!=pT||Q0&&eo(Q0.resolve())!=mT||X0&&eo(new X0)!=gT||J0&&eo(new J0)!=vT)&&(eo=function(t){var e=AR(t),r=e==XQ?t.constructor:void 0,n=r?Gl(r):"";if(n)switch(n){case JQ:return yT;case ZQ:return pT;case eX:return mT;case tX:return gT;case rX:return vT}return e});var nX=eo,qv=hR,iX=vR,aX=$K,oX=MQ,_T=nX,bT=Cr,wT=bR,sX=xR,lX=1,xT="[object Arguments]",ET="[object Array]",Dd="[object Object]",uX=Object.prototype,ST=uX.hasOwnProperty;function cX(t,e,r,n,i,a){var o=bT(t),s=bT(e),l=o?ET:_T(t),u=s?ET:_T(e);l=l==xT?Dd:l,u=u==xT?Dd:u;var c=l==Dd,f=u==Dd,h=l==u;if(h&&wT(t)){if(!wT(e))return!1;o=!0,c=!1}if(h&&!c)return a||(a=new qv),o||sX(t)?iX(t,e,r,n,i,a):aX(t,e,l,r,n,i,a);if(!(r&lX)){var p=c&&ST.call(t,"__wrapped__"),y=f&&ST.call(e,"__wrapped__");if(p||y){var m=p?t.value():t,b=y?e.value():e;return a||(a=new qv),i(m,b,r,n,a)}}return h?(a||(a=new qv),oX(t,e,r,n,i,a)):!1}var fX=cX,dX=fX,AT=Bi;function TR(t,e,r,n,i){return t===e?!0:t==null||e==null||!AT(t)&&!AT(e)?t!==t&&e!==e:dX(t,e,r,n,TR,i)}var _x=TR,hX=hR,pX=_x,mX=1,gX=2;function vX(t,e,r,n){var i=r.length,a=i,o=!n;if(t==null)return!a;for(t=Object(t);i--;){var s=r[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=r[i];var l=s[0],u=t[l],c=s[1];if(o&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new hX;if(n)var h=n(u,c,l,t,e,f);if(!(h===void 0?pX(c,u,mX|gX,n,f):h))return!1}}return!0}var yX=vX,_X=La;function bX(t){return t===t&&!_X(t)}var PR=bX,wX=PR,xX=cg;function EX(t){for(var e=xX(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,wX(i)]}return e}var SX=EX;function AX(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var OR=AX,TX=yX,PX=SX,OX=OR;function IX(t){var e=PX(t);return e.length==1&&e[0][2]?OX(e[0][0],e[0][1]):function(r){return r===t||TX(r,t,e)}}var kX=IX;function CX(t,e){return t!=null&&e in Object(t)}var NX=CX,jX=$2,RX=gx,MX=Cr,$X=vx,DX=yx,LX=Ym;function FX(t,e,r){e=jX(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var o=LX(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&DX(i)&&$X(o,i)&&(MX(t)||RX(t)))}var VX=FX,BX=NX,UX=VX;function zX(t,e){return t!=null&&UX(t,e,BX)}var WX=zX,qX=_x,HX=D2,GX=WX,KX=Jw,YX=PR,QX=OR,XX=Ym,JX=1,ZX=2;function eJ(t,e){return KX(t)&&YX(e)?QX(XX(t),e):function(r){var n=HX(r,t);return n===void 0&&n===e?GX(r,t):qX(e,n,JX|ZX)}}var tJ=eJ;function rJ(t){return t}var Kl=rJ;function nJ(t){return function(e){return e==null?void 0:e[t]}}var iJ=nJ,aJ=ax;function oJ(t){return function(e){return aJ(e,t)}}var sJ=oJ,lJ=iJ,uJ=sJ,cJ=Jw,fJ=Ym;function dJ(t){return cJ(t)?lJ(fJ(t)):uJ(t)}var hJ=dJ,pJ=kX,mJ=tJ,gJ=Kl,vJ=Cr,yJ=hJ;function _J(t){return typeof t=="function"?t:t==null?gJ:typeof t=="object"?vJ(t)?mJ(t[0],t[1]):pJ(t):yJ(t)}var Zn=_J;function bJ(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var IR=bJ;function wJ(t){return t!==t}var xJ=wJ;function EJ(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var SJ=EJ,AJ=IR,TJ=xJ,PJ=SJ;function OJ(t,e,r){return e===e?PJ(t,e,r):AJ(t,TJ,r)}var IJ=OJ,kJ=IJ;function CJ(t,e){var r=t==null?0:t.length;return!!r&&kJ(t,e,0)>-1}var NJ=CJ;function jJ(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var RJ=jJ;function MJ(){}var $J=MJ,Hv=SR,DJ=$J,LJ=mx,FJ=1/0,VJ=Hv&&1/LJ(new Hv([,-0]))[1]==FJ?function(t){return new Hv(t)}:DJ,BJ=VJ,UJ=pR,zJ=NJ,WJ=RJ,qJ=gR,HJ=BJ,GJ=mx,KJ=200;function YJ(t,e,r){var n=-1,i=zJ,a=t.length,o=!0,s=[],l=s;if(r)o=!1,i=WJ;else if(a>=KJ){var u=e?null:HJ(t);if(u)return GJ(u);o=!1,i=qJ,l=new UJ}else l=e?[]:s;e:for(;++n<a;){var c=t[n],f=e?e(c):c;if(c=r||c!==0?c:0,o&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),s.push(c)}else i(l,f,r)||(l!==s&&l.push(f),s.push(c))}return s}var QJ=YJ,XJ=Zn,JJ=QJ;function ZJ(t,e){return t&&t.length?JJ(t,XJ(e)):[]}var eZ=ZJ;const TT=Re(eZ);function kR(t,e,r){return e===!0?TT(t,r):ce(e)?TT(t,e):t}function ol(t){"@babel/helpers - typeof";return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ol(t)}var tZ=["ref"];function PT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ai(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PT(Object(r),!0).forEach(function(n){fg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OT(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,NR(n.key),n)}}function nZ(t,e,r){return e&&OT(t.prototype,e),r&&OT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function iZ(t,e,r){return e=gp(e),aZ(t,CR()?Reflect.construct(e,r||[],gp(t).constructor):e.apply(t,r))}function aZ(t,e){if(e&&(ol(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oZ(t)}function oZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CR=function(){return!!t})()}function gp(t){return gp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gp(t)}function sZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z0(t,e)}function Z0(t,e){return Z0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Z0(t,e)}function fg(t,e,r){return e=NR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NR(t){var e=lZ(t,"string");return ol(e)=="symbol"?e:e+""}function lZ(t,e){if(ol(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function uZ(t,e){if(t==null)return{};var r=cZ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fZ(t){return t.value}function dZ(t,e){if(M.isValidElement(t))return M.cloneElement(t,e);if(typeof t=="function")return M.createElement(t,e);e.ref;var r=uZ(e,tZ);return M.createElement(px,r)}var IT=1,$s=function(t){function e(){var r;rZ(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=iZ(this,e,[].concat(i)),fg(r,"lastBoundingBox",{width:-1,height:-1}),r}return sZ(e,t),nZ(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>IT||Math.abs(i.height-this.lastBoundingBox.height)>IT)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ai({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var y=this.getBBoxSnapshot();h={top:((c||0)-y.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return ai(ai({},f),h)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=ai(ai({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return M.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},dZ(a,ai(ai({},this.props),{},{payload:kR(c,u,fZ)})))}}],[{key:"getWithHeight",value:function(n,i){var a=ai(ai({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&J(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(D.PureComponent);fg($s,"displayName","Legend");fg($s,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var kT=Lf,hZ=gx,pZ=Cr,CT=kT?kT.isConcatSpreadable:void 0;function mZ(t){return pZ(t)||hZ(t)||!!(CT&&t&&t[CT])}var gZ=mZ,vZ=yR,yZ=gZ;function jR(t,e,r,n,i){var a=-1,o=t.length;for(r||(r=yZ),i||(i=[]);++a<o;){var s=t[a];e>0&&r(s)?e>1?jR(s,e-1,r,n,i):vZ(i,s):n||(i[i.length]=s)}return i}var RR=jR;function _Z(t){return function(e,r,n){for(var i=-1,a=Object(e),o=n(e),s=o.length;s--;){var l=o[t?s:++i];if(r(a[l],l,a)===!1)break}return e}}var bZ=_Z,wZ=bZ,xZ=wZ(),EZ=xZ,SZ=EZ,AZ=cg;function TZ(t,e){return t&&SZ(t,e,AZ)}var MR=TZ,PZ=Vf;function OZ(t,e){return function(r,n){if(r==null)return r;if(!PZ(r))return t(r,n);for(var i=r.length,a=e?i:-1,o=Object(r);(e?a--:++a<i)&&n(o[a],a,o)!==!1;);return r}}var IZ=OZ,kZ=MR,CZ=IZ,NZ=CZ(kZ),bx=NZ,jZ=bx,RZ=Vf;function MZ(t,e){var r=-1,n=RZ(t)?Array(t.length):[];return jZ(t,function(i,a,o){n[++r]=e(i,a,o)}),n}var $R=MZ;function $Z(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var DZ=$Z,NT=Vl;function LZ(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,a=NT(t),o=e!==void 0,s=e===null,l=e===e,u=NT(e);if(!s&&!u&&!a&&t>e||a&&o&&l&&!s&&!u||n&&o&&l||!r&&l||!i)return 1;if(!n&&!a&&!u&&t<e||u&&r&&i&&!n&&!a||s&&r&&i||!o&&i||!l)return-1}return 0}var FZ=LZ,VZ=FZ;function BZ(t,e,r){for(var n=-1,i=t.criteria,a=e.criteria,o=i.length,s=r.length;++n<o;){var l=VZ(i[n],a[n]);if(l){if(n>=s)return l;var u=r[n];return l*(u=="desc"?-1:1)}}return t.index-e.index}var UZ=BZ,Gv=ix,zZ=ax,WZ=Zn,qZ=$R,HZ=DZ,GZ=wR,KZ=UZ,YZ=Kl,QZ=Cr;function XZ(t,e,r){e.length?e=Gv(e,function(a){return QZ(a)?function(o){return zZ(o,a.length===1?a[0]:a)}:a}):e=[YZ];var n=-1;e=Gv(e,GZ(WZ));var i=qZ(t,function(a,o,s){var l=Gv(e,function(u){return u(a)});return{criteria:l,index:++n,value:a}});return HZ(i,function(a,o){return KZ(a,o,r)})}var JZ=XZ;function ZZ(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var eee=ZZ,tee=eee,jT=Math.max;function ree(t,e,r){return e=jT(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=jT(n.length-e,0),o=Array(a);++i<a;)o[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=r(o),tee(t,this,s)}}var nee=ree;function iee(t){return function(){return t}}var aee=iee,oee=Bo,see=function(){try{var t=oee(Object,"defineProperty");return t({},"",{}),t}catch{}}(),DR=see,lee=aee,RT=DR,uee=Kl,cee=RT?function(t,e){return RT(t,"toString",{configurable:!0,enumerable:!1,value:lee(e),writable:!0})}:uee,fee=cee,dee=800,hee=16,pee=Date.now;function mee(t){var e=0,r=0;return function(){var n=pee(),i=hee-(n-r);if(r=n,i>0){if(++e>=dee)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var gee=mee,vee=fee,yee=gee,_ee=yee(vee),bee=_ee,wee=Kl,xee=nee,Eee=bee;function See(t,e){return Eee(xee(t,e,wee),t+"")}var Aee=See,Tee=ex,Pee=Vf,Oee=vx,Iee=La;function kee(t,e,r){if(!Iee(r))return!1;var n=typeof e;return(n=="number"?Pee(r)&&Oee(e,r.length):n=="string"&&e in r)?Tee(r[e],t):!1}var dg=kee,Cee=RR,Nee=JZ,jee=Aee,MT=dg,Ree=jee(function(t,e){if(t==null)return[];var r=e.length;return r>1&&MT(t,e[0],e[1])?e=[]:r>2&&MT(e[0],e[1],e[2])&&(e=[e[0]]),Nee(t,Cee(e,1),[])}),Mee=Ree;const wx=Re(Mee);function Vc(t){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(t)}function e_(){return e_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},e_.apply(this,arguments)}function $ee(t,e){return Vee(t)||Fee(t,e)||Lee(t,e)||Dee()}function Dee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lee(t,e){if(t){if(typeof t=="string")return $T(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $T(t,e)}}function $T(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Fee(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Vee(t){if(Array.isArray(t))return t}function DT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DT(Object(r),!0).forEach(function(n){Bee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bee(t,e,r){return e=Uee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uee(t){var e=zee(t,"string");return Vc(e)=="symbol"?e:e+""}function zee(t,e){if(Vc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wee(t){return Array.isArray(t)&&Pt(t[0])&&Pt(t[1])?t.join(" ~ "):t}var qee=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,y=e.labelClassName,m=e.label,b=e.labelFormatter,v=e.accessibilityLayer,_=v===void 0?!1:v,w=function(){if(c&&c.length){var j={padding:0,margin:0},N=(h?wx(c,h):c).map(function(F,$){if(F.type==="none")return null;var B=Kv({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},s),W=F.formatter||f||Wee,V=F.value,z=F.name,Y=V,ee=z;if(W&&Y!=null&&ee!=null){var Q=W(V,z,F,$,c);if(Array.isArray(Q)){var re=$ee(Q,2);Y=re[0],ee=re[1]}else Y=Q}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:B},Pt(ee)?M.createElement("span",{className:"recharts-tooltip-item-name"},ee):null,Pt(ee)?M.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,M.createElement("span",{className:"recharts-tooltip-item-value"},Y),M.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:j},N)}return null},I=Kv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),T=Kv({margin:0},u),O=!ge(m),S=O?m:"",E=ye("recharts-default-tooltip",p),A=ye("recharts-tooltip-label",y);O&&b&&c!==void 0&&c!==null&&(S=b(m,c));var C=_?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",e_({className:E,style:I},C),M.createElement("p",{className:A,style:T},M.isValidElement(S)?S:"".concat(S)),w())};function Bc(t){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(t)}function Ld(t,e,r){return e=Hee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hee(t){var e=Gee(t,"string");return Bc(e)=="symbol"?e:e+""}function Gee(t,e){if(Bc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Au="recharts-tooltip-wrapper",Kee={visibility:"hidden"};function Yee(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return ye(Au,Ld(Ld(Ld(Ld({},"".concat(Au,"-right"),J(r)&&e&&J(e.x)&&r>=e.x),"".concat(Au,"-left"),J(r)&&e&&J(e.x)&&r<e.x),"".concat(Au,"-bottom"),J(n)&&e&&J(e.y)&&n>=e.y),"".concat(Au,"-top"),J(n)&&e&&J(e.y)&&n<e.y))}function LT(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&J(a[n]))return a[n];var c=r[n]-s-i,f=r[n]+i;if(e[n])return o[n]?c:f;if(o[n]){var h=c,p=l[n];return h<p?Math.max(f,l[n]):Math.max(c,l[n])}var y=f+s,m=l[n]+u;return y>m?Math.max(c,l[n]):Math.max(f,l[n])}function Qee(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Xee(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,f;return o.height>0&&o.width>0&&r?(c=LT({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=LT({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=Qee({translateX:c,translateY:f,useTranslate3d:s})):u=Kee,{cssProperties:u,cssClasses:Yee({translateX:c,translateY:f,coordinate:r})}}function sl(t){"@babel/helpers - typeof";return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sl(t)}function FT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function VT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FT(Object(r),!0).forEach(function(n){r_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FR(n.key),n)}}function ete(t,e,r){return e&&Zee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tte(t,e,r){return e=vp(e),rte(t,LR()?Reflect.construct(e,r||[],vp(t).constructor):e.apply(t,r))}function rte(t,e){if(e&&(sl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nte(t)}function nte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LR=function(){return!!t})()}function vp(t){return vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vp(t)}function ite(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&t_(t,e)}function t_(t,e){return t_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},t_(t,e)}function r_(t,e,r){return e=FR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FR(t){var e=ate(t,"string");return sl(e)=="symbol"?e:e+""}function ate(t,e){if(sl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var BT=1,ote=function(t){function e(){var r;Jee(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=tte(this,e,[].concat(i)),r_(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),r_(r,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,u,c;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=r.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),r}return ite(e,t),ete(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>BT||Math.abs(n.height-this.state.lastBoundingBox.height)>BT)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,y=i.position,m=i.reverseDirection,b=i.useTranslate3d,v=i.viewBox,_=i.wrapperStyle,w=Xee({allowEscapeViewBox:o,coordinate:c,offsetTopLeft:p,position:y,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:v}),I=w.cssClasses,T=w.cssProperties,O=VT(VT({transition:h&&a?"transform ".concat(s,"ms ").concat(l):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},_);return M.createElement("div",{tabIndex:-1,className:I,style:O,ref:function(E){n.wrapperNode=E}},u)}}])}(D.PureComponent),ste=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Uo={isSsr:ste()};function ll(t){"@babel/helpers - typeof";return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ll(t)}function UT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UT(Object(r),!0).forEach(function(n){xx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ute(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,BR(n.key),n)}}function cte(t,e,r){return e&&ute(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fte(t,e,r){return e=yp(e),dte(t,VR()?Reflect.construct(e,r||[],yp(t).constructor):e.apply(t,r))}function dte(t,e){if(e&&(ll(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hte(t)}function hte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VR=function(){return!!t})()}function yp(t){return yp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yp(t)}function pte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n_(t,e)}function n_(t,e){return n_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},n_(t,e)}function xx(t,e,r){return e=BR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BR(t){var e=mte(t,"string");return ll(e)=="symbol"?e:e+""}function mte(t,e){if(ll(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ll(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function gte(t){return t.dataKey}function vte(t,e){return M.isValidElement(t)?M.cloneElement(t,e):typeof t=="function"?M.createElement(t,e):M.createElement(qee,e)}var Ut=function(t){function e(){return lte(this,e),fte(this,e,arguments)}return pte(e,t),cte(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,y=i.payload,m=i.payloadUniqBy,b=i.position,v=i.reverseDirection,_=i.useTranslate3d,w=i.viewBox,I=i.wrapperStyle,T=y??[];f&&T.length&&(T=kR(y.filter(function(S){return S.value!=null&&(S.hide!==!0||n.props.includeHidden)}),m,gte));var O=T.length>0;return M.createElement(ote,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:h,active:a,coordinate:c,hasPayload:O,offset:p,position:b,reverseDirection:v,useTranslate3d:_,viewBox:w,wrapperStyle:I},vte(u,zT(zT({},this.props),{},{payload:T})))}}])}(D.PureComponent);xx(Ut,"displayName","Tooltip");xx(Ut,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Uo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var yte=Jn,_te=function(){return yte.Date.now()},bte=_te,wte=/\s/;function xte(t){for(var e=t.length;e--&&wte.test(t.charAt(e)););return e}var Ete=xte,Ste=Ete,Ate=/^\s+/;function Tte(t){return t&&t.slice(0,Ste(t)+1).replace(Ate,"")}var Pte=Tte,Ote=Pte,WT=La,Ite=Vl,qT=NaN,kte=/^[-+]0x[0-9a-f]+$/i,Cte=/^0b[01]+$/i,Nte=/^0o[0-7]+$/i,jte=parseInt;function Rte(t){if(typeof t=="number")return t;if(Ite(t))return qT;if(WT(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=WT(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Ote(t);var r=Cte.test(t);return r||Nte.test(t)?jte(t.slice(2),r?2:8):kte.test(t)?qT:+t}var UR=Rte,Mte=La,Yv=bte,HT=UR,$te="Expected a function",Dte=Math.max,Lte=Math.min;function Fte(t,e,r){var n,i,a,o,s,l,u=0,c=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError($te);e=HT(e)||0,Mte(r)&&(c=!!r.leading,f="maxWait"in r,a=f?Dte(HT(r.maxWait)||0,e):a,h="trailing"in r?!!r.trailing:h);function p(O){var S=n,E=i;return n=i=void 0,u=O,o=t.apply(E,S),o}function y(O){return u=O,s=setTimeout(v,e),c?p(O):o}function m(O){var S=O-l,E=O-u,A=e-S;return f?Lte(A,a-E):A}function b(O){var S=O-l,E=O-u;return l===void 0||S>=e||S<0||f&&E>=a}function v(){var O=Yv();if(b(O))return _(O);s=setTimeout(v,m(O))}function _(O){return s=void 0,h&&n?p(O):(n=i=void 0,o)}function w(){s!==void 0&&clearTimeout(s),u=0,n=l=i=s=void 0}function I(){return s===void 0?o:_(Yv())}function T(){var O=Yv(),S=b(O);if(n=arguments,i=this,l=O,S){if(s===void 0)return y(l);if(f)return clearTimeout(s),s=setTimeout(v,e),p(l)}return s===void 0&&(s=setTimeout(v,e)),o}return T.cancel=w,T.flush=I,T}var Vte=Fte,Bte=Vte,Ute=La,zte="Expected a function";function Wte(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(zte);return Ute(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Bte(t,e,{leading:n,maxWait:e,trailing:i})}var qte=Wte;const zR=Re(qte);function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}function GT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GT(Object(r),!0).forEach(function(n){Hte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hte(t,e,r){return e=Gte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gte(t){var e=Kte(t,"string");return Uc(e)=="symbol"?e:e+""}function Kte(t,e){if(Uc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yte(t,e){return Zte(t)||Jte(t,e)||Xte(t,e)||Qte()}function Qte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xte(t,e){if(t){if(typeof t=="string")return KT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KT(t,e)}}function KT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Jte(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Zte(t){if(Array.isArray(t))return t}var Aa=D.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,p=t.children,y=t.debounce,m=y===void 0?0:y,b=t.id,v=t.className,_=t.onResize,w=t.style,I=w===void 0?{}:w,T=D.useRef(null),O=D.useRef();O.current=_,D.useImperativeHandle(e,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var S=D.useState({containerWidth:i.width,containerHeight:i.height}),E=Yte(S,2),A=E[0],C=E[1],k=D.useCallback(function(N,F){C(function($){var B=Math.round(N),W=Math.round(F);return $.containerWidth===B&&$.containerHeight===W?$:{containerWidth:B,containerHeight:W}})},[]);D.useEffect(function(){var N=function(z){var Y,ee=z[0].contentRect,Q=ee.width,re=ee.height;k(Q,re),(Y=O.current)===null||Y===void 0||Y.call(O,Q,re)};m>0&&(N=zR(N,m,{trailing:!0,leading:!1}));var F=new ResizeObserver(N),$=T.current.getBoundingClientRect(),B=$.width,W=$.height;return k(B,W),F.observe(T.current),function(){F.disconnect()}},[k,m]);var j=D.useMemo(function(){var N=A.containerWidth,F=A.containerHeight;if(N<0||F<0)return null;An(uo(o)||uo(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),An(!r||r>0,"The aspect(%s) must be greater than zero.",r);var $=uo(o)?N:o,B=uo(l)?F:l;r&&r>0&&($?B=$/r:B&&($=B*r),h&&B>h&&(B=h)),An($>0||B>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,B,o,l,c,f,r);var W=!Array.isArray(p)&&wi(p.type).endsWith("Chart");return M.Children.map(p,function(V){return M.isValidElement(V)?D.cloneElement(V,Fd({width:$,height:B},W?{style:Fd({height:"100%",width:"100%",maxHeight:B,maxWidth:$},V.props.style)}:{})):V})},[r,p,l,h,f,c,A,o]);return M.createElement("div",{id:b?"".concat(b):void 0,className:ye("recharts-responsive-container",v),style:Fd(Fd({},I),{},{width:o,height:l,minWidth:c,minHeight:f,maxHeight:h}),ref:T},j)}),Ni=function(e){return null};Ni.displayName="Cell";function zc(t){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}function YT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function i_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YT(Object(r),!0).forEach(function(n){ere(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ere(t,e,r){return e=tre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tre(t){var e=rre(t,"string");return zc(e)=="symbol"?e:e+""}function rre(t,e){if(zc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var es={widthCache:{},cacheCount:0},nre=2e3,ire={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},QT="recharts_measurement_span";function are(t){var e=i_({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var nc=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Uo.isSsr)return{width:0,height:0};var n=are(r),i=JSON.stringify({text:e,copyStyle:n});if(es.widthCache[i])return es.widthCache[i];try{var a=document.getElementById(QT);a||(a=document.createElement("span"),a.setAttribute("id",QT),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=i_(i_({},ire),n);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return es.widthCache[i]=l,++es.cacheCount>nre&&(es.cacheCount=0,es.widthCache={}),l}catch{return{width:0,height:0}}},ore=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}function _p(t,e){return cre(t)||ure(t,e)||lre(t,e)||sre()}function sre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lre(t,e){if(t){if(typeof t=="string")return XT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XT(t,e)}}function XT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ure(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function cre(t){if(Array.isArray(t))return t}function fre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JT(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hre(n.key),n)}}function dre(t,e,r){return e&&JT(t.prototype,e),r&&JT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function hre(t){var e=pre(t,"string");return Wc(e)=="symbol"?e:e+""}function pre(t,e){if(Wc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ZT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,eP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,mre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,gre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,WR={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},vre=Object.keys(WR),bs="NaN";function yre(t,e){return t*WR[e]}var Vd=function(){function t(e,r){fre(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!mre.test(r)&&(this.num=NaN,this.unit=""),vre.includes(r)&&(this.num=yre(e,r),this.unit="px")}return dre(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=gre.exec(r))!==null&&n!==void 0?n:[],a=_p(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])}();function qR(t){if(t.includes(bs))return bs;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=ZT.exec(e))!==null&&r!==void 0?r:[],i=_p(n,4),a=i[1],o=i[2],s=i[3],l=Vd.parse(a??""),u=Vd.parse(s??""),c=o==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return bs;e=e.replace(ZT,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=eP.exec(e))!==null&&f!==void 0?f:[],p=_p(h,4),y=p[1],m=p[2],b=p[3],v=Vd.parse(y??""),_=Vd.parse(b??""),w=m==="+"?v.add(_):v.subtract(_);if(w.isNaN())return bs;e=e.replace(eP,w.toString())}return e}var tP=/\(([^()]*)\)/;function _re(t){for(var e=t;e.includes("(");){var r=tP.exec(e),n=_p(r,2),i=n[1];e=e.replace(tP,qR(i))}return e}function bre(t){var e=t.replace(/\s+/g,"");return e=_re(e),e=qR(e),e}function wre(t){try{return bre(t)}catch{return bs}}function Qv(t){var e=wre(t.slice(5,-1));return e===bs?"":e}var xre=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Ere=["dx","dy","angle","className","breakAll"];function a_(){return a_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a_.apply(this,arguments)}function rP(t,e){if(t==null)return{};var r=Sre(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Sre(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function nP(t,e){return Ore(t)||Pre(t,e)||Tre(t,e)||Are()}function Are(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tre(t,e){if(t){if(typeof t=="string")return iP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iP(t,e)}}function iP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Pre(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Ore(t){if(Array.isArray(t))return t}var HR=/[ \f\n\r\t\v\u2028\u2029]+/,GR=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];ge(r)||(n?a=r.toString().split(""):a=r.toString().split(HR));var o=a.map(function(l){return{word:l,width:nc(l,i).width}}),s=n?0:nc(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},Ire=function(e,r,n,i,a){var o=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=J(o),f=s,h=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce(function(B,W){var V=W.word,z=W.width,Y=B[B.length-1];if(Y&&(i==null||a||Y.width+z+n<Number(i)))Y.words.push(V),Y.width+=z+n;else{var ee={words:[V],width:z};B.push(ee)}return B},[])},p=h(r),y=function($){return $.reduce(function(B,W){return B.width>W.width?B:W})};if(!c)return p;for(var m="…",b=function($){var B=f.slice(0,$),W=GR({breakAll:u,style:l,children:B+m}).wordsWithComputedWidth,V=h(W),z=V.length>o||y(V).width>Number(i);return[z,V]},v=0,_=f.length-1,w=0,I;v<=_&&w<=f.length-1;){var T=Math.floor((v+_)/2),O=T-1,S=b(O),E=nP(S,2),A=E[0],C=E[1],k=b(T),j=nP(k,1),N=j[0];if(!A&&!N&&(v=T+1),A&&N&&(_=T-1),!A&&N){I=C;break}w++}return I||p},aP=function(e){var r=ge(e)?[]:e.toString().split(HR);return[{words:r}]},kre=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((r||n)&&!Uo.isSsr){var l,u,c=GR({breakAll:o,children:i,style:a});if(c){var f=c.wordsWithComputedWidth,h=c.spaceWidth;l=f,u=h}else return aP(i);return Ire({breakAll:o,children:i,maxLines:s,style:a},l,u,r,n)}return aP(i)},oP="#808080",jo=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,h=e.textAnchor,p=h===void 0?"start":h,y=e.verticalAnchor,m=y===void 0?"end":y,b=e.fill,v=b===void 0?oP:b,_=rP(e,xre),w=D.useMemo(function(){return kre({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:f,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,f,_.style,_.width]),I=_.dx,T=_.dy,O=_.angle,S=_.className,E=_.breakAll,A=rP(_,Ere);if(!Pt(n)||!Pt(a))return null;var C=n+(J(I)?I:0),k=a+(J(T)?T:0),j;switch(m){case"start":j=Qv("calc(".concat(u,")"));break;case"middle":j=Qv("calc(".concat((w.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:j=Qv("calc(".concat(w.length-1," * -").concat(s,")"));break}var N=[];if(f){var F=w[0].width,$=_.width;N.push("scale(".concat((J($)?$/F:1)/F,")"))}return O&&N.push("rotate(".concat(O,", ").concat(C,", ").concat(k,")")),N.length&&(A.transform=N.join(" ")),M.createElement("text",a_({},le(A,!0),{x:C,y:k,className:ye("recharts-text",S),textAnchor:p,fill:v.includes("url")?oP:v}),w.map(function(B,W){var V=B.words.join(E?"":" ");return M.createElement("tspan",{x:C,dy:W===0?j:s,key:"".concat(V,"-").concat(W)},V)}))};function Ta(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Cre(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ex(t){let e,r,n;t.length!==2?(e=Ta,r=(s,l)=>Ta(t(s),l),n=(s,l)=>t(s)-l):(e=t===Ta||t===Cre?t:Nre,r=t,n=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;r(s[f],l)<0?u=f+1:c=f}while(u<c)}return u}function a(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;r(s[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function o(s,l,u=0,c=s.length){const f=i(s,l,u,c-1);return f>u&&n(s[f-1],l)>-n(s[f],l)?f-1:f}return{left:i,center:o,right:a}}function Nre(){return 0}function KR(t){return t===null?NaN:+t}function*jre(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const Rre=Ex(Ta),Bf=Rre.right;Ex(KR).center;class sP extends Map{constructor(e,r=Dre){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(lP(this,e))}has(e){return super.has(lP(this,e))}set(e,r){return super.set(Mre(this,e),r)}delete(e){return super.delete($re(this,e))}}function lP({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Mre({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function $re({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Dre(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Lre(t=Ta){if(t===Ta)return YR;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function YR(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Fre=Math.sqrt(50),Vre=Math.sqrt(10),Bre=Math.sqrt(2);function bp(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=Fre?10:a>=Vre?5:a>=Bre?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=r&&r<2?bp(t,e,r*2):[s,l,u]}function o_(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?bp(e,t,r):bp(t,e,r);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(n)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function s_(t,e,r){return e=+e,t=+t,r=+r,bp(t,e,r)[2]}function l_(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?s_(e,t,r):s_(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function uP(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function cP(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function QR(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?YR:Lre(i);n>r;){if(n-r>600){const l=n-r+1,u=e-r+1,c=Math.log(l),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(r,Math.floor(e-u*f/l+h)),y=Math.min(n,Math.floor(e+(l-u)*f/l+h));QR(t,e,p,y,i)}const a=t[e];let o=r,s=n;for(Tu(t,r,e),i(t[n],a)>0&&Tu(t,r,n);o<s;){for(Tu(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[r],a)===0?Tu(t,r,s):(++s,Tu(t,s,n)),s<=e&&(r=s+1),e<=s&&(n=s-1)}return t}function Tu(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Ure(t,e,r){if(t=Float64Array.from(jre(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return cP(t);if(e>=1)return uP(t);var n,i=(n-1)*e,a=Math.floor(i),o=uP(QR(t,a).subarray(0,a+1)),s=cP(t.subarray(a+1));return o+(s-o)*(i-a)}}function zre(t,e,r=KR){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),s=+r(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function Wre(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function fn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ui(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const u_=Symbol("implicit");function Sx(){var t=new sP,e=[],r=[],n=u_;function i(a){let o=t.get(a);if(o===void 0){if(n!==u_)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new sP;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Sx(e,r).unknown(n)},fn.apply(i,arguments),i}function qc(){var t=Sx().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,s=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var h=e().length,p=i<n,y=p?i:n,m=p?n:i;a=(m-y)/Math.max(1,h-l+u*2),s&&(a=Math.floor(a)),y+=(m-y-a*(h-l))*c,o=a*(1-l),s&&(y=Math.round(y),o=Math.round(o));var b=Wre(h).map(function(v){return y+a*v});return r(p?b.reverse():b)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,s=!0,f()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},t.copy=function(){return qc(e(),[n,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},fn.apply(f(),arguments)}function XR(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return XR(e())},t}function ic(){return XR(qc.apply(null,arguments).paddingInner(1))}function Ax(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function JR(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Uf(){}var Hc=.7,wp=1/Hc,Ds="\\s*([+-]?\\d+)\\s*",Gc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qre=/^#([0-9a-f]{3,8})$/,Hre=new RegExp(`^rgb\\(${Ds},${Ds},${Ds}\\)$`),Gre=new RegExp(`^rgb\\(${qn},${qn},${qn}\\)$`),Kre=new RegExp(`^rgba\\(${Ds},${Ds},${Ds},${Gc}\\)$`),Yre=new RegExp(`^rgba\\(${qn},${qn},${qn},${Gc}\\)$`),Qre=new RegExp(`^hsl\\(${Gc},${qn},${qn}\\)$`),Xre=new RegExp(`^hsla\\(${Gc},${qn},${qn},${Gc}\\)$`),fP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ax(Uf,Kc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:dP,formatHex:dP,formatHex8:Jre,formatHsl:Zre,formatRgb:hP,toString:hP});function dP(){return this.rgb().formatHex()}function Jre(){return this.rgb().formatHex8()}function Zre(){return ZR(this).formatHsl()}function hP(){return this.rgb().formatRgb()}function Kc(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=qre.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?pP(e):r===3?new Tr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Bd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Bd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Hre.exec(t))?new Tr(e[1],e[2],e[3],1):(e=Gre.exec(t))?new Tr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Kre.exec(t))?Bd(e[1],e[2],e[3],e[4]):(e=Yre.exec(t))?Bd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Qre.exec(t))?vP(e[1],e[2]/100,e[3]/100,1):(e=Xre.exec(t))?vP(e[1],e[2]/100,e[3]/100,e[4]):fP.hasOwnProperty(t)?pP(fP[t]):t==="transparent"?new Tr(NaN,NaN,NaN,0):null}function pP(t){return new Tr(t>>16&255,t>>8&255,t&255,1)}function Bd(t,e,r,n){return n<=0&&(t=e=r=NaN),new Tr(t,e,r,n)}function ene(t){return t instanceof Uf||(t=Kc(t)),t?(t=t.rgb(),new Tr(t.r,t.g,t.b,t.opacity)):new Tr}function c_(t,e,r,n){return arguments.length===1?ene(t):new Tr(t,e,r,n??1)}function Tr(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}Ax(Tr,c_,JR(Uf,{brighter(t){return t=t==null?wp:Math.pow(wp,t),new Tr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Hc:Math.pow(Hc,t),new Tr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Tr(yo(this.r),yo(this.g),yo(this.b),xp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mP,formatHex:mP,formatHex8:tne,formatRgb:gP,toString:gP}));function mP(){return`#${co(this.r)}${co(this.g)}${co(this.b)}`}function tne(){return`#${co(this.r)}${co(this.g)}${co(this.b)}${co((isNaN(this.opacity)?1:this.opacity)*255)}`}function gP(){const t=xp(this.opacity);return`${t===1?"rgb(":"rgba("}${yo(this.r)}, ${yo(this.g)}, ${yo(this.b)}${t===1?")":`, ${t})`}`}function xp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function yo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function co(t){return t=yo(t),(t<16?"0":"")+t.toString(16)}function vP(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new bn(t,e,r,n)}function ZR(t){if(t instanceof bn)return new bn(t.h,t.s,t.l,t.opacity);if(t instanceof Uf||(t=Kc(t)),!t)return new bn;if(t instanceof bn)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-e)/s+2:o=(e-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new bn(o,s,l,t.opacity)}function rne(t,e,r,n){return arguments.length===1?ZR(t):new bn(t,e,r,n??1)}function bn(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}Ax(bn,rne,JR(Uf,{brighter(t){return t=t==null?wp:Math.pow(wp,t),new bn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Hc:Math.pow(Hc,t),new bn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Tr(Xv(t>=240?t-240:t+120,i,n),Xv(t,i,n),Xv(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new bn(yP(this.h),Ud(this.s),Ud(this.l),xp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=xp(this.opacity);return`${t===1?"hsl(":"hsla("}${yP(this.h)}, ${Ud(this.s)*100}%, ${Ud(this.l)*100}%${t===1?")":`, ${t})`}`}}));function yP(t){return t=(t||0)%360,t<0?t+360:t}function Ud(t){return Math.max(0,Math.min(1,t||0))}function Xv(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const Tx=t=>()=>t;function nne(t,e){return function(r){return t+r*e}}function ine(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function ane(t){return(t=+t)==1?eM:function(e,r){return r-e?ine(e,r,t):Tx(isNaN(e)?r:e)}}function eM(t,e){var r=e-t;return r?nne(t,r):Tx(isNaN(t)?e:t)}const _P=function t(e){var r=ane(e);function n(i,a){var o=r((i=c_(i)).r,(a=c_(a)).r),s=r(i.g,a.g),l=r(i.b,a.b),u=eM(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return n.gamma=t,n}(1);function one(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function sne(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function lne(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=Yl(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function une(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Ep(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function cne(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Yl(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var f_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Jv=new RegExp(f_.source,"g");function fne(t){return function(){return t}}function dne(t){return function(e){return t(e)+""}}function hne(t,e){var r=f_.lastIndex=Jv.lastIndex=0,n,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(n=f_.exec(t))&&(i=Jv.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:Ep(n,i)})),r=Jv.lastIndex;return r<e.length&&(a=e.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?dne(l[0].x):fne(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function Yl(t,e){var r=typeof e,n;return e==null||r==="boolean"?Tx(e):(r==="number"?Ep:r==="string"?(n=Kc(e))?(e=n,_P):hne:e instanceof Kc?_P:e instanceof Date?une:sne(e)?one:Array.isArray(e)?lne:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?cne:Ep)(t,e)}function Px(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function pne(t,e){e===void 0&&(e=t,t=Yl);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function mne(t){return function(){return t}}function Sp(t){return+t}var bP=[0,1];function vr(t){return t}function d_(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:mne(isNaN(e)?NaN:.5)}function gne(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function vne(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=d_(i,n),a=r(o,a)):(n=d_(n,i),a=r(a,o)),function(s){return a(n(s))}}function yne(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=d_(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(s){var l=Bf(t,s,1,n)-1;return a[l](i[l](s))}}function zf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function hg(){var t=bP,e=bP,r=Yl,n,i,a,o=vr,s,l,u;function c(){var h=Math.min(t.length,e.length);return o!==vr&&(o=gne(t[0],t[h-1])),s=h>2?yne:vne,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=s(t.map(n),e,r)))(n(o(h)))}return f.invert=function(h){return o(i((u||(u=s(e,t.map(n),Ep)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Sp),c()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),r=Px,c()},f.clamp=function(h){return arguments.length?(o=h?!0:vr,c()):o!==vr},f.interpolate=function(h){return arguments.length?(r=h,c()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return n=h,i=p,c()}}function Ox(){return hg()(vr,vr)}function _ne(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ap(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function ul(t){return t=Ap(Math.abs(t)),t?t[1]:NaN}function bne(t,e){return function(r,n){for(var i=r.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function wne(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var xne=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Yc(t){if(!(e=xne.exec(t)))throw new Error("invalid format: "+t);var e;return new Ix({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Yc.prototype=Ix.prototype;function Ix(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Ix.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ene(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var tM;function Sne(t,e){var r=Ap(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(tM=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Ap(t,Math.max(0,e+a-1))[0]}function wP(t,e){var r=Ap(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const xP={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:_ne,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>wP(t*100,e),r:wP,s:Sne,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function EP(t){return t}var SP=Array.prototype.map,AP=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Ane(t){var e=t.grouping===void 0||t.thousands===void 0?EP:bne(SP.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?EP:wne(SP.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Yc(f);var h=f.fill,p=f.align,y=f.sign,m=f.symbol,b=f.zero,v=f.width,_=f.comma,w=f.precision,I=f.trim,T=f.type;T==="n"?(_=!0,T="g"):xP[T]||(w===void 0&&(w=12),I=!0,T="g"),(b||h==="0"&&p==="=")&&(b=!0,h="0",p="=");var O=m==="$"?r:m==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",S=m==="$"?n:/[%p]/.test(T)?o:"",E=xP[T],A=/[defgprs%]/.test(T);w=w===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function C(k){var j=O,N=S,F,$,B;if(T==="c")N=E(k)+N,k="";else{k=+k;var W=k<0||1/k<0;if(k=isNaN(k)?l:E(Math.abs(k),w),I&&(k=Ene(k)),W&&+k==0&&y!=="+"&&(W=!1),j=(W?y==="("?y:s:y==="-"||y==="("?"":y)+j,N=(T==="s"?AP[8+tM/3]:"")+N+(W&&y==="("?")":""),A){for(F=-1,$=k.length;++F<$;)if(B=k.charCodeAt(F),48>B||B>57){N=(B===46?i+k.slice(F+1):k.slice(F))+N,k=k.slice(0,F);break}}}_&&!b&&(k=e(k,1/0));var V=j.length+k.length+N.length,z=V<v?new Array(v-V+1).join(h):"";switch(_&&b&&(k=e(z+k,z.length?v-N.length:1/0),z=""),p){case"<":k=j+k+N+z;break;case"=":k=j+z+k+N;break;case"^":k=z.slice(0,V=z.length>>1)+j+k+N+z.slice(V);break;default:k=z+j+k+N;break}return a(k)}return C.toString=function(){return f+""},C}function c(f,h){var p=u((f=Yc(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(ul(h)/3)))*3,m=Math.pow(10,-y),b=AP[8+y/3];return function(v){return p(m*v)+b}}return{format:u,formatPrefix:c}}var zd,kx,rM;Tne({thousands:",",grouping:[3],currency:["$",""]});function Tne(t){return zd=Ane(t),kx=zd.format,rM=zd.formatPrefix,zd}function Pne(t){return Math.max(0,-ul(Math.abs(t)))}function One(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ul(e)/3)))*3-ul(Math.abs(t)))}function Ine(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ul(e)-ul(t))+1}function nM(t,e,r,n){var i=l_(t,e,r),a;switch(n=Yc(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=One(i,o))&&(n.precision=a),rM(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=Ine(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=Pne(i))&&(n.precision=a-(n.type==="%")*2);break}}return kx(n)}function Fa(t){var e=t.domain;return t.ticks=function(r){var n=e();return o_(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return nM(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],s=n[a],l,u,c=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);c-- >0;){if(u=s_(o,s,r),u===l)return n[i]=o,n[a]=s,e(n);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function Tp(){var t=Ox();return t.copy=function(){return zf(t,Tp())},fn.apply(t,arguments),Fa(t)}function iM(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Sp),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return iM(t).unknown(e)},t=arguments.length?Array.from(t,Sp):[0,1],Fa(r)}function aM(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function TP(t){return Math.log(t)}function PP(t){return Math.exp(t)}function kne(t){return-Math.log(-t)}function Cne(t){return-Math.exp(-t)}function Nne(t){return isFinite(t)?+("1e"+t):t<0?0:t}function jne(t){return t===10?Nne:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Rne(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function OP(t){return(e,r)=>-t(-e,r)}function Cx(t){const e=t(TP,PP),r=e.domain;let n=10,i,a;function o(){return i=Rne(n),a=jne(n),r()[0]<0?(i=OP(i),a=OP(a),t(kne,Cne)):t(TP,PP),e}return e.base=function(s){return arguments.length?(n=+s,o()):n},e.domain=function(s){return arguments.length?(r(s),o()):r()},e.ticks=s=>{const l=r();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let h=i(u),p=i(c),y,m;const b=s==null?10:+s;let v=[];if(!(n%1)&&p-h<b){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(y=1;y<n;++y)if(m=h<0?y/a(-h):y*a(h),!(m<u)){if(m>c)break;v.push(m)}}else for(;h<=p;++h)for(y=n-1;y>=1;--y)if(m=h>0?y/a(-h):y*a(h),!(m<u)){if(m>c)break;v.push(m)}v.length*2<b&&(v=o_(u,c,b))}else v=o_(h,p,Math.min(p-h,b)).map(a);return f?v.reverse():v},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Yc(l)).precision==null&&(l.trim=!0),l=kx(l)),s===1/0)return l;const u=Math.max(1,n*s/e.ticks().length);return c=>{let f=c/a(Math.round(i(c)));return f*n<n-.5&&(f*=n),f<=u?l(c):""}},e.nice=()=>r(aM(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function oM(){const t=Cx(hg()).domain([1,10]);return t.copy=()=>zf(t,oM()).base(t.base()),fn.apply(t,arguments),t}function IP(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function kP(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Nx(t){var e=1,r=t(IP(e),kP(e));return r.constant=function(n){return arguments.length?t(IP(e=+n),kP(e)):e},Fa(r)}function sM(){var t=Nx(hg());return t.copy=function(){return zf(t,sM()).constant(t.constant())},fn.apply(t,arguments)}function CP(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Mne(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function $ne(t){return t<0?-t*t:t*t}function jx(t){var e=t(vr,vr),r=1;function n(){return r===1?t(vr,vr):r===.5?t(Mne,$ne):t(CP(r),CP(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Fa(e)}function Rx(){var t=jx(hg());return t.copy=function(){return zf(t,Rx()).exponent(t.exponent())},fn.apply(t,arguments),t}function Dne(){return Rx.apply(null,arguments).exponent(.5)}function NP(t){return Math.sign(t)*t*t}function Lne(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function lM(){var t=Ox(),e=[0,1],r=!1,n;function i(a){var o=Lne(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(NP(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Sp)).map(NP)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return lM(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},fn.apply(i,arguments),Fa(i)}function uM(){var t=[],e=[],r=[],n;function i(){var o=0,s=Math.max(1,e.length);for(r=new Array(s-1);++o<s;)r[o-1]=zre(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:e[Bf(r,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:t[0],s<r.length?r[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Ta),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return uM().domain(t).range(e).unknown(n)},fn.apply(a,arguments)}function cM(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[Bf(n,l,0,r)]:a}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return cM().domain([t,e]).range(i).unknown(a)},fn.apply(Fa(o),arguments)}function fM(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[Bf(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return fM().domain(t).range(e).unknown(r)},fn.apply(i,arguments)}const Zv=new Date,ey=new Date;function It(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),e(a,s),t(a);while(u<a&&a<o);return l},i.filter=a=>It(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(Zv.setTime(+a),ey.setTime(+o),t(Zv),t(ey),Math.floor(r(Zv,ey))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Pp=It(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Pp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?It(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Pp);Pp.range;const gi=1e3,nn=gi*60,vi=nn*60,ji=vi*24,Mx=ji*7,jP=ji*30,ty=ji*365,fo=It(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*gi)},(t,e)=>(e-t)/gi,t=>t.getUTCSeconds());fo.range;const $x=It(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*gi)},(t,e)=>{t.setTime(+t+e*nn)},(t,e)=>(e-t)/nn,t=>t.getMinutes());$x.range;const Dx=It(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*nn)},(t,e)=>(e-t)/nn,t=>t.getUTCMinutes());Dx.range;const Lx=It(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*gi-t.getMinutes()*nn)},(t,e)=>{t.setTime(+t+e*vi)},(t,e)=>(e-t)/vi,t=>t.getHours());Lx.range;const Fx=It(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*vi)},(t,e)=>(e-t)/vi,t=>t.getUTCHours());Fx.range;const Wf=It(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*nn)/ji,t=>t.getDate()-1);Wf.range;const pg=It(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ji,t=>t.getUTCDate()-1);pg.range;const dM=It(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ji,t=>Math.floor(t/ji));dM.range;function zo(t){return It(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*nn)/Mx)}const mg=zo(0),Op=zo(1),Fne=zo(2),Vne=zo(3),cl=zo(4),Bne=zo(5),Une=zo(6);mg.range;Op.range;Fne.range;Vne.range;cl.range;Bne.range;Une.range;function Wo(t){return It(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/Mx)}const gg=Wo(0),Ip=Wo(1),zne=Wo(2),Wne=Wo(3),fl=Wo(4),qne=Wo(5),Hne=Wo(6);gg.range;Ip.range;zne.range;Wne.range;fl.range;qne.range;Hne.range;const Vx=It(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Vx.range;const Bx=It(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Bx.range;const Ri=It(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ri.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:It(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Ri.range;const Mi=It(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Mi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:It(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Mi.range;function hM(t,e,r,n,i,a){const o=[[fo,1,gi],[fo,5,5*gi],[fo,15,15*gi],[fo,30,30*gi],[a,1,nn],[a,5,5*nn],[a,15,15*nn],[a,30,30*nn],[i,1,vi],[i,3,3*vi],[i,6,6*vi],[i,12,12*vi],[n,1,ji],[n,2,2*ji],[r,1,Mx],[e,1,jP],[e,3,3*jP],[t,1,ty]];function s(u,c,f){const h=c<u;h&&([u,c]=[c,u]);const p=f&&typeof f.range=="function"?f:l(u,c,f),y=p?p.range(u,+c+1):[];return h?y.reverse():y}function l(u,c,f){const h=Math.abs(c-u)/f,p=Ex(([,,b])=>b).right(o,h);if(p===o.length)return t.every(l_(u/ty,c/ty,f));if(p===0)return Pp.every(Math.max(l_(u,c,f),1));const[y,m]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return y.every(m)}return[s,l]}const[Gne,Kne]=hM(Mi,Bx,gg,dM,Fx,Dx),[Yne,Qne]=hM(Ri,Vx,mg,Wf,Lx,$x);function ry(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ny(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Pu(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Xne(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,u=Ou(i),c=Iu(i),f=Ou(a),h=Iu(a),p=Ou(o),y=Iu(o),m=Ou(s),b=Iu(s),v=Ou(l),_=Iu(l),w={a:W,A:V,b:z,B:Y,c:null,d:FP,e:FP,f:bie,g:kie,G:Nie,H:vie,I:yie,j:_ie,L:pM,m:wie,M:xie,p:ee,q:Q,Q:UP,s:zP,S:Eie,u:Sie,U:Aie,V:Tie,w:Pie,W:Oie,x:null,X:null,y:Iie,Y:Cie,Z:jie,"%":BP},I={a:re,A:Ee,b:Ne,B:it,c:null,d:VP,e:VP,f:Die,g:Gie,G:Yie,H:Rie,I:Mie,j:$ie,L:gM,m:Lie,M:Fie,p:Dt,q:Kt,Q:UP,s:zP,S:Vie,u:Bie,U:Uie,V:zie,w:Wie,W:qie,x:null,X:null,y:Hie,Y:Kie,Z:Qie,"%":BP},T={a:C,A:k,b:j,B:N,c:F,d:DP,e:DP,f:hie,g:$P,G:MP,H:LP,I:LP,j:uie,L:die,m:lie,M:cie,p:A,q:sie,Q:mie,s:gie,S:fie,u:rie,U:nie,V:iie,w:tie,W:aie,x:$,X:B,y:$P,Y:MP,Z:oie,"%":pie};w.x=O(r,w),w.X=O(n,w),w.c=O(e,w),I.x=O(r,I),I.X=O(n,I),I.c=O(e,I);function O(te,fe){return function(pe){var G=[],We=-1,_e=0,at=te.length,ct,Yt,kn;for(pe instanceof Date||(pe=new Date(+pe));++We<at;)te.charCodeAt(We)===37&&(G.push(te.slice(_e,We)),(Yt=RP[ct=te.charAt(++We)])!=null?ct=te.charAt(++We):Yt=ct==="e"?" ":"0",(kn=fe[ct])&&(ct=kn(pe,Yt)),G.push(ct),_e=We+1);return G.push(te.slice(_e,We)),G.join("")}}function S(te,fe){return function(pe){var G=Pu(1900,void 0,1),We=E(G,te,pe+="",0),_e,at;if(We!=pe.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(fe&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(_e=ny(Pu(G.y,0,1)),at=_e.getUTCDay(),_e=at>4||at===0?Ip.ceil(_e):Ip(_e),_e=pg.offset(_e,(G.V-1)*7),G.y=_e.getUTCFullYear(),G.m=_e.getUTCMonth(),G.d=_e.getUTCDate()+(G.w+6)%7):(_e=ry(Pu(G.y,0,1)),at=_e.getDay(),_e=at>4||at===0?Op.ceil(_e):Op(_e),_e=Wf.offset(_e,(G.V-1)*7),G.y=_e.getFullYear(),G.m=_e.getMonth(),G.d=_e.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),at="Z"in G?ny(Pu(G.y,0,1)).getUTCDay():ry(Pu(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(at+5)%7:G.w+G.U*7-(at+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,ny(G)):ry(G)}}function E(te,fe,pe,G){for(var We=0,_e=fe.length,at=pe.length,ct,Yt;We<_e;){if(G>=at)return-1;if(ct=fe.charCodeAt(We++),ct===37){if(ct=fe.charAt(We++),Yt=T[ct in RP?fe.charAt(We++):ct],!Yt||(G=Yt(te,pe,G))<0)return-1}else if(ct!=pe.charCodeAt(G++))return-1}return G}function A(te,fe,pe){var G=u.exec(fe.slice(pe));return G?(te.p=c.get(G[0].toLowerCase()),pe+G[0].length):-1}function C(te,fe,pe){var G=p.exec(fe.slice(pe));return G?(te.w=y.get(G[0].toLowerCase()),pe+G[0].length):-1}function k(te,fe,pe){var G=f.exec(fe.slice(pe));return G?(te.w=h.get(G[0].toLowerCase()),pe+G[0].length):-1}function j(te,fe,pe){var G=v.exec(fe.slice(pe));return G?(te.m=_.get(G[0].toLowerCase()),pe+G[0].length):-1}function N(te,fe,pe){var G=m.exec(fe.slice(pe));return G?(te.m=b.get(G[0].toLowerCase()),pe+G[0].length):-1}function F(te,fe,pe){return E(te,e,fe,pe)}function $(te,fe,pe){return E(te,r,fe,pe)}function B(te,fe,pe){return E(te,n,fe,pe)}function W(te){return o[te.getDay()]}function V(te){return a[te.getDay()]}function z(te){return l[te.getMonth()]}function Y(te){return s[te.getMonth()]}function ee(te){return i[+(te.getHours()>=12)]}function Q(te){return 1+~~(te.getMonth()/3)}function re(te){return o[te.getUTCDay()]}function Ee(te){return a[te.getUTCDay()]}function Ne(te){return l[te.getUTCMonth()]}function it(te){return s[te.getUTCMonth()]}function Dt(te){return i[+(te.getUTCHours()>=12)]}function Kt(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var fe=O(te+="",w);return fe.toString=function(){return te},fe},parse:function(te){var fe=S(te+="",!1);return fe.toString=function(){return te},fe},utcFormat:function(te){var fe=O(te+="",I);return fe.toString=function(){return te},fe},utcParse:function(te){var fe=S(te+="",!0);return fe.toString=function(){return te},fe}}}var RP={"-":"",_:" ",0:"0"},$t=/^\s*\d+/,Jne=/^%/,Zne=/[\\^$*+?|[\]().{}]/g;function Ce(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function eie(t){return t.replace(Zne,"\\$&")}function Ou(t){return new RegExp("^(?:"+t.map(eie).join("|")+")","i")}function Iu(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function tie(t,e,r){var n=$t.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function rie(t,e,r){var n=$t.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function nie(t,e,r){var n=$t.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function iie(t,e,r){var n=$t.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function aie(t,e,r){var n=$t.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function MP(t,e,r){var n=$t.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function $P(t,e,r){var n=$t.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function oie(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function sie(t,e,r){var n=$t.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function lie(t,e,r){var n=$t.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function DP(t,e,r){var n=$t.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function uie(t,e,r){var n=$t.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function LP(t,e,r){var n=$t.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function cie(t,e,r){var n=$t.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function fie(t,e,r){var n=$t.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function die(t,e,r){var n=$t.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function hie(t,e,r){var n=$t.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function pie(t,e,r){var n=Jne.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function mie(t,e,r){var n=$t.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function gie(t,e,r){var n=$t.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function FP(t,e){return Ce(t.getDate(),e,2)}function vie(t,e){return Ce(t.getHours(),e,2)}function yie(t,e){return Ce(t.getHours()%12||12,e,2)}function _ie(t,e){return Ce(1+Wf.count(Ri(t),t),e,3)}function pM(t,e){return Ce(t.getMilliseconds(),e,3)}function bie(t,e){return pM(t,e)+"000"}function wie(t,e){return Ce(t.getMonth()+1,e,2)}function xie(t,e){return Ce(t.getMinutes(),e,2)}function Eie(t,e){return Ce(t.getSeconds(),e,2)}function Sie(t){var e=t.getDay();return e===0?7:e}function Aie(t,e){return Ce(mg.count(Ri(t)-1,t),e,2)}function mM(t){var e=t.getDay();return e>=4||e===0?cl(t):cl.ceil(t)}function Tie(t,e){return t=mM(t),Ce(cl.count(Ri(t),t)+(Ri(t).getDay()===4),e,2)}function Pie(t){return t.getDay()}function Oie(t,e){return Ce(Op.count(Ri(t)-1,t),e,2)}function Iie(t,e){return Ce(t.getFullYear()%100,e,2)}function kie(t,e){return t=mM(t),Ce(t.getFullYear()%100,e,2)}function Cie(t,e){return Ce(t.getFullYear()%1e4,e,4)}function Nie(t,e){var r=t.getDay();return t=r>=4||r===0?cl(t):cl.ceil(t),Ce(t.getFullYear()%1e4,e,4)}function jie(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ce(e/60|0,"0",2)+Ce(e%60,"0",2)}function VP(t,e){return Ce(t.getUTCDate(),e,2)}function Rie(t,e){return Ce(t.getUTCHours(),e,2)}function Mie(t,e){return Ce(t.getUTCHours()%12||12,e,2)}function $ie(t,e){return Ce(1+pg.count(Mi(t),t),e,3)}function gM(t,e){return Ce(t.getUTCMilliseconds(),e,3)}function Die(t,e){return gM(t,e)+"000"}function Lie(t,e){return Ce(t.getUTCMonth()+1,e,2)}function Fie(t,e){return Ce(t.getUTCMinutes(),e,2)}function Vie(t,e){return Ce(t.getUTCSeconds(),e,2)}function Bie(t){var e=t.getUTCDay();return e===0?7:e}function Uie(t,e){return Ce(gg.count(Mi(t)-1,t),e,2)}function vM(t){var e=t.getUTCDay();return e>=4||e===0?fl(t):fl.ceil(t)}function zie(t,e){return t=vM(t),Ce(fl.count(Mi(t),t)+(Mi(t).getUTCDay()===4),e,2)}function Wie(t){return t.getUTCDay()}function qie(t,e){return Ce(Ip.count(Mi(t)-1,t),e,2)}function Hie(t,e){return Ce(t.getUTCFullYear()%100,e,2)}function Gie(t,e){return t=vM(t),Ce(t.getUTCFullYear()%100,e,2)}function Kie(t,e){return Ce(t.getUTCFullYear()%1e4,e,4)}function Yie(t,e){var r=t.getUTCDay();return t=r>=4||r===0?fl(t):fl.ceil(t),Ce(t.getUTCFullYear()%1e4,e,4)}function Qie(){return"+0000"}function BP(){return"%"}function UP(t){return+t}function zP(t){return Math.floor(+t/1e3)}var ts,yM,_M;Xie({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Xie(t){return ts=Xne(t),yM=ts.format,ts.parse,_M=ts.utcFormat,ts.utcParse,ts}function Jie(t){return new Date(t)}function Zie(t){return t instanceof Date?+t:+new Date(+t)}function Ux(t,e,r,n,i,a,o,s,l,u){var c=Ox(),f=c.invert,h=c.domain,p=u(".%L"),y=u(":%S"),m=u("%I:%M"),b=u("%I %p"),v=u("%a %d"),_=u("%b %d"),w=u("%B"),I=u("%Y");function T(O){return(l(O)<O?p:s(O)<O?y:o(O)<O?m:a(O)<O?b:n(O)<O?i(O)<O?v:_:r(O)<O?w:I)(O)}return c.invert=function(O){return new Date(f(O))},c.domain=function(O){return arguments.length?h(Array.from(O,Zie)):h().map(Jie)},c.ticks=function(O){var S=h();return t(S[0],S[S.length-1],O??10)},c.tickFormat=function(O,S){return S==null?T:u(S)},c.nice=function(O){var S=h();return(!O||typeof O.range!="function")&&(O=e(S[0],S[S.length-1],O??10)),O?h(aM(S,O)):c},c.copy=function(){return zf(c,Ux(t,e,r,n,i,a,o,s,l,u))},c}function eae(){return fn.apply(Ux(Yne,Qne,Ri,Vx,mg,Wf,Lx,$x,fo,yM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function tae(){return fn.apply(Ux(Gne,Kne,Mi,Bx,gg,pg,Fx,Dx,fo,_M).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function vg(){var t=0,e=1,r,n,i,a,o=vr,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(a(f)-r)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function c(f){return function(h){var p,y;return arguments.length?([p,y]=h,o=f(p,y),u):[o(0),o(1)]}}return u.range=c(Yl),u.rangeRound=c(Px),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return a=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),u}}function Va(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function bM(){var t=Fa(vg()(vr));return t.copy=function(){return Va(t,bM())},Ui.apply(t,arguments)}function wM(){var t=Cx(vg()).domain([1,10]);return t.copy=function(){return Va(t,wM()).base(t.base())},Ui.apply(t,arguments)}function xM(){var t=Nx(vg());return t.copy=function(){return Va(t,xM()).constant(t.constant())},Ui.apply(t,arguments)}function zx(){var t=jx(vg());return t.copy=function(){return Va(t,zx()).exponent(t.exponent())},Ui.apply(t,arguments)}function rae(){return zx.apply(null,arguments).exponent(.5)}function EM(){var t=[],e=vr;function r(n){if(n!=null&&!isNaN(n=+n))return e((Bf(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ta),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>Ure(t,a/n))},r.copy=function(){return EM(e).domain(t)},Ui.apply(r,arguments)}function yg(){var t=0,e=.5,r=1,n=1,i,a,o,s,l,u=vr,c,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+c(m))-a)*(n*m<n*a?s:l),u(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([t,e,r]=m,i=c(t=+t),a=c(e=+e),o=c(r=+r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,p):[t,e,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(u=m,p):u};function y(m){return function(b){var v,_,w;return arguments.length?([v,_,w]=b,u=pne(m,[v,_,w]),p):[u(0),u(.5),u(1)]}}return p.range=y(Yl),p.rangeRound=y(Px),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return c=m,i=m(t),a=m(e),o=m(r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,p}}function SM(){var t=Fa(yg()(vr));return t.copy=function(){return Va(t,SM())},Ui.apply(t,arguments)}function AM(){var t=Cx(yg()).domain([.1,1,10]);return t.copy=function(){return Va(t,AM()).base(t.base())},Ui.apply(t,arguments)}function TM(){var t=Nx(yg());return t.copy=function(){return Va(t,TM()).constant(t.constant())},Ui.apply(t,arguments)}function Wx(){var t=jx(yg());return t.copy=function(){return Va(t,Wx()).exponent(t.exponent())},Ui.apply(t,arguments)}function nae(){return Wx.apply(null,arguments).exponent(.5)}const WP=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:qc,scaleDiverging:SM,scaleDivergingLog:AM,scaleDivergingPow:Wx,scaleDivergingSqrt:nae,scaleDivergingSymlog:TM,scaleIdentity:iM,scaleImplicit:u_,scaleLinear:Tp,scaleLog:oM,scaleOrdinal:Sx,scalePoint:ic,scalePow:Rx,scaleQuantile:uM,scaleQuantize:cM,scaleRadial:lM,scaleSequential:bM,scaleSequentialLog:wM,scaleSequentialPow:zx,scaleSequentialQuantile:EM,scaleSequentialSqrt:rae,scaleSequentialSymlog:xM,scaleSqrt:Dne,scaleSymlog:sM,scaleThreshold:fM,scaleTime:eae,scaleUtc:tae,tickFormat:nM},Symbol.toStringTag,{value:"Module"}));var iae=Vl;function aae(t,e,r){for(var n=-1,i=t.length;++n<i;){var a=t[n],o=e(a);if(o!=null&&(s===void 0?o===o&&!iae(o):r(o,s)))var s=o,l=a}return l}var _g=aae;function oae(t,e){return t>e}var PM=oae,sae=_g,lae=PM,uae=Kl;function cae(t){return t&&t.length?sae(t,uae,lae):void 0}var fae=cae;const bg=Re(fae);function dae(t,e){return t<e}var OM=dae,hae=_g,pae=OM,mae=Kl;function gae(t){return t&&t.length?hae(t,mae,pae):void 0}var vae=gae;const wg=Re(vae);var yae=ix,_ae=Zn,bae=$R,wae=Cr;function xae(t,e){var r=wae(t)?yae:bae;return r(t,_ae(e))}var Eae=xae,Sae=RR,Aae=Eae;function Tae(t,e){return Sae(Aae(t,e),1)}var Pae=Tae;const Oae=Re(Pae);var Iae=_x;function kae(t,e){return Iae(t,e)}var Cae=kae;const qf=Re(Cae);var Ql=1e9,Nae={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Hx,nt=!0,un="[DecimalError] ",_o=un+"Invalid argument: ",qx=un+"Exponent out of range: ",Xl=Math.floor,to=Math.pow,jae=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Fr,Ct=1e7,Je=7,IM=9007199254740991,kp=Xl(IM/Je),ie={};ie.absoluteValue=ie.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ie.comparedTo=ie.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};ie.decimalPlaces=ie.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Je;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};ie.dividedBy=ie.div=function(t){return xi(this,new this.constructor(t))};ie.dividedToIntegerBy=ie.idiv=function(t){var e=this,r=e.constructor;return ze(xi(e,new r(t),0,1),r.precision)};ie.equals=ie.eq=function(t){return!this.cmp(t)};ie.exponent=function(){return bt(this)};ie.greaterThan=ie.gt=function(t){return this.cmp(t)>0};ie.greaterThanOrEqualTo=ie.gte=function(t){return this.cmp(t)>=0};ie.isInteger=ie.isint=function(){return this.e>this.d.length-2};ie.isNegative=ie.isneg=function(){return this.s<0};ie.isPositive=ie.ispos=function(){return this.s>0};ie.isZero=function(){return this.s===0};ie.lessThan=ie.lt=function(t){return this.cmp(t)<0};ie.lessThanOrEqualTo=ie.lte=function(t){return this.cmp(t)<1};ie.logarithm=ie.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Fr))throw Error(un+"NaN");if(r.s<1)throw Error(un+(r.s?"NaN":"-Infinity"));return r.eq(Fr)?new n(0):(nt=!1,e=xi(Qc(r,a),Qc(t,a),a),nt=!0,ze(e,i))};ie.minus=ie.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?NM(e,t):kM(e,(t.s=-t.s,t))};ie.modulo=ie.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(un+"NaN");return r.s?(nt=!1,e=xi(r,t,0,1).times(t),nt=!0,r.minus(e)):ze(new n(r),i)};ie.naturalExponential=ie.exp=function(){return CM(this)};ie.naturalLogarithm=ie.ln=function(){return Qc(this)};ie.negated=ie.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ie.plus=ie.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?kM(e,t):NM(e,(t.s=-t.s,t))};ie.precision=ie.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(_o+t);if(e=bt(i)+1,n=i.d.length-1,r=n*Je+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};ie.squareRoot=ie.sqrt=function(){var t,e,r,n,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(un+"NaN")}for(t=bt(s),nt=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Ln(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Xl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=o=r+3;;)if(a=n,n=a.plus(xi(s,a,o+2)).times(.5),Ln(a.d).slice(0,o)===(e=Ln(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(ze(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(e!="9999")break;o+=4}return nt=!0,ze(n,r)};ie.times=ie.mul=function(t){var e,r,n,i,a,o,s,l,u,c=this,f=c.constructor,h=c.d,p=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,r=c.e+t.e,l=h.length,u=p.length,l<u&&(a=h,h=p,p=a,o=l,l=u,u=o),a=[],o=l+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(e=0,i=l+n;i>n;)s=a[i]+p[n]*h[i-n-1]+e,a[i--]=s%Ct|0,e=s/Ct|0;a[i]=(a[i]+e)%Ct|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,nt?ze(t,f.precision):t};ie.toDecimalPlaces=ie.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Qn(t,0,Ql),e===void 0?e=n.rounding:Qn(e,0,8),ze(r,t+bt(r)+1,e))};ie.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Ro(n,!0):(Qn(t,0,Ql),e===void 0?e=i.rounding:Qn(e,0,8),n=ze(new i(n),t+1,e),r=Ro(n,!0,t+1)),r};ie.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?Ro(i):(Qn(t,0,Ql),e===void 0?e=a.rounding:Qn(e,0,8),n=ze(new a(i),t+bt(i)+1,e),r=Ro(n.abs(),!1,t+bt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ie.toInteger=ie.toint=function(){var t=this,e=t.constructor;return ze(new e(t),bt(t)+1,e.rounding)};ie.toNumber=function(){return+this};ie.toPower=ie.pow=function(t){var e,r,n,i,a,o,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Fr);if(s=new l(s),!s.s){if(t.s<1)throw Error(un+"Infinity");return s}if(s.eq(Fr))return s;if(n=l.precision,t.eq(Fr))return ze(s,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=s.s,o){if((r=c<0?-c:c)<=IM){for(i=new l(Fr),e=Math.ceil(n/Je+4),nt=!1;r%2&&(i=i.times(s),HP(i.d,e)),r=Xl(r/2),r!==0;)s=s.times(s),HP(s.d,e);return nt=!0,t.s<0?new l(Fr).div(i):ze(i,n)}}else if(a<0)throw Error(un+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,s.s=1,nt=!1,i=t.times(Qc(s,n+u)),nt=!0,i=CM(i),i.s=a,i};ie.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=bt(i),n=Ro(i,r<=a.toExpNeg||r>=a.toExpPos)):(Qn(t,1,Ql),e===void 0?e=a.rounding:Qn(e,0,8),i=ze(new a(i),t,e),r=bt(i),n=Ro(i,t<=r||r<=a.toExpNeg,t)),n};ie.toSignificantDigits=ie.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Qn(t,1,Ql),e===void 0?e=n.rounding:Qn(e,0,8)),ze(new n(r),t,e)};ie.toString=ie.valueOf=ie.val=ie.toJSON=ie[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=bt(t),r=t.constructor;return Ro(t,e<=r.toExpNeg||e>=r.toExpPos)};function kM(t,e){var r,n,i,a,o,s,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),nt?ze(e,f):e;if(l=t.d,u=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(n=l,a=-a,s=u.length):(n=u,i=o,s=l.length),o=Math.ceil(f/Je),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,n=u,u=l,l=n),r=0;a;)r=(l[--a]=l[a]+u[a]+r)/Ct|0,l[a]%=Ct;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,nt?ze(e,f):e}function Qn(t,e,r){if(t!==~~t||t<e||t>r)throw Error(_o+t)}function Ln(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=Je-n.length,r&&(a+=ea(r)),a+=n;o=t[e],n=o+"",r=Je-n.length,r&&(a+=ea(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var xi=function(){function t(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%Ct|0,o=a/Ct|0;return o&&n.unshift(o),n}function e(n,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*Ct+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,l,u,c,f,h,p,y,m,b,v,_,w,I,T,O,S,E,A=n.constructor,C=n.s==i.s?1:-1,k=n.d,j=i.d;if(!n.s)return new A(n);if(!i.s)throw Error(un+"Division by zero");for(l=n.e-i.e,S=j.length,T=k.length,p=new A(C),y=p.d=[],u=0;j[u]==(k[u]||0);)++u;if(j[u]>(k[u]||0)&&--l,a==null?_=a=A.precision:o?_=a+(bt(n)-bt(i))+1:_=a,_<0)return new A(0);if(_=_/Je+2|0,u=0,S==1)for(c=0,j=j[0],_++;(u<T||c)&&_--;u++)w=c*Ct+(k[u]||0),y[u]=w/j|0,c=w%j|0;else{for(c=Ct/(j[0]+1)|0,c>1&&(j=t(j,c),k=t(k,c),S=j.length,T=k.length),I=S,m=k.slice(0,S),b=m.length;b<S;)m[b++]=0;E=j.slice(),E.unshift(0),O=j[0],j[1]>=Ct/2&&++O;do c=0,s=e(j,m,S,b),s<0?(v=m[0],S!=b&&(v=v*Ct+(m[1]||0)),c=v/O|0,c>1?(c>=Ct&&(c=Ct-1),f=t(j,c),h=f.length,b=m.length,s=e(f,m,h,b),s==1&&(c--,r(f,S<h?E:j,h))):(c==0&&(s=c=1),f=j.slice()),h=f.length,h<b&&f.unshift(0),r(m,f,b),s==-1&&(b=m.length,s=e(j,m,S,b),s<1&&(c++,r(m,S<b?E:j,b))),b=m.length):s===0&&(c++,m=[0]),y[u++]=c,s&&m[0]?m[b++]=k[I]||0:(m=[k[I]],b=1);while((I++<T||m[0]!==void 0)&&_--)}return y[0]||y.shift(),p.e=l,ze(p,o?a+bt(p)+1:a)}}();function CM(t,e){var r,n,i,a,o,s,l=0,u=0,c=t.constructor,f=c.precision;if(bt(t)>16)throw Error(qx+bt(t));if(!t.s)return new c(Fr);for(nt=!1,s=f,o=new c(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(n=Math.log(to(2,u))/Math.LN10*2+5|0,s+=n,r=i=a=new c(Fr),c.precision=s;;){if(i=ze(i.times(t),s),r=r.times(++l),o=a.plus(xi(i,r,s)),Ln(o.d).slice(0,s)===Ln(a.d).slice(0,s)){for(;u--;)a=ze(a.times(a),s);return c.precision=f,e==null?(nt=!0,ze(a,f)):a}a=o}}function bt(t){for(var e=t.e*Je,r=t.d[0];r>=10;r/=10)e++;return e}function iy(t,e,r){if(e>t.LN10.sd())throw nt=!0,r&&(t.precision=r),Error(un+"LN10 precision limit exceeded");return ze(new t(t.LN10),e)}function ea(t){for(var e="";t--;)e+="0";return e}function Qc(t,e){var r,n,i,a,o,s,l,u,c,f=1,h=10,p=t,y=p.d,m=p.constructor,b=m.precision;if(p.s<1)throw Error(un+(p.s?"NaN":"-Infinity"));if(p.eq(Fr))return new m(0);if(e==null?(nt=!1,u=b):u=e,p.eq(10))return e==null&&(nt=!0),iy(m,u);if(u+=h,m.precision=u,r=Ln(y),n=r.charAt(0),a=bt(p),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=Ln(p.d),n=r.charAt(0),f++;a=bt(p),n>1?(p=new m("0."+r),a++):p=new m(n+"."+r.slice(1))}else return l=iy(m,u+2,b).times(a+""),p=Qc(new m(n+"."+r.slice(1)),u-h).plus(l),m.precision=b,e==null?(nt=!0,ze(p,b)):p;for(s=o=p=xi(p.minus(Fr),p.plus(Fr),u),c=ze(p.times(p),u),i=3;;){if(o=ze(o.times(c),u),l=s.plus(xi(o,new m(i),u)),Ln(l.d).slice(0,u)===Ln(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(iy(m,u+2,b).times(a+""))),s=xi(s,new m(f),u),m.precision=b,e==null?(nt=!0,ze(s,b)):s;s=l,i+=2}}function qP(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Xl(r/Je),t.d=[],n=(r+1)%Je,r<0&&(n+=Je),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Je;n<i;)t.d.push(+e.slice(n,n+=Je));e=e.slice(n),n=Je-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),nt&&(t.e>kp||t.e<-kp))throw Error(qx+r)}else t.s=0,t.e=0,t.d=[0];return t}function ze(t,e,r){var n,i,a,o,s,l,u,c,f=t.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=Je,i=e,u=f[c=0];else{if(c=Math.ceil((n+1)/Je),a=f.length,c>=a)return t;for(u=a=f[c],o=1;a>=10;a/=10)o++;n%=Je,i=n-Je+o}if(r!==void 0&&(a=to(10,o-i-1),s=u/a%10|0,l=e<0||f[c+1]!==void 0||u%a,l=r<4?(s||l)&&(r==0||r==(t.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?u/to(10,o-i):0:f[c-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return l?(a=bt(t),f.length=1,e=e-a-1,f[0]=to(10,(Je-e%Je)%Je),t.e=Xl(-e/Je)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=c,a=1,c--):(f.length=c+1,a=to(10,Je-n),f[c]=i>0?(u/to(10,o-i)%to(10,i)|0)*a:0),l)for(;;)if(c==0){(f[0]+=a)==Ct&&(f[0]=1,++t.e);break}else{if(f[c]+=a,f[c]!=Ct)break;f[c--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(nt&&(t.e>kp||t.e<-kp))throw Error(qx+bt(t));return t}function NM(t,e){var r,n,i,a,o,s,l,u,c,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),nt?ze(e,p):e;if(l=t.d,f=e.d,n=e.e,u=t.e,l=l.slice(),o=u-n,o){for(c=o<0,c?(r=l,o=-o,s=f.length):(r=f,n=u,s=l.length),i=Math.max(Math.ceil(p/Je),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=f.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}o=0}for(c&&(r=l,l=f,f=r,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=Ct-1;--l[a],l[i]+=Ct}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,nt?ze(e,p):e):new h(0)}function Ro(t,e,r){var n,i=bt(t),a=Ln(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+ea(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+ea(-i-1)+a,r&&(n=r-o)>0&&(a+=ea(n))):i>=o?(a+=ea(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+ea(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=ea(n))),t.s<0?"-"+a:a}function HP(t,e){if(t.length>e)return t.length=e,!0}function jM(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(_o+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return qP(o,a.toString())}else if(typeof a!="string")throw Error(_o+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,jae.test(a))qP(o,a);else throw Error(_o+a)}if(i.prototype=ie,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=jM,i.config=i.set=Rae,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function Rae(t){if(!t||typeof t!="object")throw Error(un+"Object expected");var e,r,n,i=["precision",1,Ql,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Xl(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(_o+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(_o+r+": "+n);return this}var Hx=jM(Nae);Fr=new Hx(1);const Ve=Hx;function Mae(t){return Fae(t)||Lae(t)||Dae(t)||$ae()}function $ae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dae(t,e){if(t){if(typeof t=="string")return h_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h_(t,e)}}function Lae(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Fae(t){if(Array.isArray(t))return h_(t)}function h_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Vae=function(e){return e},RM={},MM=function(e){return e===RM},GP=function(e){return function r(){return arguments.length===0||arguments.length===1&&MM(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},Bae=function t(e,r){return e===1?r:GP(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==RM}).length;return o>=e?r.apply(void 0,i):t(e-o,GP(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(f){return MM(f)?l.shift():f});return r.apply(void 0,Mae(c).concat(l))}))})},xg=function(e){return Bae(e.length,e)},p_=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},Uae=xg(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),zae=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return Vae;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},m_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},$M=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(s,l){return s===r[l]})||(r=a,n=e.apply(void 0,a)),n}};function Wae(t){var e;return t===0?e=1:e=Math.floor(new Ve(t).abs().log(10).toNumber())+1,e}function qae(t,e,r){for(var n=new Ve(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var Hae=xg(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),Gae=xg(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),Kae=xg(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Eg={rangeStep:qae,getDigitCount:Wae,interpolateNumber:Hae,uninterpolateNumber:Gae,uninterpolateTruncation:Kae};function g_(t){return Xae(t)||Qae(t)||DM(t)||Yae()}function Yae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qae(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Xae(t){if(Array.isArray(t))return v_(t)}function Xc(t,e){return eoe(t)||Zae(t,e)||DM(t,e)||Jae()}function Jae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DM(t,e){if(t){if(typeof t=="string")return v_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v_(t,e)}}function v_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Zae(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function eoe(t){if(Array.isArray(t))return t}function LM(t){var e=Xc(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function FM(t,e,r){if(t.lte(0))return new Ve(0);var n=Eg.getDigitCount(t.toNumber()),i=new Ve(10).pow(n),a=t.div(i),o=n!==1?.05:.1,s=new Ve(Math.ceil(a.div(o).toNumber())).add(r).mul(o),l=s.mul(i);return e?l:new Ve(Math.ceil(l))}function toe(t,e,r){var n=1,i=new Ve(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new Ve(10).pow(Eg.getDigitCount(t)-1),i=new Ve(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Ve(Math.floor(t)))}else t===0?i=new Ve(Math.floor((e-1)/2)):r||(i=new Ve(Math.floor(t)));var o=Math.floor((e-1)/2),s=zae(Uae(function(l){return i.add(new Ve(l-o).mul(n)).toNumber()}),p_);return s(0,e)}function VM(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Ve(0),tickMin:new Ve(0),tickMax:new Ve(0)};var a=FM(new Ve(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new Ve(0):(o=new Ve(t).add(e).div(2),o=o.sub(new Ve(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new Ve(e).sub(o).div(a).toNumber()),u=s+l+1;return u>r?VM(t,e,r,n,i+1):(u<r&&(l=e>0?l+(r-u):l,s=e>0?s:s+(r-u)),{step:a,tickMin:o.sub(new Ve(s).mul(a)),tickMax:o.add(new Ve(l).mul(a))})}function roe(t){var e=Xc(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=LM([r,n]),l=Xc(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(g_(p_(0,i-1).map(function(){return 1/0}))):[].concat(g_(p_(0,i-1).map(function(){return-1/0})),[c]);return r>n?m_(f):f}if(u===c)return toe(u,i,a);var h=VM(u,c,o,a),p=h.step,y=h.tickMin,m=h.tickMax,b=Eg.rangeStep(y,m.add(new Ve(.1).mul(p)),p);return r>n?m_(b):b}function noe(t,e){var r=Xc(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=LM([n,i]),s=Xc(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[n,i];if(l===u)return[l];var c=Math.max(e,2),f=FM(new Ve(u).sub(l).div(c-1),a,0),h=[].concat(g_(Eg.rangeStep(new Ve(l),new Ve(u).sub(new Ve(.99).mul(f)),f)),[u]);return n>i?m_(h):h}var ioe=$M(roe),aoe=$M(noe),ooe="Invariant failed";function Mo(t,e){throw new Error(ooe)}var soe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function dl(t){"@babel/helpers - typeof";return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dl(t)}function Cp(){return Cp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cp.apply(this,arguments)}function loe(t,e){return doe(t)||foe(t,e)||coe(t,e)||uoe()}function uoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function coe(t,e){if(t){if(typeof t=="string")return KP(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KP(t,e)}}function KP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function foe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function doe(t){if(Array.isArray(t))return t}function hoe(t,e){if(t==null)return{};var r=poe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function poe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function moe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function goe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zM(n.key),n)}}function voe(t,e,r){return e&&goe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yoe(t,e,r){return e=Np(e),_oe(t,BM()?Reflect.construct(e,r||[],Np(t).constructor):e.apply(t,r))}function _oe(t,e){if(e&&(dl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return boe(t)}function boe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BM=function(){return!!t})()}function Np(t){return Np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Np(t)}function woe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y_(t,e)}function y_(t,e){return y_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},y_(t,e)}function UM(t,e,r){return e=zM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zM(t){var e=xoe(t,"string");return dl(e)=="symbol"?e:e+""}function xoe(t,e){if(dl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Hf=function(t){function e(){return moe(this,e),yoe(this,e,arguments)}return woe(e,t),voe(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,s=n.dataKey,l=n.data,u=n.dataPointFormatter,c=n.xAxis,f=n.yAxis,h=hoe(n,soe),p=le(h,!1);this.props.direction==="x"&&c.type!=="number"&&Mo();var y=l.map(function(m){var b=u(m,s),v=b.x,_=b.y,w=b.value,I=b.errorVal;if(!I)return null;var T=[],O,S;if(Array.isArray(I)){var E=loe(I,2);O=E[0],S=E[1]}else O=S=I;if(a==="vertical"){var A=c.scale,C=_+i,k=C+o,j=C-o,N=A(w-O),F=A(w+S);T.push({x1:F,y1:k,x2:F,y2:j}),T.push({x1:N,y1:C,x2:F,y2:C}),T.push({x1:N,y1:k,x2:N,y2:j})}else if(a==="horizontal"){var $=f.scale,B=v+i,W=B-o,V=B+o,z=$(w-O),Y=$(w+S);T.push({x1:W,y1:Y,x2:V,y2:Y}),T.push({x1:B,y1:z,x2:B,y2:Y}),T.push({x1:W,y1:z,x2:V,y2:z})}return M.createElement(ke,Cp({className:"recharts-errorBar",key:"bar-".concat(T.map(function(ee){return"".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))},p),T.map(function(ee){return M.createElement("line",Cp({},ee,{key:"line-".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))}))});return M.createElement(ke,{className:"recharts-errorBars"},y)}}])}(M.Component);UM(Hf,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});UM(Hf,"displayName","ErrorBar");function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}function YP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ga(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YP(Object(r),!0).forEach(function(n){Eoe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Eoe(t,e,r){return e=Soe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Soe(t){var e=Aoe(t,"string");return Jc(e)=="symbol"?e:e+""}function Aoe(t,e){if(Jc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WM=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Dr(r,$s);if(!o)return null;var s=$s.defaultProps,l=s!==void 0?Ga(Ga({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(n||[]).reduce(function(c,f){var h=f.item,p=f.props,y=p.sectors||p.data||[];return c.concat(y.map(function(m){return{type:o.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(c){var f=c.item,h=f.type.defaultProps,p=h!==void 0?Ga(Ga({},h),f.props):{},y=p.dataKey,m=p.name,b=p.legendType,v=p.hide;return{inactive:v,dataKey:y,type:l.iconType||b||"square",color:Gx(f),value:m||y,payload:p}}),Ga(Ga(Ga({},l),$s.getWithHeight(o,i)),{},{payload:u,item:o})};function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function QP(t){return Ioe(t)||Ooe(t)||Poe(t)||Toe()}function Toe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Poe(t,e){if(t){if(typeof t=="string")return __(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return __(t,e)}}function Ooe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ioe(t){if(Array.isArray(t))return __(t)}function __(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function XP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ht(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XP(Object(r),!0).forEach(function(n){Ls(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ls(t,e,r){return e=koe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function koe(t){var e=Coe(t,"string");return Zc(e)=="symbol"?e:e+""}function Coe(t,e){if(Zc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function At(t,e,r){return ge(t)||ge(e)?r:Pt(e)?zr(t,e,r):ce(e)?e(t):r}function ac(t,e,r,n){var i=Oae(t,function(s){return At(s,e)});if(r==="number"){var a=i.filter(function(s){return J(s)||parseFloat(s)});return a.length?[wg(a),bg(a)]:[1/0,-1/0]}var o=n?i.filter(function(s){return!ge(s)}):i;return o.map(function(s){return Pt(s)||s instanceof Date?s:""})}var Noe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(mr(f-c)!==mr(h-f)){var y=[];if(mr(h-f)===mr(l[1]-l[0])){p=h;var m=f+l[1]-l[0];y[0]=Math.min(m,(m+c)/2),y[1]=Math.max(m,(m+c)/2)}else{p=c;var b=h+l[1]-l[0];y[0]=Math.min(f,(b+f)/2),y[1]=Math.max(f,(b+f)/2)}var v=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>v[0]&&e<=v[1]||e>=y[0]&&e<=y[1]){o=i[u].index;break}}else{var _=Math.min(c,h),w=Math.max(c,h);if(e>(_+f)/2&&e<=(w+f)/2){o=i[u].index;break}}}else for(var I=0;I<s;I++)if(I===0&&e<=(n[I].coordinate+n[I+1].coordinate)/2||I>0&&I<s-1&&e>(n[I].coordinate+n[I-1].coordinate)/2&&e<=(n[I].coordinate+n[I+1].coordinate)/2||I===s-1&&e>(n[I].coordinate+n[I-1].coordinate)/2){o=n[I].index;break}return o},Gx=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?ht(ht({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},joe=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,u=s.length;l<u;l++)for(var c=a[s[l]].stackGroups,f=Object.keys(c),h=0,p=f.length;h<p;h++){var y=c[f[h]],m=y.items,b=y.cateAxisId,v=m.filter(function(S){return wi(S.type).indexOf("Bar")>=0});if(v&&v.length){var _=v[0].type.defaultProps,w=_!==void 0?ht(ht({},_),v[0].props):v[0].props,I=w.barSize,T=w[b];o[T]||(o[T]=[]);var O=ge(I)?r:I;o[T].push({item:v[0],stackList:v.slice(1),barSize:ge(O)?void 0:gr(O,n,0)})}}return o},Roe=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var u=gr(r,i,0,!0),c,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=i/l,y=o.reduce(function(I,T){return I+T.barSize||0},0);y+=(l-1)*u,y>=i&&(y-=(l-1)*u,u=0),y>=i&&p>0&&(h=!0,p*=.9,y=l*p);var m=(i-y)/2>>0,b={offset:m-u,size:0};c=o.reduce(function(I,T){var O={item:T.item,position:{offset:b.offset+b.size+u,size:h?p:T.barSize}},S=[].concat(QP(I),[O]);return b=S[S.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(E){S.push({item:E,position:b})}),S},f)}else{var v=gr(n,i,0,!0);i-2*v-(l-1)*u<=0&&(u=0);var _=(i-2*v-(l-1)*u)/l;_>1&&(_>>=0);var w=s===+s?Math.min(_,s):_;c=o.reduce(function(I,T,O){var S=[].concat(QP(I),[{item:T.item,position:{offset:v+(_+u)*O+(_-w)/2,size:w}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(E){S.push({item:E,position:S[S.length-1].position})}),S},f)}return c},Moe=function(e,r,n,i){var a=n.children,o=n.width,s=n.margin,l=o-(s.left||0)-(s.right||0),u=WM({children:a,legendWidth:l});if(u){var c=i||{},f=c.width,h=c.height,p=u.align,y=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&y==="middle")&&p!=="center"&&J(e[p]))return ht(ht({},e),{},Ls({},p,e[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&y!=="middle"&&J(e[y]))return ht(ht({},e),{},Ls({},y,e[y]+(h||0)))}return e},$oe=function(e,r,n){return ge(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},qM=function(e,r,n,i,a){var o=r.props.children,s=Wr(o,Hf).filter(function(u){return $oe(i,a,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=At(c,n);if(ge(f))return u;var h=Array.isArray(f)?[wg(f),bg(f)]:[f,f],p=l.reduce(function(y,m){var b=At(c,m,0),v=h[0]-Math.abs(Array.isArray(b)?b[0]:b),_=h[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(v,y[0]),Math.max(_,y[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},Doe=function(e,r,n,i,a){var o=r.map(function(s){return qM(e,s,n,a,i)}).filter(function(s){return!ge(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},HM=function(e,r,n,i,a){var o=r.map(function(l){var u=l.props.dataKey;return n==="number"&&u&&qM(e,l,u,i)||ac(e,u,n,a)});if(n==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},GM=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},KM=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===r&&(a=!0),l.coordinate===n&&(o=!0),l.coordinate});return a||s.push(r),o||s.push(n),s},yi=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?mr(s[0]-s[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return c.filter(function(f){return!Ff(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:a?a[f]:f,index:h,offset:u}})},ay=new WeakMap,Wd=function(e,r){if(typeof r!="function")return e;ay.has(e)||ay.set(e,new WeakMap);var n=ay.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},YM=function(e,r,n){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:qc(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:Tp(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:ic(),realScaleType:"point"}:a==="category"?{scale:qc(),realScaleType:"band"}:{scale:Tp(),realScaleType:"linear"};if(Co(i)){var l="scale".concat(og(i));return{scale:(WP[l]||ic)(),realScaleType:WP[l]?l:"point"}}return ce(i)?{scale:i}:{scale:ic(),realScaleType:"point"}},JP=1e-4,QM=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-JP,o=Math.max(i[0],i[1])+JP,s=e(r[0]),l=e(r[n-1]);(s<a||s>o||l<a||l>o)&&e.domain([r[0],r[n-1]])}},Loe=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},Foe=function(e,r){if(!r||r.length!==2||!J(r[0])||!J(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!J(e[0])||e[0]<n)&&(a[0]=n),(!J(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},Voe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0,s=0;s<r;++s){var l=Ff(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=a,e[s][n][1]=a+l,a=e[s][n][1]):(e[s][n][0]=o,e[s][n][1]=o+l,o=e[s][n][1])}},Boe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var s=Ff(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},Uoe={sign:Voe,expand:sG,none:il,silhouette:lG,wiggle:uG,positive:Boe},zoe=function(e,r,n){var i=r.map(function(s){return s.props.dataKey}),a=Uoe[n],o=oG().keys(i).value(function(s,l){return+At(s,l,0)}).order(W0).offset(a);return o(e)},Woe=function(e,r,n,i,a,o){if(!e)return null;var s=o?r.reverse():r,l={},u=s.reduce(function(f,h){var p,y=(p=h.type)!==null&&p!==void 0&&p.defaultProps?ht(ht({},h.type.defaultProps),h.props):h.props,m=y.stackId,b=y.hide;if(b)return f;var v=y[n],_=f[v]||{hasStack:!1,stackGroups:{}};if(Pt(m)){var w=_.stackGroups[m]||{numericAxisId:n,cateAxisId:i,items:[]};w.items.push(h),_.hasStack=!0,_.stackGroups[m]=w}else _.stackGroups[ql("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return ht(ht({},f),{},Ls({},v,_))},l),c={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var y={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,b){var v=p.stackGroups[b];return ht(ht({},m),{},Ls({},b,{numericAxisId:n,cateAxisId:i,items:v.items,stackedData:zoe(e,v.items,a)}))},y)}return ht(ht({},f),{},Ls({},h,p))},c)},XM=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=ioe(u,a,s);return e.domain([wg(c),bg(c)]),{niceTicks:c}}if(a&&i==="number"){var f=e.domain(),h=aoe(f,a,s);return{niceTicks:h}}return null};function ZP(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ge(i[e.dataKey])){var s=ap(r,"value",i[e.dataKey]);if(s)return s.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=At(i,ge(o)?e.dataKey:o);return ge(l)?null:e.scale(l)}var eO=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(r.type==="category")return n[s]?n[s].coordinate+i:null;var l=At(o,r.dataKey,r.domain[s]);return ge(l)?null:r.scale(l)-a/2+i},qoe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},Hoe=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?ht(ht({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Pt(a)){var o=r[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},Goe=function(e){return e.reduce(function(r,n){return[wg(n.concat([r[0]]).filter(J)),bg(n.concat([r[1]]).filter(J))]},[1/0,-1/0])},JM=function(e,r,n){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(u,c){var f=Goe(c.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},tO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,rO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,b_=function(e,r,n){if(ce(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(J(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(tO.test(e[0])){var a=+tO.exec(e[0])[1];i[0]=r[0]-a}else ce(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(J(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(rO.test(e[1])){var o=+rO.exec(e[1])[1];i[1]=r[1]+o}else ce(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},jp=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=wx(r,function(f){return f.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var u=a[s],c=a[s-1];o=Math.min((u.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},nO=function(e,r,n){return!e||!e.length||qf(e,zr(n,"type.defaultProps.domain"))?r:e},ZM=function(e,r){var n=e.type.defaultProps?ht(ht({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,o=n.unit,s=n.formatter,l=n.tooltipType,u=n.chartType,c=n.hide;return ht(ht({},le(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:Gx(e),value:At(r,i),type:l,payload:r,chartType:u,hide:c})};function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}function iO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function si(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iO(Object(r),!0).forEach(function(n){e$(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function e$(t,e,r){return e=Koe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Koe(t){var e=Yoe(t,"string");return ef(e)=="symbol"?e:e+""}function Yoe(t,e){if(ef(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qoe(t,e){return ese(t)||Zoe(t,e)||Joe(t,e)||Xoe()}function Xoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Joe(t,e){if(t){if(typeof t=="string")return aO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aO(t,e)}}function aO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Zoe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function ese(t){if(Array.isArray(t))return t}var Rp=Math.PI/180,tse=function(e){return e*180/Math.PI},Ke=function(e,r,n,i){return{x:e+Math.cos(-Rp*i)*n,y:r+Math.sin(-Rp*i)*n}},t$=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},rse=function(e,r,n,i,a){var o=e.width,s=e.height,l=e.startAngle,u=e.endAngle,c=gr(e.cx,o,o/2),f=gr(e.cy,s,s/2),h=t$(o,s,n),p=gr(e.innerRadius,h,0),y=gr(e.outerRadius,h,h*.8),m=Object.keys(r);return m.reduce(function(b,v){var _=r[v],w=_.domain,I=_.reversed,T;if(ge(_.range))i==="angleAxis"?T=[l,u]:i==="radiusAxis"&&(T=[p,y]),I&&(T=[T[1],T[0]]);else{T=_.range;var O=T,S=Qoe(O,2);l=S[0],u=S[1]}var E=YM(_,a),A=E.realScaleType,C=E.scale;C.domain(w).range(T),QM(C);var k=XM(C,si(si({},_),{},{realScaleType:A})),j=si(si(si({},_),k),{},{range:T,radius:y,realScaleType:A,scale:C,cx:c,cy:f,innerRadius:p,outerRadius:y,startAngle:l,endAngle:u});return si(si({},b),{},e$({},v,j))},{})},nse=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},ise=function(e,r){var n=e.x,i=e.y,a=r.cx,o=r.cy,s=nse({x:n,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(n-a)/s,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:s,angle:tse(u),angleInRadian:u}},ase=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},ose=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},oO=function(e,r){var n=e.x,i=e.y,a=ise({x:n,y:i},r),o=a.radius,s=a.angle,l=r.innerRadius,u=r.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var c=ase(r),f=c.startAngle,h=c.endAngle,p=s,y;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;y=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;y=p>=h&&p<=f}return y?si(si({},r),{},{radius:o,angle:ose(p,r)}):null},r$=function(e){return!D.isValidElement(e)&&!ce(e)&&typeof e!="boolean"?e.className:""};function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}var sse=["offset"];function lse(t){return dse(t)||fse(t)||cse(t)||use()}function use(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cse(t,e){if(t){if(typeof t=="string")return w_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w_(t,e)}}function fse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dse(t){if(Array.isArray(t))return w_(t)}function w_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hse(t,e){if(t==null)return{};var r=pse(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pse(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function sO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Et(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sO(Object(r),!0).forEach(function(n){mse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mse(t,e,r){return e=gse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gse(t){var e=vse(t,"string");return tf(e)=="symbol"?e:e+""}function vse(t,e){if(tf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rf(){return rf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rf.apply(this,arguments)}var yse=function(e){var r=e.value,n=e.formatter,i=ge(e.children)?r:e.children;return ce(n)?n(i):i},_se=function(e,r){var n=mr(r-e),i=Math.min(Math.abs(r-e),360);return n*i},bse=function(e,r,n){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,u=l.cx,c=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,y=l.endAngle,m=l.clockWise,b=(f+h)/2,v=_se(p,y),_=v>=0?1:-1,w,I;i==="insideStart"?(w=p+_*o,I=m):i==="insideEnd"?(w=y-_*o,I=!m):i==="end"&&(w=y+_*o,I=m),I=v<=0?I:!I;var T=Ke(u,c,b,w),O=Ke(u,c,b,w+(I?1:-1)*359),S="M".concat(T.x,",").concat(T.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(I?0:1,`,
    `).concat(O.x,",").concat(O.y),E=ge(e.id)?ql("recharts-radial-line-"):e.id;return M.createElement("text",rf({},n,{dominantBaseline:"central",className:ye("recharts-radial-bar-label",s)}),M.createElement("defs",null,M.createElement("path",{id:E,d:S})),M.createElement("textPath",{xlinkHref:"#".concat(E)},r))},wse=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,o=a.cx,s=a.cy,l=a.innerRadius,u=a.outerRadius,c=a.startAngle,f=a.endAngle,h=(c+f)/2;if(i==="outside"){var p=Ke(o,s,u+n,h),y=p.x,m=p.y;return{x:y,y:m,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var b=(l+u)/2,v=Ke(o,s,b,h),_=v.x,w=v.y;return{x:_,y:w,textAnchor:"middle",verticalAnchor:"middle"}},xse=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,o=r,s=o.x,l=o.y,u=o.width,c=o.height,f=c>=0?1:-1,h=f*i,p=f>0?"end":"start",y=f>0?"start":"end",m=u>=0?1:-1,b=m*i,v=m>0?"end":"start",_=m>0?"start":"end";if(a==="top"){var w={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return Et(Et({},w),n?{height:Math.max(l-n.y,0),width:u}:{})}if(a==="bottom"){var I={x:s+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:y};return Et(Et({},I),n?{height:Math.max(n.y+n.height-(l+c),0),width:u}:{})}if(a==="left"){var T={x:s-b,y:l+c/2,textAnchor:v,verticalAnchor:"middle"};return Et(Et({},T),n?{width:Math.max(T.x-n.x,0),height:c}:{})}if(a==="right"){var O={x:s+u+b,y:l+c/2,textAnchor:_,verticalAnchor:"middle"};return Et(Et({},O),n?{width:Math.max(n.x+n.width-O.x,0),height:c}:{})}var S=n?{width:u,height:c}:{};return a==="insideLeft"?Et({x:s+b,y:l+c/2,textAnchor:_,verticalAnchor:"middle"},S):a==="insideRight"?Et({x:s+u-b,y:l+c/2,textAnchor:v,verticalAnchor:"middle"},S):a==="insideTop"?Et({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:y},S):a==="insideBottom"?Et({x:s+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:p},S):a==="insideTopLeft"?Et({x:s+b,y:l+h,textAnchor:_,verticalAnchor:y},S):a==="insideTopRight"?Et({x:s+u-b,y:l+h,textAnchor:v,verticalAnchor:y},S):a==="insideBottomLeft"?Et({x:s+b,y:l+c-h,textAnchor:_,verticalAnchor:p},S):a==="insideBottomRight"?Et({x:s+u-b,y:l+c-h,textAnchor:v,verticalAnchor:p},S):Bl(a)&&(J(a.x)||uo(a.x))&&(J(a.y)||uo(a.y))?Et({x:s+gr(a.x,u),y:l+gr(a.y,c),textAnchor:"end",verticalAnchor:"end"},S):Et({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},S)},Ese=function(e){return"cx"in e&&J(e.cx)};function Rt(t){var e=t.offset,r=e===void 0?5:e,n=hse(t,sse),i=Et({offset:r},n),a=i.viewBox,o=i.position,s=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,h=i.textBreakAll;if(!a||ge(s)&&ge(l)&&!D.isValidElement(u)&&!ce(u))return null;if(D.isValidElement(u))return D.cloneElement(u,i);var p;if(ce(u)){if(p=D.createElement(u,i),D.isValidElement(p))return p}else p=yse(i);var y=Ese(a),m=le(i,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return bse(i,p,m);var b=y?wse(i):xse(i);return M.createElement(jo,rf({className:ye("recharts-label",f)},m,b,{breakAll:h}),p)}Rt.displayName="Label";var n$=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,h=e.y,p=e.top,y=e.left,m=e.width,b=e.height,v=e.clockWise,_=e.labelViewBox;if(_)return _;if(J(m)&&J(b)){if(J(f)&&J(h))return{x:f,y:h,width:m,height:b};if(J(p)&&J(y))return{x:p,y,width:m,height:b}}return J(f)&&J(h)?{x:f,y:h,width:0,height:0}:J(r)&&J(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:v}:e.viewBox?e.viewBox:{}},Sse=function(e,r){return e?e===!0?M.createElement(Rt,{key:"label-implicit",viewBox:r}):Pt(e)?M.createElement(Rt,{key:"label-implicit",viewBox:r,value:e}):D.isValidElement(e)?e.type===Rt?D.cloneElement(e,{key:"label-implicit",viewBox:r}):M.createElement(Rt,{key:"label-implicit",content:e,viewBox:r}):ce(e)?M.createElement(Rt,{key:"label-implicit",content:e,viewBox:r}):Bl(e)?M.createElement(Rt,rf({viewBox:r},e,{key:"label-implicit"})):null:null},Ase=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=n$(e),o=Wr(i,Rt).map(function(l,u){return D.cloneElement(l,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return o;var s=Sse(e.label,r||a);return[s].concat(lse(o))};Rt.parseViewBox=n$;Rt.renderCallByParent=Ase;function Tse(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Pse=Tse;const Ose=Re(Pse);function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}var Ise=["valueAccessor"],kse=["data","dataKey","clockWise","id","textBreakAll"];function Cse(t){return Mse(t)||Rse(t)||jse(t)||Nse()}function Nse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jse(t,e){if(t){if(typeof t=="string")return x_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x_(t,e)}}function Rse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mse(t){if(Array.isArray(t))return x_(t)}function x_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Mp(){return Mp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mp.apply(this,arguments)}function lO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lO(Object(r),!0).forEach(function(n){$se(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $se(t,e,r){return e=Dse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dse(t){var e=Lse(t,"string");return nf(e)=="symbol"?e:e+""}function Lse(t,e){if(nf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cO(t,e){if(t==null)return{};var r=Fse(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Fse(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Vse=function(e){return Array.isArray(e.value)?Ose(e.value):e.value};function on(t){var e=t.valueAccessor,r=e===void 0?Vse:e,n=cO(t,Ise),i=n.data,a=n.dataKey,o=n.clockWise,s=n.id,l=n.textBreakAll,u=cO(n,kse);return!i||!i.length?null:M.createElement(ke,{className:"recharts-label-list"},i.map(function(c,f){var h=ge(a)?r(c,f):At(c&&c.payload,a),p=ge(s)?{}:{id:"".concat(s,"-").concat(f)};return M.createElement(Rt,Mp({},le(c,!0),u,p,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:Rt.parseViewBox(ge(o)?c:uO(uO({},c),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}on.displayName="LabelList";function Bse(t,e){return t?t===!0?M.createElement(on,{key:"labelList-implicit",data:e}):M.isValidElement(t)||ce(t)?M.createElement(on,{key:"labelList-implicit",data:e,content:t}):Bl(t)?M.createElement(on,Mp({data:e},t,{key:"labelList-implicit"})):null:null}function Use(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Wr(n,on).map(function(o,s){return D.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!r)return i;var a=Bse(t.label,e);return[a].concat(Cse(i))}on.renderCallByParent=Use;function af(t){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(t)}function E_(){return E_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},E_.apply(this,arguments)}function fO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fO(Object(r),!0).forEach(function(n){zse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zse(t,e,r){return e=Wse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wse(t){var e=qse(t,"string");return af(e)=="symbol"?e:e+""}function qse(t,e){if(af(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hse=function(e,r){var n=mr(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},qd=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,f=Math.asin(l/c)/Rp,h=u?a:a+o*f,p=Ke(r,n,c,h),y=Ke(r,n,i,h),m=u?a-o*f:a,b=Ke(r,n,c*Math.cos(f*Rp),m);return{center:p,circleTangency:y,lineTangency:b,theta:f}},i$=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=Hse(o,s),u=o+l,c=Ke(r,n,a,o),f=Ke(r,n,a,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=Ke(r,n,i,o),y=Ke(r,n,i,u);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Gse=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=mr(c-u),h=qd({cx:r,cy:n,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:l}),p=h.circleTangency,y=h.lineTangency,m=h.theta,b=qd({cx:r,cy:n,radius:a,angle:c,sign:-f,cornerRadius:o,cornerIsExternal:l}),v=b.circleTangency,_=b.lineTangency,w=b.theta,I=l?Math.abs(u-c):Math.abs(u-c)-m-w;if(I<0)return s?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):i$({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c});var T="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(I>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
  `);if(i>0){var O=qd({cx:r,cy:n,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),S=O.circleTangency,E=O.lineTangency,A=O.theta,C=qd({cx:r,cy:n,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),k=C.circleTangency,j=C.lineTangency,N=C.theta,F=l?Math.abs(u-c):Math.abs(u-c)-A-N;if(F<0&&o===0)return"".concat(T,"L").concat(r,",").concat(n,"Z");T+="L".concat(j.x,",").concat(j.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(F>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,"Z")}else T+="L".concat(r,",").concat(n,"Z");return T},Kse={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},a$=function(e){var r=dO(dO({},Kse),e),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,u=r.cornerIsExternal,c=r.startAngle,f=r.endAngle,h=r.className;if(o<a||c===f)return null;var p=ye("recharts-sector",h),y=o-a,m=gr(s,y,0,!0),b;return m>0&&Math.abs(c-f)<360?b=Gse({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(m,y/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):b=i$({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:c,endAngle:f}),M.createElement("path",E_({},le(r,!0),{className:p,d:b,role:"img"}))};function of(t){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(t)}function S_(){return S_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},S_.apply(this,arguments)}function hO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hO(Object(r),!0).forEach(function(n){Yse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yse(t,e,r){return e=Qse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qse(t){var e=Xse(t,"string");return of(e)=="symbol"?e:e+""}function Xse(t,e){if(of(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mO={curveBasisClosed:Y7,curveBasisOpen:Q7,curveBasis:K7,curveBumpX:R7,curveBumpY:M7,curveLinearClosed:X7,curveLinear:lg,curveMonotoneX:J7,curveMonotoneY:Z7,curveNatural:eG,curveStep:tG,curveStepAfter:nG,curveStepBefore:rG},Hd=function(e){return e.x===+e.x&&e.y===+e.y},ku=function(e){return e.x},Cu=function(e){return e.y},Jse=function(e,r){if(ce(e))return e;var n="curve".concat(og(e));return(n==="curveMonotone"||n==="curveBump")&&r?mO["".concat(n).concat(r==="vertical"?"Y":"X")]:mO[n]||lg},Zse=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=Jse(n,s),f=u?a.filter(function(m){return Hd(m)}):a,h;if(Array.isArray(o)){var p=u?o.filter(function(m){return Hd(m)}):o,y=f.map(function(m,b){return pO(pO({},m),{},{base:p[b]})});return s==="vertical"?h=$d().y(Cu).x1(ku).x0(function(m){return m.base.x}):h=$d().x(ku).y1(Cu).y0(function(m){return m.base.y}),h.defined(Hd).curve(c),h(y)}return s==="vertical"&&J(o)?h=$d().y(Cu).x1(ku).x0(o):J(o)?h=$d().x(ku).y1(Cu).y0(o):h=Z2().x(ku).y(Cu),h.defined(Hd).curve(c),h(f)},$p=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?Zse(e):i;return D.createElement("path",S_({},le(e,!1),op(e),{className:ye("recharts-curve",r),d:o,ref:a}))},o$={exports:{}},ele="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",tle=ele,rle=tle;function s$(){}function l$(){}l$.resetWarningCache=s$;var nle=function(){function t(n,i,a,o,s,l){if(l!==rle){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:l$,resetWarningCache:s$};return r.PropTypes=r,r};o$.exports=nle();var ile=o$.exports;const je=Re(ile);var ale=Object.getOwnPropertyNames,ole=Object.getOwnPropertySymbols,sle=Object.prototype.hasOwnProperty;function gO(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function Gd(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,o=a.get(r),s=a.get(n);if(o&&s)return o===n&&s===r;a.set(r,n),a.set(n,r);var l=t(r,n,i);return a.delete(r),a.delete(n),l}}function vO(t){return ale(t).concat(ole(t))}var lle=Object.hasOwn||function(t,e){return sle.call(t,e)};function qo(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var ule="__v",cle="__o",fle="_owner",yO=Object.getOwnPropertyDescriptor,_O=Object.keys;function dle(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function hle(t,e){return qo(t.getTime(),e.getTime())}function ple(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function mle(t,e){return t===e}function bO(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var u=e.entries(),c=!1,f=0;(s=u.next())&&!s.done;){if(i[f]){f++;continue}var h=o.value,p=s.value;if(r.equals(h[0],p[0],l,f,t,e,r)&&r.equals(h[1],p[1],h[0],p[0],t,e,r)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}var gle=qo;function vle(t,e,r){var n=_O(t),i=n.length;if(_O(e).length!==i)return!1;for(;i-- >0;)if(!u$(t,e,r,n[i]))return!1;return!0}function Nu(t,e,r){var n=vO(t),i=n.length;if(vO(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=n[i],!u$(t,e,r,a)||(o=yO(t,a),s=yO(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function yle(t,e){return qo(t.valueOf(),e.valueOf())}function _le(t,e){return t.source===e.source&&t.flags===e.flags}function wO(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),o,s;(o=a.next())&&!o.done;){for(var l=e.values(),u=!1,c=0;(s=l.next())&&!s.done;){if(!i[c]&&r.equals(o.value,s.value,o.value,s.value,t,e,r)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function ble(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function wle(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function u$(t,e,r,n){return(n===fle||n===cle||n===ule)&&(t.$$typeof||e.$$typeof)?!0:lle(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var xle="[object Arguments]",Ele="[object Boolean]",Sle="[object Date]",Ale="[object Error]",Tle="[object Map]",Ple="[object Number]",Ole="[object Object]",Ile="[object RegExp]",kle="[object Set]",Cle="[object String]",Nle="[object URL]",jle=Array.isArray,xO=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,EO=Object.assign,Rle=Object.prototype.toString.call.bind(Object.prototype.toString);function Mle(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,c=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(y,m,b){if(y===m)return!0;if(y==null||m==null)return!1;var v=typeof y;if(v!==typeof m)return!1;if(v!=="object")return v==="number"?o(y,m,b):v==="function"?i(y,m,b):!1;var _=y.constructor;if(_!==m.constructor)return!1;if(_===Object)return s(y,m,b);if(jle(y))return e(y,m,b);if(xO!=null&&xO(y))return f(y,m,b);if(_===Date)return r(y,m,b);if(_===RegExp)return u(y,m,b);if(_===Map)return a(y,m,b);if(_===Set)return c(y,m,b);var w=Rle(y);return w===Sle?r(y,m,b):w===Ile?u(y,m,b):w===Tle?a(y,m,b):w===kle?c(y,m,b):w===Ole?typeof y.then!="function"&&typeof m.then!="function"&&s(y,m,b):w===Nle?h(y,m,b):w===Ale?n(y,m,b):w===xle?s(y,m,b):w===Ele||w===Ple||w===Cle?l(y,m,b):!1}}function $le(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Nu:dle,areDatesEqual:hle,areErrorsEqual:ple,areFunctionsEqual:mle,areMapsEqual:n?gO(bO,Nu):bO,areNumbersEqual:gle,areObjectsEqual:n?Nu:vle,arePrimitiveWrappersEqual:yle,areRegExpsEqual:_le,areSetsEqual:n?gO(wO,Nu):wO,areTypedArraysEqual:n?Nu:ble,areUrlsEqual:wle};if(r&&(i=EO({},i,r(i))),e){var a=Gd(i.areArraysEqual),o=Gd(i.areMapsEqual),s=Gd(i.areObjectsEqual),l=Gd(i.areSetsEqual);i=EO({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function Dle(t){return function(e,r,n,i,a,o,s){return t(e,r,s)}}function Lle(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(l,u){var c=n(),f=c.cache,h=f===void 0?e?new WeakMap:void 0:f,p=c.meta;return r(l,u,{cache:h,equals:i,meta:p,strict:a})};if(e)return function(l,u){return r(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,u){return r(l,u,o)}}var Fle=Ba();Ba({strict:!0});Ba({circular:!0});Ba({circular:!0,strict:!0});Ba({createInternalComparator:function(){return qo}});Ba({strict:!0,createInternalComparator:function(){return qo}});Ba({circular:!0,createInternalComparator:function(){return qo}});Ba({circular:!0,createInternalComparator:function(){return qo},strict:!0});function Ba(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=$le(t),l=Mle(s),u=n?n(l):Dle(l);return Lle({circular:r,comparator:l,createState:i,equals:u,strict:o})}function Vle(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function SO(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):Vle(i)};requestAnimationFrame(n)}function A_(t){"@babel/helpers - typeof";return A_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A_(t)}function Ble(t){return qle(t)||Wle(t)||zle(t)||Ule()}function Ule(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zle(t,e){if(t){if(typeof t=="string")return AO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AO(t,e)}}function AO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Wle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qle(t){if(Array.isArray(t))return t}function Hle(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,s=Ble(o),l=s[0],u=s.slice(1);if(typeof l=="number"){SO(i.bind(null,u),l);return}i(l),SO(i.bind(null,u));return}A_(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function sf(t){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sf(t)}function TO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function PO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TO(Object(r),!0).forEach(function(n){c$(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function c$(t,e,r){return e=Gle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gle(t){var e=Kle(t,"string");return sf(e)==="symbol"?e:String(e)}function Kle(t,e){if(sf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yle=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},Qle=function(e){return e},Xle=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},oc=function(e,r){return Object.keys(r).reduce(function(n,i){return PO(PO({},n),{},c$({},i,e(i,r[i])))},{})},OO=function(e,r,n){return e.map(function(i){return"".concat(Xle(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Jle(t,e){return tue(t)||eue(t,e)||f$(t,e)||Zle()}function Zle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eue(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function tue(t){if(Array.isArray(t))return t}function rue(t){return aue(t)||iue(t)||f$(t)||nue()}function nue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f$(t,e){if(t){if(typeof t=="string")return T_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T_(t,e)}}function iue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aue(t){if(Array.isArray(t))return T_(t)}function T_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Dp=1e-4,d$=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},h$=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},IO=function(e,r){return function(n){var i=d$(e,r);return h$(i,n)}},oue=function(e,r){return function(n){var i=d$(e,r),a=[].concat(rue(i.map(function(o,s){return o*s}).slice(1)),[0]);return h$(a,n)}},kO=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),c=Jle(u,4);i=c[0],a=c[1],o=c[2],s=c[3]}}}var f=IO(i,o),h=IO(a,s),p=oue(i,o),y=function(v){return v>1?1:v<0?0:v},m=function(v){for(var _=v>1?1:v,w=_,I=0;I<8;++I){var T=f(w)-_,O=p(w);if(Math.abs(T-_)<Dp||O<Dp)return h(w);w=y(w-T/O)}return h(w)};return m.isStepper=!1,m},sue=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(c,f,h){var p=-(c-f)*n,y=h*a,m=h+(p-y)*s/1e3,b=h*s/1e3+c;return Math.abs(b-f)<Dp&&Math.abs(m)<Dp?[f,0]:[b,m]};return l.isStepper=!0,l.dt=s,l},lue=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return kO(i);case"spring":return sue();default:if(i.split("(")[0]==="cubic-bezier")return kO(i)}return typeof i=="function"?i:null};function lf(t){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(t)}function CO(t){return fue(t)||cue(t)||p$(t)||uue()}function uue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fue(t){if(Array.isArray(t))return O_(t)}function NO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ft(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NO(Object(r),!0).forEach(function(n){P_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function P_(t,e,r){return e=due(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function due(t){var e=hue(t,"string");return lf(e)==="symbol"?e:String(e)}function hue(t,e){if(lf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pue(t,e){return vue(t)||gue(t,e)||p$(t,e)||mue()}function mue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p$(t,e){if(t){if(typeof t=="string")return O_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O_(t,e)}}function O_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gue(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function vue(t){if(Array.isArray(t))return t}var Lp=function(e,r,n){return e+(r-e)*n},I_=function(e){var r=e.from,n=e.to;return r!==n},yue=function t(e,r,n){var i=oc(function(a,o){if(I_(o)){var s=e(o.from,o.to,o.velocity),l=pue(s,2),u=l[0],c=l[1];return Ft(Ft({},o),{},{from:u,velocity:c})}return o},r);return n<1?oc(function(a,o){return I_(o)?Ft(Ft({},o),{},{velocity:Lp(o.velocity,i[a].velocity,n),from:Lp(o.from,i[a].from,n)}):o},r):t(e,i,n-1)};const _ue=function(t,e,r,n,i){var a=Yle(t,e),o=a.reduce(function(b,v){return Ft(Ft({},b),{},P_({},v,[t[v],e[v]]))},{}),s=a.reduce(function(b,v){return Ft(Ft({},b),{},P_({},v,{from:t[v],velocity:0,to:e[v]}))},{}),l=-1,u,c,f=function(){return null},h=function(){return oc(function(v,_){return _.from},s)},p=function(){return!Object.values(s).filter(I_).length},y=function(v){u||(u=v);var _=v-u,w=_/r.dt;s=yue(r,s,w),i(Ft(Ft(Ft({},t),e),h())),u=v,p()||(l=requestAnimationFrame(f))},m=function(v){c||(c=v);var _=(v-c)/n,w=oc(function(T,O){return Lp.apply(void 0,CO(O).concat([r(_)]))},o);if(i(Ft(Ft(Ft({},t),e),w)),_<1)l=requestAnimationFrame(f);else{var I=oc(function(T,O){return Lp.apply(void 0,CO(O).concat([r(1)]))},o);i(Ft(Ft(Ft({},t),e),I))}};return f=r.isStepper?y:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function hl(t){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hl(t)}var bue=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function wue(t,e){if(t==null)return{};var r=xue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xue(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function oy(t){return Tue(t)||Aue(t)||Sue(t)||Eue()}function Eue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sue(t,e){if(t){if(typeof t=="string")return k_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k_(t,e)}}function Aue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Tue(t){if(Array.isArray(t))return k_(t)}function k_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jO(Object(r),!0).forEach(function(n){Uu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Uu(t,e,r){return e=m$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oue(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,m$(n.key),n)}}function Iue(t,e,r){return e&&Oue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function m$(t){var e=kue(t,"string");return hl(e)==="symbol"?e:String(e)}function kue(t,e){if(hl(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C_(t,e)}function C_(t,e){return C_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},C_(t,e)}function Nue(t){var e=jue();return function(){var n=Fp(t),i;if(e){var a=Fp(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return N_(this,i)}}function N_(t,e){if(e&&(hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j_(t)}function j_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jue(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Fp(t){return Fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fp(t)}var Xn=function(t){Cue(r,t);var e=Nue(r);function r(n,i){var a;Pue(this,r),a=e.call(this,n,i);var o=a.props,s=o.isActive,l=o.attributeName,u=o.from,c=o.to,f=o.steps,h=o.children,p=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(j_(a)),a.changeStyle=a.changeStyle.bind(j_(a)),!s||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:c}),N_(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},N_(a);a.state={style:l?Uu({},l,u):u}}else a.state={style:{}};return a}return Iue(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,c=a.to,f=a.from,h=this.state.style;if(s){if(!o){var p={style:l?Uu({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(p);return}if(!(Fle(i.to,c)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=y||u?f:i.to;if(this.state&&h){var b={style:l?Uu({},l,m):m};(l&&h[l]!==m||!l&&h!==m)&&this.setState(b)}this.runAnimation(pn(pn({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=_ue(o,s,lue(u),l,this.changeStyle),y=function(){a.stopJSAnimation=p()};this.manager.start([h,c,y,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,u=o[0],c=u.style,f=u.duration,h=f===void 0?0:f,p=function(m,b,v){if(v===0)return m;var _=b.duration,w=b.easing,I=w===void 0?"ease":w,T=b.style,O=b.properties,S=b.onAnimationEnd,E=v>0?o[v-1]:b,A=O||Object.keys(T);if(typeof I=="function"||I==="spring")return[].concat(oy(m),[a.runJSAnimation.bind(a,{from:E.style,to:T,duration:_,easing:I}),_]);var C=OO(A,_,I),k=pn(pn(pn({},E.style),T),{},{transition:C});return[].concat(oy(m),[k,_,S]).filter(Qle)};return this.manager.start([l].concat(oy(o.reduce(p,[c,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Hle());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var m=s?Uu({},s,l):l,b=OO(Object.keys(m),o,u);y.start([c,a,pn(pn({},m),{},{transition:b}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=wue(i,bue),u=D.Children.count(a),c=this.state.style;if(typeof a=="function")return a(c);if(!s||u===0||o<=0)return a;var f=function(p){var y=p.props,m=y.style,b=m===void 0?{}:m,v=y.className,_=D.cloneElement(p,pn(pn({},l),{},{style:pn(pn({},b),c),className:v}));return _};return u===1?f(D.Children.only(a)):M.createElement("div",null,D.Children.map(a,function(h){return f(h)}))}}]),r}(D.PureComponent);Xn.displayName="Animate";Xn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Xn.propTypes={from:je.oneOfType([je.object,je.string]),to:je.oneOfType([je.object,je.string]),attributeName:je.string,duration:je.number,begin:je.number,easing:je.oneOfType([je.string,je.func]),steps:je.arrayOf(je.shape({duration:je.number.isRequired,style:je.object.isRequired,easing:je.oneOfType([je.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),je.func]),properties:je.arrayOf("string"),onAnimationEnd:je.func})),children:je.oneOfType([je.node,je.func]),isActive:je.bool,canBegin:je.bool,onAnimationEnd:je.func,shouldReAnimate:je.bool,onAnimationStart:je.func,onAnimationReStart:je.func};function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}function Vp(){return Vp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vp.apply(this,arguments)}function Rue(t,e){return Lue(t)||Due(t,e)||$ue(t,e)||Mue()}function Mue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ue(t,e){if(t){if(typeof t=="string")return RO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RO(t,e)}}function RO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Due(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Lue(t){if(Array.isArray(t))return t}function MO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $O(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MO(Object(r),!0).forEach(function(n){Fue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fue(t,e,r){return e=Vue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vue(t){var e=Bue(t,"string");return uf(e)=="symbol"?e:e+""}function Bue(t,e){if(uf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DO=function(e,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),s=i>=0?1:-1,l=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,c;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=a[h]>o?o:a[h];c="M".concat(e,",").concat(r+s*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(r)),c+="L ".concat(e+n-l*f[1],",").concat(r),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+s*f[1])),c+="L ".concat(e+n,",").concat(r+i-s*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+n-l*f[2],",").concat(r+i)),c+="L ".concat(e+l*f[3],",").concat(r+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+i-s*f[3])),c+="Z"}else if(o>0&&a===+a&&a>0){var y=Math.min(o,a);c="M ".concat(e,",").concat(r+s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+l*y,",").concat(r,`
            L `).concat(e+n-l*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+n,",").concat(r+s*y,`
            L `).concat(e+n,",").concat(r+i-s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+n-l*y,",").concat(r+i,`
            L `).concat(e+l*y,",").concat(r+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e,",").concat(r+i-s*y," Z")}else c="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return c},Uue=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,o=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(a,a+s),c=Math.max(a,a+s),f=Math.min(o,o+l),h=Math.max(o,o+l);return n>=u&&n<=c&&i>=f&&i<=h}return!1},zue={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Kx=function(e){var r=$O($O({},zue),e),n=D.useRef(),i=D.useState(-1),a=Rue(i,2),o=a[0],s=a[1];D.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var I=n.current.getTotalLength();I&&s(I)}catch{}},[]);var l=r.x,u=r.y,c=r.width,f=r.height,h=r.radius,p=r.className,y=r.animationEasing,m=r.animationDuration,b=r.animationBegin,v=r.isAnimationActive,_=r.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var w=ye("recharts-rectangle",p);return _?M.createElement(Xn,{canBegin:o>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:m,animationEasing:y,isActive:_},function(I){var T=I.width,O=I.height,S=I.x,E=I.y;return M.createElement(Xn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:m,isActive:v,easing:y},M.createElement("path",Vp({},le(r,!0),{className:w,d:DO(S,E,T,O,h),ref:n})))}):M.createElement("path",Vp({},le(r,!0),{className:w,d:DO(l,u,c,f,h)}))},Wue=["points","className","baseLinePoints","connectNulls"];function ws(){return ws=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ws.apply(this,arguments)}function que(t,e){if(t==null)return{};var r=Hue(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Hue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function LO(t){return Que(t)||Yue(t)||Kue(t)||Gue()}function Gue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kue(t,e){if(t){if(typeof t=="string")return R_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R_(t,e)}}function Yue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Que(t){if(Array.isArray(t))return R_(t)}function R_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var FO=function(e){return e&&e.x===+e.x&&e.y===+e.y},Xue=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){FO(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),FO(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},sc=function(e,r){var n=Xue(e);r&&(n=[n.reduce(function(a,o){return[].concat(LO(a),LO(o))},[])]);var i=n.map(function(a){return a.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},Jue=function(e,r,n){var i=sc(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(sc(r.reverse(),n).slice(1))},Zue=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,o=que(e,Wue);if(!r||!r.length)return null;var s=ye("recharts-polygon",n);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",u=Jue(r,i,a);return M.createElement("g",{className:s},M.createElement("path",ws({},le(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),l?M.createElement("path",ws({},le(o,!0),{fill:"none",d:sc(r,a)})):null,l?M.createElement("path",ws({},le(o,!0),{fill:"none",d:sc(i,a)})):null)}var c=sc(r,a);return M.createElement("path",ws({},le(o,!0),{fill:c.slice(-1)==="Z"?o.fill:"none",className:s,d:c}))};function M_(){return M_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},M_.apply(this,arguments)}var Sg=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,o=ye("recharts-dot",a);return r===+r&&n===+n&&i===+i?D.createElement("circle",M_({},le(e,!1),op(e),{className:o,cx:r,cy:n,r:i})):null};function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}var ece=["x","y","top","left","width","height","className"];function $_(){return $_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$_.apply(this,arguments)}function VO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tce(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VO(Object(r),!0).forEach(function(n){rce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rce(t,e,r){return e=nce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nce(t){var e=ice(t,"string");return cf(e)=="symbol"?e:e+""}function ice(t,e){if(cf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ace(t,e){if(t==null)return{};var r=oce(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function oce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var sce=function(e,r,n,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},lce=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,h=e.height,p=h===void 0?0:h,y=e.className,m=ace(e,ece),b=tce({x:n,y:a,top:s,left:u,width:f,height:p},m);return!J(n)||!J(a)||!J(f)||!J(p)||!J(s)||!J(u)?null:M.createElement("path",$_({},le(b,!0),{className:ye("recharts-cross",y),d:sce(n,a,f,p,s,u)}))},uce=_g,cce=PM,fce=Zn;function dce(t,e){return t&&t.length?uce(t,fce(e),cce):void 0}var hce=dce;const pce=Re(hce);var mce=_g,gce=Zn,vce=OM;function yce(t,e){return t&&t.length?mce(t,gce(e),vce):void 0}var _ce=yce;const bce=Re(_ce);var wce=["cx","cy","angle","ticks","axisLine"],xce=["ticks","tick","angle","tickFormatter","stroke"];function pl(t){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pl(t)}function lc(){return lc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lc.apply(this,arguments)}function BO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ka(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BO(Object(r),!0).forEach(function(n){Ag(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UO(t,e){if(t==null)return{};var r=Ece(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ece(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Sce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,v$(n.key),n)}}function Ace(t,e,r){return e&&zO(t.prototype,e),r&&zO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tce(t,e,r){return e=Bp(e),Pce(t,g$()?Reflect.construct(e,r||[],Bp(t).constructor):e.apply(t,r))}function Pce(t,e){if(e&&(pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oce(t)}function Oce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g$=function(){return!!t})()}function Bp(t){return Bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bp(t)}function Ice(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D_(t,e)}function D_(t,e){return D_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},D_(t,e)}function Ag(t,e,r){return e=v$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v$(t){var e=kce(t,"string");return pl(e)=="symbol"?e:e+""}function kce(t,e){if(pl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Tg=function(t){function e(){return Sce(this,e),Tce(this,e,arguments)}return Ice(e,t),Ace(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,o=a.angle,s=a.cx,l=a.cy;return Ke(s,l,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,s=n.ticks,l=pce(s,function(c){return c.coordinate||0}),u=bce(s,function(c){return c.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,s=n.ticks,l=n.axisLine,u=UO(n,wce),c=s.reduce(function(y,m){return[Math.min(y[0],m.coordinate),Math.max(y[1],m.coordinate)]},[1/0,-1/0]),f=Ke(i,a,c[0],o),h=Ke(i,a,c[1],o),p=Ka(Ka(Ka({},le(u,!1)),{},{fill:"none"},le(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return M.createElement("line",lc({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,s=i.angle,l=i.tickFormatter,u=i.stroke,c=UO(i,xce),f=this.getTickTextAnchor(),h=le(c,!1),p=le(o,!1),y=a.map(function(m,b){var v=n.getTickValueCoord(m),_=Ka(Ka(Ka(Ka({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(v.x,", ").concat(v.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:b},v),{},{payload:m});return M.createElement(ke,lc({className:ye("recharts-polar-radius-axis-tick",r$(o)),key:"tick-".concat(m.coordinate)},No(n.props,m,b)),e.renderTickItem(o,_,l?l(m.value,b):m.value))});return M.createElement(ke,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,o=n.tick;return!i||!i.length?null:M.createElement(ke,{className:ye("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),Rt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return M.isValidElement(n)?o=M.cloneElement(n,i):ce(n)?o=n(i):o=M.createElement(jo,lc({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(D.PureComponent);Ag(Tg,"displayName","PolarRadiusAxis");Ag(Tg,"axisType","radiusAxis");Ag(Tg,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function ml(t){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ml(t)}function no(){return no=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},no.apply(this,arguments)}function WO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ya(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WO(Object(r),!0).forEach(function(n){Pg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_$(n.key),n)}}function Nce(t,e,r){return e&&qO(t.prototype,e),r&&qO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function jce(t,e,r){return e=Up(e),Rce(t,y$()?Reflect.construct(e,r||[],Up(t).constructor):e.apply(t,r))}function Rce(t,e){if(e&&(ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mce(t)}function Mce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y$=function(){return!!t})()}function Up(t){return Up=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Up(t)}function $ce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L_(t,e)}function L_(t,e){return L_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},L_(t,e)}function Pg(t,e,r){return e=_$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _$(t){var e=Dce(t,"string");return ml(e)=="symbol"?e:e+""}function Dce(t,e){if(ml(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ml(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Lce=Math.PI/180,HO=1e-5,Og=function(t){function e(){return Cce(this,e),jce(this,e,arguments)}return $ce(e,t),Nce(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,o=i.cy,s=i.radius,l=i.orientation,u=i.tickSize,c=u||8,f=Ke(a,o,s,n.coordinate),h=Ke(a,o,s+(l==="inner"?-1:1)*c,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*Lce),o;return a>HO?o=i==="outer"?"start":"end":a<-HO?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.radius,s=n.axisLine,l=n.axisLineType,u=Ya(Ya({},le(this.props,!1)),{},{fill:"none"},le(s,!1));if(l==="circle")return M.createElement(Sg,no({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:o}));var c=this.props.ticks,f=c.map(function(h){return Ke(i,a,o,h.coordinate)});return M.createElement(Zue,no({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,s=i.tickLine,l=i.tickFormatter,u=i.stroke,c=le(this.props,!1),f=le(o,!1),h=Ya(Ya({},c),{},{fill:"none"},le(s,!1)),p=a.map(function(y,m){var b=n.getTickLineCoord(y),v=n.getTickTextAnchor(y),_=Ya(Ya(Ya({textAnchor:v},c),{},{stroke:"none",fill:u},f),{},{index:m,payload:y,x:b.x2,y:b.y2});return M.createElement(ke,no({className:ye("recharts-polar-angle-axis-tick",r$(o)),key:"tick-".concat(y.coordinate)},No(n.props,y,m)),s&&M.createElement("line",no({className:"recharts-polar-angle-axis-tick-line"},h,b)),o&&e.renderTickItem(o,_,l?l(y.value,m):y.value))});return M.createElement(ke,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!i||!i.length?null:M.createElement(ke,{className:ye("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var o;return M.isValidElement(n)?o=M.cloneElement(n,i):ce(n)?o=n(i):o=M.createElement(jo,no({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(D.PureComponent);Pg(Og,"displayName","PolarAngleAxis");Pg(Og,"axisType","angleAxis");Pg(Og,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Fce=ER,Vce=Fce(Object.getPrototypeOf,Object),Bce=Vce,Uce=Vi,zce=Bce,Wce=Bi,qce="[object Object]",Hce=Function.prototype,Gce=Object.prototype,b$=Hce.toString,Kce=Gce.hasOwnProperty,Yce=b$.call(Object);function Qce(t){if(!Wce(t)||Uce(t)!=qce)return!1;var e=zce(t);if(e===null)return!0;var r=Kce.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&b$.call(r)==Yce}var Xce=Qce;const Jce=Re(Xce);var Zce=Vi,efe=Bi,tfe="[object Boolean]";function rfe(t){return t===!0||t===!1||efe(t)&&Zce(t)==tfe}var nfe=rfe;const ife=Re(nfe);function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}function zp(){return zp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zp.apply(this,arguments)}function afe(t,e){return ufe(t)||lfe(t,e)||sfe(t,e)||ofe()}function ofe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sfe(t,e){if(t){if(typeof t=="string")return GO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GO(t,e)}}function GO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function lfe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function ufe(t){if(Array.isArray(t))return t}function KO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function YO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KO(Object(r),!0).forEach(function(n){cfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cfe(t,e,r){return e=ffe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ffe(t){var e=dfe(t,"string");return ff(e)=="symbol"?e:e+""}function dfe(t,e){if(ff(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QO=function(e,r,n,i,a){var o=n-i,s;return s="M ".concat(e,",").concat(r),s+="L ".concat(e+n,",").concat(r),s+="L ".concat(e+n-o/2,",").concat(r+a),s+="L ".concat(e+n-o/2-i,",").concat(r+a),s+="L ".concat(e,",").concat(r," Z"),s},hfe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},pfe=function(e){var r=YO(YO({},hfe),e),n=D.useRef(),i=D.useState(-1),a=afe(i,2),o=a[0],s=a[1];D.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&s(w)}catch{}},[]);var l=r.x,u=r.y,c=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,y=r.animationEasing,m=r.animationDuration,b=r.animationBegin,v=r.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||h!==+h||c===0&&f===0||h===0)return null;var _=ye("recharts-trapezoid",p);return v?M.createElement(Xn,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:h,x:l,y:u},duration:m,animationEasing:y,isActive:v},function(w){var I=w.upperWidth,T=w.lowerWidth,O=w.height,S=w.x,E=w.y;return M.createElement(Xn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:m,easing:y},M.createElement("path",zp({},le(r,!0),{className:_,d:QO(S,E,I,T,O),ref:n})))}):M.createElement("g",null,M.createElement("path",zp({},le(r,!0),{className:_,d:QO(l,u,c,f,h)})))},mfe=["option","shapeType","propTransformer","activeClassName","isActive"];function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function gfe(t,e){if(t==null)return{};var r=vfe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function vfe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function XO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XO(Object(r),!0).forEach(function(n){yfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yfe(t,e,r){return e=_fe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _fe(t){var e=bfe(t,"string");return df(e)=="symbol"?e:e+""}function bfe(t,e){if(df(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wfe(t,e){return Wp(Wp({},e),t)}function xfe(t,e){return t==="symbols"}function JO(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return M.createElement(Kx,r);case"trapezoid":return M.createElement(pfe,r);case"sector":return M.createElement(a$,r);case"symbols":if(xfe(e))return M.createElement(hx,r);break;default:return null}}function Efe(t){return D.isValidElement(t)?t.props:t}function w$(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?wfe:n,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=gfe(t,mfe),u;if(D.isValidElement(e))u=D.cloneElement(e,Wp(Wp({},l),Efe(e)));else if(ce(e))u=e(l);else if(Jce(e)&&!ife(e)){var c=i(e,l);u=M.createElement(JO,{shapeType:r,elementProps:c})}else{var f=l;u=M.createElement(JO,{shapeType:r,elementProps:f})}return s?M.createElement(ke,{className:o},u):u}function Ig(t,e){return e!=null&&"trapezoids"in t.props}function kg(t,e){return e!=null&&"sectors"in t.props}function hf(t,e){return e!=null&&"points"in t.props}function Sfe(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function Afe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function Tfe(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function Pfe(t,e){var r;return Ig(t,e)?r=Sfe:kg(t,e)?r=Afe:hf(t,e)&&(r=Tfe),r}function Ofe(t,e){var r;return Ig(t,e)?r="trapezoids":kg(t,e)?r="sectors":hf(t,e)&&(r="points"),r}function Ife(t,e){if(Ig(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(kg(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return hf(t,e)?e.payload:{}}function kfe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=Ofe(r,e),a=Ife(r,e),o=n.filter(function(l,u){var c=qf(a,l),f=r.props[i].filter(function(y){var m=Pfe(r,e);return m(y,e)}),h=r.props[i].indexOf(f[f.length-1]),p=u===h;return c&&p}),s=n.indexOf(o[o.length-1]);return s}var yh;function gl(t){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gl(t)}function xs(){return xs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xs.apply(this,arguments)}function ZO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZO(Object(r),!0).forEach(function(n){tn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,E$(n.key),n)}}function Nfe(t,e,r){return e&&eI(t.prototype,e),r&&eI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function jfe(t,e,r){return e=qp(e),Rfe(t,x$()?Reflect.construct(e,r||[],qp(t).constructor):e.apply(t,r))}function Rfe(t,e){if(e&&(gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mfe(t)}function Mfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x$=function(){return!!t})()}function qp(t){return qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qp(t)}function $fe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F_(t,e)}function F_(t,e){return F_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},F_(t,e)}function tn(t,e,r){return e=E$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E$(t){var e=Dfe(t,"string");return gl(e)=="symbol"?e:e+""}function Dfe(t,e){if(gl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var In=function(t){function e(r){var n;return Cfe(this,e),n=jfe(this,e,[r]),tn(n,"pieRef",null),tn(n,"sectorRefs",[]),tn(n,"id",ql("recharts-pie-")),tn(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ce(i)&&i()}),tn(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ce(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return $fe(e,t),Nfe(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,s=a.labelLine,l=a.dataKey,u=a.valueKey,c=le(this.props,!1),f=le(o,!1),h=le(s,!1),p=o&&o.offsetRadius||20,y=n.map(function(m,b){var v=(m.startAngle+m.endAngle)/2,_=Ke(m.cx,m.cy,m.outerRadius+p,v),w=qe(qe(qe(qe({},c),m),{},{stroke:"none"},f),{},{index:b,textAnchor:e.getTextAnchor(_.x,m.cx)},_),I=qe(qe(qe(qe({},c),m),{},{fill:"none",stroke:m.fill},h),{},{index:b,points:[Ke(m.cx,m.cy,m.outerRadius,v),_]}),T=l;return ge(l)&&ge(u)?T="value":ge(l)&&(T=u),M.createElement(ke,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(b)},s&&e.renderLabelLineItem(s,I,"line"),e.renderLabelItem(o,w,At(m,T)))});return M.createElement(ke,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,o=a.activeShape,s=a.blendStroke,l=a.inactiveShape;return n.map(function(u,c){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=i.isActiveIndex(c),h=l&&i.hasActiveIndex()?l:null,p=f?o:h,y=qe(qe({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return M.createElement(ke,xs({ref:function(b){b&&!i.sectorRefs.includes(b)&&i.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},No(i.props,u,c),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(c)}),M.createElement(w$,xs({option:p,isActive:f,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return M.createElement(Xn,{begin:s,duration:l,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var m=y.t,b=[],v=a&&a[0],_=v.startAngle;return a.forEach(function(w,I){var T=h&&h[I],O=I>0?zr(w,"paddingAngle",0):0;if(T){var S=Lr(T.endAngle-T.startAngle,w.endAngle-w.startAngle),E=qe(qe({},w),{},{startAngle:_+O,endAngle:_+S(m)+O});b.push(E),_=E.endAngle}else{var A=w.endAngle,C=w.startAngle,k=Lr(0,A-C),j=k(m),N=qe(qe({},w),{},{startAngle:_+O,endAngle:_+j+O});b.push(N),_=N.endAngle}}),M.createElement(ke,null,n.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!qf(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,o=i.sectors,s=i.className,l=i.label,u=i.cx,c=i.cy,f=i.innerRadius,h=i.outerRadius,p=i.isAnimationActive,y=this.state.isAnimationFinished;if(a||!o||!o.length||!J(u)||!J(c)||!J(f)||!J(h))return null;var m=ye("recharts-pie",s);return M.createElement(ke,{tabIndex:this.props.rootTabIndex,className:m,ref:function(v){n.pieRef=v}},this.renderSectors(),l&&this.renderLabels(o),Rt.renderCallByParent(this.props,null,!1),(!p||y)&&on.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(M.isValidElement(n))return M.cloneElement(n,i);if(ce(n))return n(i);var o=ye("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return M.createElement($p,xs({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,a){if(M.isValidElement(n))return M.cloneElement(n,i);var o=a;if(ce(n)&&(o=n(i),M.isValidElement(o)))return o;var s=ye("recharts-pie-label-text",typeof n!="boolean"&&!ce(n)?n.className:"");return M.createElement(jo,xs({},i,{alignmentBaseline:"middle",className:s}),o)}}])}(D.PureComponent);yh=In;tn(In,"displayName","Pie");tn(In,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Uo.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});tn(In,"parseDeltaAngle",function(t,e){var r=mr(e-t),n=Math.min(Math.abs(e-t),360);return r*n});tn(In,"getRealPieData",function(t){var e=t.data,r=t.children,n=le(t,!1),i=Wr(r,Ni);return e&&e.length?e.map(function(a,o){return qe(qe(qe({payload:a},n),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return qe(qe({},n),a.props)}):[]});tn(In,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,o=t$(i,a),s=n+gr(t.cx,i,i/2),l=r+gr(t.cy,a,a/2),u=gr(t.innerRadius,o,0),c=gr(t.outerRadius,o,o*.8),f=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:c,maxRadius:f}});tn(In,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?qe(qe({},e.type.defaultProps),e.props):e.props,i=yh.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,o=n.startAngle,s=n.endAngle,l=n.paddingAngle,u=n.dataKey,c=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),y=yh.parseCoordinateOfPie(n,r),m=yh.parseDeltaAngle(o,s),b=Math.abs(m),v=u;ge(u)&&ge(f)?(An(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v="value"):ge(u)&&(An(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v=f);var _=i.filter(function(E){return At(E,v,0)!==0}).length,w=(b>=360?_:_-1)*l,I=b-_*p-w,T=i.reduce(function(E,A){var C=At(A,v,0);return E+(J(C)?C:0)},0),O;if(T>0){var S;O=i.map(function(E,A){var C=At(E,v,0),k=At(E,c,A),j=(J(C)?C:0)/T,N;A?N=S.endAngle+mr(m)*l*(C!==0?1:0):N=o;var F=N+mr(m)*((C!==0?p:0)+j*I),$=(N+F)/2,B=(y.innerRadius+y.outerRadius)/2,W=[{name:k,value:C,payload:E,dataKey:v,type:h}],V=Ke(y.cx,y.cy,B,$);return S=qe(qe(qe({percent:j,cornerRadius:a,name:k,tooltipPayload:W,midAngle:$,middleRadius:B,tooltipPosition:V},E),y),{},{value:At(E,v),startAngle:N,endAngle:F,payload:E,paddingAngle:mr(m)*l}),S})}return qe(qe({},y),{},{sectors:O,data:i})});var Lfe=Math.ceil,Ffe=Math.max;function Vfe(t,e,r,n){for(var i=-1,a=Ffe(Lfe((e-t)/(r||1)),0),o=Array(a);a--;)o[n?a:++i]=t,t+=r;return o}var Bfe=Vfe,Ufe=UR,tI=1/0,zfe=17976931348623157e292;function Wfe(t){if(!t)return t===0?t:0;if(t=Ufe(t),t===tI||t===-tI){var e=t<0?-1:1;return e*zfe}return t===t?t:0}var S$=Wfe,qfe=Bfe,Hfe=dg,sy=S$;function Gfe(t){return function(e,r,n){return n&&typeof n!="number"&&Hfe(e,r,n)&&(r=n=void 0),e=sy(e),r===void 0?(r=e,e=0):r=sy(r),n=n===void 0?e<r?1:-1:sy(n),qfe(e,r,n,t)}}var Kfe=Gfe,Yfe=Kfe,Qfe=Yfe(),Xfe=Qfe;const Hp=Re(Xfe);function pf(t){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(t)}function rI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rI(Object(r),!0).forEach(function(n){A$(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function A$(t,e,r){return e=Jfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jfe(t){var e=Zfe(t,"string");return pf(e)=="symbol"?e:e+""}function Zfe(t,e){if(pf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ede=["Webkit","Moz","O","ms"],tde=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=ede.reduce(function(a,o){return nI(nI({},a),{},A$({},o+n,r))},{});return i[e]=r,i};function vl(t){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vl(t)}function Gp(){return Gp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gp.apply(this,arguments)}function iI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ly(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iI(Object(r),!0).forEach(function(n){Mr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,P$(n.key),n)}}function nde(t,e,r){return e&&aI(t.prototype,e),r&&aI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ide(t,e,r){return e=Kp(e),ade(t,T$()?Reflect.construct(e,r||[],Kp(t).constructor):e.apply(t,r))}function ade(t,e){if(e&&(vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ode(t)}function ode(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T$=function(){return!!t})()}function Kp(t){return Kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kp(t)}function sde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V_(t,e)}function V_(t,e){return V_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},V_(t,e)}function Mr(t,e,r){return e=P$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function P$(t){var e=lde(t,"string");return vl(e)=="symbol"?e:e+""}function lde(t,e){if(vl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ude=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,u=ic().domain(Hp(0,l)).range([a,a+o-s]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:c}},oI=function(e){return e.changedTouches&&!!e.changedTouches.length},yl=function(t){function e(r){var n;return rde(this,e),n=ide(this,e,[r]),Mr(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Mr(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Mr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),n.detachDragEndListener()}),Mr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Mr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Mr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Mr(n,"handleSlideDragStart",function(i){var a=oI(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return sde(e,t),nde(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,f=Math.min(i,a),h=Math.max(i,a),p=e.getIndexInRange(o,f),y=e.getIndexInRange(o,h);return{startIndex:p-p%l,endIndex:y===c?c:y-y%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=At(a[n],s,n);return ce(o)?o(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,y=l.onChange,m=n.pageX-a;m>0?m=Math.min(m,u+c-f-s,u+c-f-o):m<0&&(m=Math.max(m,u-o,u-s));var b=this.getIndex({startX:o+m,endX:s+m});(b.startIndex!==h||b.endIndex!==p)&&y&&y(b),this.setState({startX:o+m,endX:s+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=oI(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[o],c=this.props,f=c.x,h=c.width,p=c.travellerWidth,y=c.onChange,m=c.gap,b=c.data,v={startX:this.state.startX,endX:this.state.endX},_=n.pageX-a;_>0?_=Math.min(_,f+h-p-u):_<0&&(_=Math.max(_,f-u)),v[o]=u+_;var w=this.getIndex(v),I=w.startIndex,T=w.endIndex,O=function(){var E=b.length-1;return o==="startX"&&(s>l?I%m===0:T%m===0)||s<l&&T===E||o==="endX"&&(s>l?T%m===0:I%m===0)||s>l&&T===E};this.setState(Mr(Mr({},o,u+_),"brushMoveStartX",n.pageX),function(){y&&O()&&y(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,u=o.endX,c=this.state[i],f=s.indexOf(c);if(f!==-1){var h=f+n;if(!(h===-1||h>=s.length)){var p=s[h];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(Mr({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.fill,u=n.stroke;return M.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.data,u=n.children,c=n.padding,f=D.Children.only(u);return f?M.cloneElement(f,{x:i,y:a,width:o,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,s=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,y=l.data,m=l.startIndex,b=l.endIndex,v=Math.max(n,this.props.x),_=ly(ly({},le(this.props,!1)),{},{x:v,y:u,width:c,height:f}),w=p||"Min value: ".concat((a=y[m])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=y[b])===null||o===void 0?void 0:o.name);return M.createElement(ke,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(T){["ArrowLeft","ArrowRight"].includes(T.key)&&(T.preventDefault(),T.stopPropagation(),s.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,_))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,u=a.travellerWidth,c=Math.min(n,i)+u,f=Math.max(Math.abs(i-n)-u,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:o,width:f,height:s})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,s=n.height,l=n.travellerWidth,u=n.stroke,c=this.state,f=c.startX,h=c.endX,p=5,y={pointerEvents:"none",fill:u};return M.createElement(ke,{className:"recharts-brush-texts"},M.createElement(jo,Gp({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+s/2},y),this.getTextOfTick(i)),M.createElement(jo,Gp({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:o+s/2},y),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,s=n.x,l=n.y,u=n.width,c=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,y=h.endX,m=h.isTextActive,b=h.isSlideMoving,v=h.isTravellerMoving,_=h.isTravellerFocused;if(!i||!i.length||!J(s)||!J(l)||!J(u)||!J(c)||u<=0||c<=0)return null;var w=ye("recharts-brush",a),I=M.Children.count(o)===1,T=tde("userSelect","none");return M.createElement(ke,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T},this.renderBackground(),I&&this.renderPanorama(),this.renderSlide(p,y),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(y,"endX"),(m||b||v||_||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,s=n.height,l=n.stroke,u=Math.floor(a+s/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),M.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return M.isValidElement(n)?a=M.cloneElement(n,i):ce(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,s=n.x,l=n.travellerWidth,u=n.updateId,c=n.startIndex,f=n.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return ly({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o},a&&a.length?ude({data:a,width:o,x:s,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);n[l]>i?s=l:o=l}return i>=n[s]?s:o}}])}(D.PureComponent);Mr(yl,"displayName","Brush");Mr(yl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var cde=bx;function fde(t,e){var r;return cde(t,function(n,i,a){return r=e(n,i,a),!r}),!!r}var dde=fde,hde=mR,pde=Zn,mde=dde,gde=Cr,vde=dg;function yde(t,e,r){var n=gde(t)?hde:mde;return r&&vde(t,e,r)&&(e=void 0),n(t,pde(e))}var _de=yde;const bde=Re(_de);var Hn=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},sI=DR;function wde(t,e,r){e=="__proto__"&&sI?sI(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var xde=wde,Ede=xde,Sde=MR,Ade=Zn;function Tde(t,e){var r={};return e=Ade(e),Sde(t,function(n,i,a){Ede(r,i,e(n,i,a))}),r}var Pde=Tde;const Ode=Re(Pde);function Ide(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var kde=Ide,Cde=bx;function Nde(t,e){var r=!0;return Cde(t,function(n,i,a){return r=!!e(n,i,a),r}),r}var jde=Nde,Rde=kde,Mde=jde,$de=Zn,Dde=Cr,Lde=dg;function Fde(t,e,r){var n=Dde(t)?Rde:Mde;return r&&Lde(t,e,r)&&(e=void 0),n(t,$de(e))}var Vde=Fde;const O$=Re(Vde);var Bde=["x","y"];function mf(t){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mf(t)}function B_(){return B_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},B_.apply(this,arguments)}function lI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ju(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lI(Object(r),!0).forEach(function(n){Ude(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ude(t,e,r){return e=zde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zde(t){var e=Wde(t,"string");return mf(e)=="symbol"?e:e+""}function Wde(t,e){if(mf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qde(t,e){if(t==null)return{};var r=Hde(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Hde(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Gde(t,e){var r=t.x,n=t.y,i=qde(t,Bde),a="".concat(r),o=parseInt(a,10),s="".concat(n),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return ju(ju(ju(ju(ju({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function uI(t){return M.createElement(w$,B_({shapeType:"rectangle",propTransformer:Gde,activeClassName:"recharts-active-bar"},t))}var Kde=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=J(n)||_H(n);return a?e(n,i):(a||Mo(),r)}},Yde=["value","background"],I$;function _l(t){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_l(t)}function Qde(t,e){if(t==null)return{};var r=Xde(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Xde(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Yp(){return Yp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yp.apply(this,arguments)}function cI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cI(Object(r),!0).forEach(function(n){fa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,C$(n.key),n)}}function Zde(t,e,r){return e&&fI(t.prototype,e),r&&fI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ehe(t,e,r){return e=Qp(e),the(t,k$()?Reflect.construct(e,r||[],Qp(t).constructor):e.apply(t,r))}function the(t,e){if(e&&(_l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rhe(t)}function rhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k$=function(){return!!t})()}function Qp(t){return Qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qp(t)}function nhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U_(t,e)}function U_(t,e){return U_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},U_(t,e)}function fa(t,e,r){return e=C$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C$(t){var e=ihe(t,"string");return _l(e)=="symbol"?e:e+""}function ihe(t,e){if(_l(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_l(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _r=function(t){function e(){var r;Jde(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=ehe(this,e,[].concat(i)),fa(r,"state",{isAnimationFinished:!1}),fa(r,"id",ql("recharts-bar-")),fa(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),fa(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return nhe(e,t),Zde(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,u=a.activeBar,c=le(this.props,!1);return n&&n.map(function(f,h){var p=h===l,y=p?u:o,m=vt(vt(vt({},c),f),{},{isActive:p,option:y,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return M.createElement(ke,Yp({className:"recharts-bar-rectangle"},No(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),M.createElement(uI,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,h=this.state.prevData;return M.createElement(Xn,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var y=p.t,m=a.map(function(b,v){var _=h&&h[v];if(_){var w=Lr(_.x,b.x),I=Lr(_.y,b.y),T=Lr(_.width,b.width),O=Lr(_.height,b.height);return vt(vt({},b),{},{x:w(y),y:I(y),width:T(y),height:O(y)})}if(o==="horizontal"){var S=Lr(0,b.height),E=S(y);return vt(vt({},b),{},{y:b.y+b.height-E,height:E})}var A=Lr(0,b.width),C=A(y);return vt(vt({},b),{},{width:C})});return M.createElement(ke,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!qf(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=le(this.props.background,!1);return a.map(function(u,c){u.value;var f=u.background,h=Qde(u,Yde);if(!f)return null;var p=vt(vt(vt(vt(vt({},h),{},{fill:"#eee"},f),l),No(n.props,u,c)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:c,className:"recharts-bar-background-rectangle"});return M.createElement(uI,Yp({key:"background-bar-".concat(c),option:n.props.background,isActive:c===s},p))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,f=Wr(c,Hf);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(b,v){var _=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:_,errorVal:At(b,v)}},y={clipPath:n?"url(#clipPath-".concat(i,")"):null};return M.createElement(ke,y,f.map(function(m){return M.cloneElement(m,{key:"error-bar-".concat(i,"-").concat(m.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,s=n.xAxis,l=n.yAxis,u=n.left,c=n.top,f=n.width,h=n.height,p=n.isAnimationActive,y=n.background,m=n.id;if(i||!a||!a.length)return null;var b=this.state.isAnimationFinished,v=ye("recharts-bar",o),_=s&&s.allowDataOverflow,w=l&&l.allowDataOverflow,I=_||w,T=ge(m)?this.id:m;return M.createElement(ke,{className:v},_||w?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(T)},M.createElement("rect",{x:_?u:u-f/2,y:w?c:c-h/2,width:_?f:f*2,height:w?h:h*2}))):null,M.createElement(ke,{className:"recharts-bar-rectangles",clipPath:I?"url(#clipPath-".concat(T,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(I,T),(!p||b)&&on.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(D.PureComponent);I$=_r;fa(_r,"displayName","Bar");fa(_r,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Uo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});fa(_r,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,h=t.offset,p=Loe(n,r);if(!p)return null;var y=e.layout,m=r.type.defaultProps,b=m!==void 0?vt(vt({},m),r.props):r.props,v=b.dataKey,_=b.children,w=b.minPointSize,I=y==="horizontal"?o:a,T=u?I.scale.domain():null,O=qoe({numericAxis:I}),S=Wr(_,Ni),E=f.map(function(A,C){var k,j,N,F,$,B;u?k=Foe(u[c+C],T):(k=At(A,v),Array.isArray(k)||(k=[O,k]));var W=Kde(w,I$.defaultProps.minPointSize)(k[1],C);if(y==="horizontal"){var V,z=[o.scale(k[0]),o.scale(k[1])],Y=z[0],ee=z[1];j=eO({axis:a,ticks:s,bandSize:i,offset:p.offset,entry:A,index:C}),N=(V=ee??Y)!==null&&V!==void 0?V:void 0,F=p.size;var Q=Y-ee;if($=Number.isNaN(Q)?0:Q,B={x:j,y:o.y,width:F,height:o.height},Math.abs(W)>0&&Math.abs($)<Math.abs(W)){var re=mr($||W)*(Math.abs(W)-Math.abs($));N-=re,$+=re}}else{var Ee=[a.scale(k[0]),a.scale(k[1])],Ne=Ee[0],it=Ee[1];if(j=Ne,N=eO({axis:o,ticks:l,bandSize:i,offset:p.offset,entry:A,index:C}),F=it-Ne,$=p.size,B={x:a.x,y:N,width:a.width,height:$},Math.abs(W)>0&&Math.abs(F)<Math.abs(W)){var Dt=mr(F||W)*(Math.abs(W)-Math.abs(F));F+=Dt}}return vt(vt(vt({},A),{},{x:j,y:N,width:F,height:$,value:u?k:k[1],payload:A,background:B},S&&S[C]&&S[C].props),{},{tooltipPayload:[ZM(r,A)],tooltipPosition:{x:j+F/2,y:N+$/2}})});return vt({data:E,layout:y},h)});function gf(t){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(t)}function ahe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,N$(n.key),n)}}function ohe(t,e,r){return e&&dI(t.prototype,e),r&&dI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function hI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hI(Object(r),!0).forEach(function(n){Cg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cg(t,e,r){return e=N$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function N$(t){var e=she(t,"string");return gf(e)=="symbol"?e:e+""}function she(t,e){if(gf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var j$=function(e,r,n,i,a){var o=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!Dr(u,_r);return c.reduce(function(p,y){var m=r[y],b=m.orientation,v=m.domain,_=m.padding,w=_===void 0?{}:_,I=m.mirror,T=m.reversed,O="".concat(b).concat(I?"Mirror":""),S,E,A,C,k;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var j=v[1]-v[0],N=1/0,F=m.categoricalDomain.sort(xH);if(F.forEach(function(Ee,Ne){Ne>0&&(N=Math.min((Ee||0)-(F[Ne-1]||0),N))}),Number.isFinite(N)){var $=N/j,B=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(S=$*B/2),m.padding==="no-gap"){var W=gr(e.barCategoryGap,$*B),V=$*B/2;S=V-W-(V-W)/B*W}}}i==="xAxis"?E=[n.left+(w.left||0)+(S||0),n.left+n.width-(w.right||0)-(S||0)]:i==="yAxis"?E=l==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(S||0),n.top+n.height-(w.bottom||0)-(S||0)]:E=m.range,T&&(E=[E[1],E[0]]);var z=YM(m,a,h),Y=z.scale,ee=z.realScaleType;Y.domain(v).range(E),QM(Y);var Q=XM(Y,vn(vn({},m),{},{realScaleType:ee}));i==="xAxis"?(k=b==="top"&&!I||b==="bottom"&&I,A=n.left,C=f[O]-k*m.height):i==="yAxis"&&(k=b==="left"&&!I||b==="right"&&I,A=f[O]-k*m.width,C=n.top);var re=vn(vn(vn({},m),Q),{},{realScaleType:ee,x:A,y:C,scale:Y,width:i==="xAxis"?n.width:m.width,height:i==="yAxis"?n.height:m.height});return re.bandSize=jp(re,Q),!m.hide&&i==="xAxis"?f[O]+=(k?-1:1)*re.height:m.hide||(f[O]+=(k?-1:1)*re.width),vn(vn({},p),{},Cg({},y,re))},{})},R$=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},lhe=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return R$({x:r,y:n},{x:i,y:a})},M$=function(){function t(e){ahe(this,t),this.scale=e}return ohe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();Cg(M$,"EPS",1e-4);var Yx=function(e){var r=Object.keys(e).reduce(function(n,i){return vn(vn({},n),{},Cg({},i,M$.create(e[i])))},{});return vn(vn({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return Ode(i,function(l,u){return r[u].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return O$(i,function(a,o){return r[o].isInRange(a)})}})};function uhe(t){return(t%180+180)%180}var che=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=uhe(i),o=a*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},fhe=Zn,dhe=Vf,hhe=cg;function phe(t){return function(e,r,n){var i=Object(e);if(!dhe(e)){var a=fhe(r);e=hhe(e),r=function(s){return a(i[s],s,i)}}var o=t(e,r,n);return o>-1?i[a?e[o]:o]:void 0}}var mhe=phe,ghe=S$;function vhe(t){var e=ghe(t),r=e%1;return e===e?r?e-r:e:0}var yhe=vhe,_he=IR,bhe=Zn,whe=yhe,xhe=Math.max;function Ehe(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:whe(r);return i<0&&(i=xhe(n+i,0)),_he(t,bhe(e),i)}var She=Ehe,Ahe=mhe,The=She,Phe=Ahe(The),Ohe=Phe;const Ihe=Re(Ohe);var khe=Aq(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),Qx=D.createContext(void 0),Xx=D.createContext(void 0),$$=D.createContext(void 0),D$=D.createContext({}),L$=D.createContext(void 0),F$=D.createContext(0),V$=D.createContext(0),pI=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=e.clipPathId,s=e.children,l=e.width,u=e.height,c=khe(a);return M.createElement(Qx.Provider,{value:n},M.createElement(Xx.Provider,{value:i},M.createElement(D$.Provider,{value:a},M.createElement($$.Provider,{value:c},M.createElement(L$.Provider,{value:o},M.createElement(F$.Provider,{value:u},M.createElement(V$.Provider,{value:l},s)))))))},Che=function(){return D.useContext(L$)},B$=function(e){var r=D.useContext(Qx);r==null&&Mo();var n=r[e];return n==null&&Mo(),n},Nhe=function(){var e=D.useContext(Qx);return sa(e)},jhe=function(){var e=D.useContext(Xx),r=Ihe(e,function(n){return O$(n.domain,Number.isFinite)});return r||sa(e)},U$=function(e){var r=D.useContext(Xx);r==null&&Mo();var n=r[e];return n==null&&Mo(),n},Rhe=function(){var e=D.useContext($$);return e},Mhe=function(){return D.useContext(D$)},Jx=function(){return D.useContext(V$)},Zx=function(){return D.useContext(F$)};function bl(t){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bl(t)}function $he(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dhe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,W$(n.key),n)}}function Lhe(t,e,r){return e&&Dhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fhe(t,e,r){return e=Xp(e),Vhe(t,z$()?Reflect.construct(e,r||[],Xp(t).constructor):e.apply(t,r))}function Vhe(t,e){if(e&&(bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bhe(t)}function Bhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z$=function(){return!!t})()}function Xp(t){return Xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xp(t)}function Uhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z_(t,e)}function z_(t,e){return z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},z_(t,e)}function mI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mI(Object(r),!0).forEach(function(n){e1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function e1(t,e,r){return e=W$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function W$(t){var e=zhe(t,"string");return bl(e)=="symbol"?e:e+""}function zhe(t,e){if(bl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Whe(t,e){return Khe(t)||Ghe(t,e)||Hhe(t,e)||qhe()}function qhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hhe(t,e){if(t){if(typeof t=="string")return vI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vI(t,e)}}function vI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ghe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Khe(t){if(Array.isArray(t))return t}function W_(){return W_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},W_.apply(this,arguments)}var Yhe=function(e,r){var n;return M.isValidElement(e)?n=M.cloneElement(e,r):ce(e)?n=e(r):n=M.createElement("line",W_({},r,{className:"recharts-reference-line-line"})),n},Qhe=function(e,r,n,i,a,o,s,l,u){var c=a.x,f=a.y,h=a.width,p=a.height;if(n){var y=u.y,m=e.y.apply(y,{position:o});if(Hn(u,"discard")&&!e.y.isInRange(m))return null;var b=[{x:c+h,y:m},{x:c,y:m}];return l==="left"?b.reverse():b}if(r){var v=u.x,_=e.x.apply(v,{position:o});if(Hn(u,"discard")&&!e.x.isInRange(_))return null;var w=[{x:_,y:f+p},{x:_,y:f}];return s==="top"?w.reverse():w}if(i){var I=u.segment,T=I.map(function(O){return e.apply(O,{position:o})});return Hn(u,"discard")&&bde(T,function(O){return!e.isInRange(O)})?null:T}return null};function Xhe(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,u=Che(),c=B$(i),f=U$(a),h=Rhe();if(!u||!h)return null;An(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Yx({x:c.scale,y:f.scale}),y=Pt(e),m=Pt(r),b=n&&n.length===2,v=Qhe(p,y,m,b,h,t.position,c.orientation,f.orientation,t);if(!v)return null;var _=Whe(v,2),w=_[0],I=w.x,T=w.y,O=_[1],S=O.x,E=O.y,A=Hn(t,"hidden")?"url(#".concat(u,")"):void 0,C=gI(gI({clipPath:A},le(t,!0)),{},{x1:I,y1:T,x2:S,y2:E});return M.createElement(ke,{className:ye("recharts-reference-line",s)},Yhe(o,C),Rt.renderCallByParent(t,lhe({x1:I,y1:T,x2:S,y2:E})))}var t1=function(t){function e(){return $he(this,e),Fhe(this,e,arguments)}return Uhe(e,t),Lhe(e,[{key:"render",value:function(){return M.createElement(Xhe,this.props)}}])}(M.Component);e1(t1,"displayName","ReferenceLine");e1(t1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function q_(){return q_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},q_.apply(this,arguments)}function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}function yI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _I(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yI(Object(r),!0).forEach(function(n){Ng(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zhe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,H$(n.key),n)}}function epe(t,e,r){return e&&Zhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tpe(t,e,r){return e=Jp(e),rpe(t,q$()?Reflect.construct(e,r||[],Jp(t).constructor):e.apply(t,r))}function rpe(t,e){if(e&&(wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return npe(t)}function npe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q$=function(){return!!t})()}function Jp(t){return Jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jp(t)}function ipe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H_(t,e)}function H_(t,e){return H_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},H_(t,e)}function Ng(t,e,r){return e=H$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function H$(t){var e=ape(t,"string");return wl(e)=="symbol"?e:e+""}function ape(t,e){if(wl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ope=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,o=Yx({x:i.scale,y:a.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return Hn(e,"discard")&&!o.isInRange(s)?null:s},jg=function(t){function e(){return Jhe(this,e),tpe(this,e,arguments)}return ipe(e,t),epe(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,s=n.alwaysShow,l=n.clipPathId,u=Pt(i),c=Pt(a);if(An(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=ope(this.props);if(!f)return null;var h=f.x,p=f.y,y=this.props,m=y.shape,b=y.className,v=Hn(this.props,"hidden")?"url(#".concat(l,")"):void 0,_=_I(_I({clipPath:v},le(this.props,!0)),{},{cx:h,cy:p});return M.createElement(ke,{className:ye("recharts-reference-dot",b)},e.renderDot(m,_),Rt.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(M.Component);Ng(jg,"displayName","ReferenceDot");Ng(jg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Ng(jg,"renderDot",function(t,e){var r;return M.isValidElement(t)?r=M.cloneElement(t,e):ce(t)?r=t(e):r=M.createElement(Sg,q_({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function G_(){return G_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},G_.apply(this,arguments)}function xl(t){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xl(t)}function bI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bI(Object(r),!0).forEach(function(n){Rg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function spe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lpe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,K$(n.key),n)}}function upe(t,e,r){return e&&lpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cpe(t,e,r){return e=Zp(e),fpe(t,G$()?Reflect.construct(e,r||[],Zp(t).constructor):e.apply(t,r))}function fpe(t,e){if(e&&(xl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dpe(t)}function dpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G$=function(){return!!t})()}function Zp(t){return Zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zp(t)}function hpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K_(t,e)}function K_(t,e){return K_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},K_(t,e)}function Rg(t,e,r){return e=K$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function K$(t){var e=ppe(t,"string");return xl(e)=="symbol"?e:e+""}function ppe(t,e){if(xl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mpe=function(e,r,n,i,a){var o=a.x1,s=a.x2,l=a.y1,u=a.y2,c=a.xAxis,f=a.yAxis;if(!c||!f)return null;var h=Yx({x:c.scale,y:f.scale}),p={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},y={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Hn(a,"discard")&&(!h.isInRange(p)||!h.isInRange(y))?null:R$(p,y)},Mg=function(t){function e(){return spe(this,e),cpe(this,e,arguments)}return hpe(e,t),upe(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,s=n.y2,l=n.className,u=n.alwaysShow,c=n.clipPathId;An(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Pt(i),h=Pt(a),p=Pt(o),y=Pt(s),m=this.props.shape;if(!f&&!h&&!p&&!y&&!m)return null;var b=mpe(f,h,p,y,this.props);if(!b&&!m)return null;var v=Hn(this.props,"hidden")?"url(#".concat(c,")"):void 0;return M.createElement(ke,{className:ye("recharts-reference-area",l)},e.renderRect(m,wI(wI({clipPath:v},le(this.props,!0)),b)),Rt.renderCallByParent(this.props,b))}}])}(M.Component);Rg(Mg,"displayName","ReferenceArea");Rg(Mg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Rg(Mg,"renderRect",function(t,e){var r;return M.isValidElement(t)?r=M.cloneElement(t,e):ce(t)?r=t(e):r=M.createElement(Kx,G_({},e,{className:"recharts-reference-area-rect"})),r});function Y$(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function gpe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return che(n,r)}function vpe(t,e,r){var n=r==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function em(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function ype(t,e){return Y$(t,e+1)}function _pe(t,e,r,n,i){for(var a=(n||[]).slice(),o=e.start,s=e.end,l=0,u=1,c=o,f=function(){var y=n==null?void 0:n[l];if(y===void 0)return{v:Y$(n,u)};var m=l,b,v=function(){return b===void 0&&(b=r(y,m)),b},_=y.coordinate,w=l===0||em(t,_,v,c,s);w||(l=0,c=o,u+=1),w&&(c=_+t*(v()/2+i),l+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function vf(t){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(t)}function xI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xI(Object(r),!0).forEach(function(n){bpe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bpe(t,e,r){return e=wpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wpe(t){var e=xpe(t,"string");return vf(e)=="symbol"?e:e+""}function xpe(t,e){if(vf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Epe(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,s=e.start,l=e.end,u=function(h){var p=a[h],y,m=function(){return y===void 0&&(y=r(p,h)),y};if(h===o-1){var b=t*(p.coordinate+t*m()/2-l);a[h]=p=rr(rr({},p),{},{tickCoord:b>0?p.coordinate-b*t:p.coordinate})}else a[h]=p=rr(rr({},p),{},{tickCoord:p.coordinate});var v=em(t,p.tickCoord,m,s,l);v&&(l=p.tickCoord-t*(m()/2+i),a[h]=rr(rr({},p),{},{isShow:!0}))},c=o-1;c>=0;c--)u(c);return a}function Spe(t,e,r,n,i,a){var o=(n||[]).slice(),s=o.length,l=e.start,u=e.end;if(a){var c=n[s-1],f=r(c,s-1),h=t*(c.coordinate+t*f/2-u);o[s-1]=c=rr(rr({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var p=em(t,c.tickCoord,function(){return f},l,u);p&&(u=c.tickCoord-t*(f/2+i),o[s-1]=rr(rr({},c),{},{isShow:!0}))}for(var y=a?s-1:s,m=function(_){var w=o[_],I,T=function(){return I===void 0&&(I=r(w,_)),I};if(_===0){var O=t*(w.coordinate-t*T()/2-l);o[_]=w=rr(rr({},w),{},{tickCoord:O<0?w.coordinate-O*t:w.coordinate})}else o[_]=w=rr(rr({},w),{},{tickCoord:w.coordinate});var S=em(t,w.tickCoord,T,l,u);S&&(l=w.tickCoord+t*(T()/2+i),o[_]=rr(rr({},w),{},{isShow:!0}))},b=0;b<y;b++)m(b);return o}function r1(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!n)return[];if(J(l)||Uo.isSsr)return ype(i,typeof l=="number"&&J(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",y=c&&p==="width"?nc(c,{fontSize:e,letterSpacing:r}):{width:0,height:0},m=function(w,I){var T=ce(u)?u(w.value,I):w.value;return p==="width"?gpe(nc(T,{fontSize:e,letterSpacing:r}),y,f):nc(T,{fontSize:e,letterSpacing:r})[p]},b=i.length>=2?mr(i[1].coordinate-i[0].coordinate):1,v=vpe(a,b,p);return l==="equidistantPreserveStart"?_pe(b,v,m,i,o):(l==="preserveStart"||l==="preserveStartEnd"?h=Spe(b,v,m,i,o,l==="preserveStartEnd"):h=Epe(b,v,m,i,o),h.filter(function(_){return _.isShow}))}var Ape=["viewBox"],Tpe=["viewBox"],Ppe=["ticks"];function El(t){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(t)}function Es(){return Es=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Es.apply(this,arguments)}function EI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EI(Object(r),!0).forEach(function(n){n1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uy(t,e){if(t==null)return{};var r=Ope(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ope(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ipe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,X$(n.key),n)}}function kpe(t,e,r){return e&&SI(t.prototype,e),r&&SI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cpe(t,e,r){return e=tm(e),Npe(t,Q$()?Reflect.construct(e,r||[],tm(t).constructor):e.apply(t,r))}function Npe(t,e){if(e&&(El(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jpe(t)}function jpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q$=function(){return!!t})()}function tm(t){return tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tm(t)}function Rpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y_(t,e)}function Y_(t,e){return Y_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Y_(t,e)}function n1(t,e,r){return e=X$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function X$(t){var e=Mpe(t,"string");return El(e)=="symbol"?e:e+""}function Mpe(t,e){if(El(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(El(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Jl=function(t){function e(r){var n;return Ipe(this,e),n=Cpe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return Rpe(e,t),kpe(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=uy(n,Ape),s=this.props,l=s.viewBox,u=uy(s,Tpe);return!Ms(a,l)||!Ms(o,u)||!Ms(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,h=i.tickMargin,p,y,m,b,v,_,w=f?-1:1,I=n.tickSize||c,T=J(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=y=n.coordinate,b=o+ +!f*l,m=b-w*I,_=m-w*h,v=T;break;case"left":m=b=n.coordinate,y=a+ +!f*s,p=y-w*I,v=p-w*h,_=T;break;case"right":m=b=n.coordinate,y=a+ +f*s,p=y+w*I,v=p+w*h,_=T;break;default:p=y=n.coordinate,b=o+ +f*l,m=b+w*I,_=m+w*h,v=T;break}return{line:{x1:p,y1:m,x2:y,y2:b},tick:{x:v,y:_}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.orientation,u=n.mirror,c=n.axisLine,f=xt(xt(xt({},le(this.props,!1)),le(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=xt(xt({},f),{},{x1:i,y1:a+h*s,x2:i+o,y2:a+h*s})}else{var p=+(l==="left"&&!u||l==="right"&&u);f=xt(xt({},f),{},{x1:i+p*o,y1:a,x2:i+p*o,y2:a+s})}return M.createElement("line",Es({},f,{className:ye("recharts-cartesian-axis-line",zr(c,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,f=s.tickFormatter,h=s.unit,p=r1(xt(xt({},this.props),{},{ticks:n}),i,a),y=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),b=le(this.props,!1),v=le(c,!1),_=xt(xt({},b),{},{fill:"none"},le(l,!1)),w=p.map(function(I,T){var O=o.getTickLineCoord(I),S=O.line,E=O.tick,A=xt(xt(xt(xt({textAnchor:y,verticalAnchor:m},b),{},{stroke:"none",fill:u},v),E),{},{index:T,payload:I,visibleTicksCount:p.length,tickFormatter:f});return M.createElement(ke,Es({className:"recharts-cartesian-axis-tick",key:"tick-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},No(o.props,I,T)),l&&M.createElement("line",Es({},_,S,{className:ye("recharts-cartesian-axis-tick-line",zr(l,"className"))})),c&&e.renderTickItem(c,A,"".concat(ce(f)?f(I.value,T):I.value).concat(h||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,h=f.ticks,p=uy(f,Ppe),y=h;return ce(l)&&(y=h&&h.length>0?l(this.props):l(p)),o<=0||s<=0||!y||!y.length?null:M.createElement(ke,{className:ye("recharts-cartesian-axis",u),ref:function(b){n.layerReference=b}},a&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),Rt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o,s=ye(i.className,"recharts-cartesian-axis-tick-value");return M.isValidElement(n)?o=M.cloneElement(n,xt(xt({},i),{},{className:s})):ce(n)?o=n(xt(xt({},i),{},{className:s})):o=M.createElement(jo,Es({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(D.Component);n1(Jl,"displayName","CartesianAxis");n1(Jl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var $pe=["x1","y1","x2","y2","key"],Dpe=["offset"];function $o(t){"@babel/helpers - typeof";return $o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$o(t)}function AI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AI(Object(r),!0).forEach(function(n){Lpe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lpe(t,e,r){return e=Fpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fpe(t){var e=Vpe(t,"string");return $o(e)=="symbol"?e:e+""}function Vpe(t,e){if($o(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($o(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ho(){return ho=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ho.apply(this,arguments)}function TI(t,e){if(t==null)return{};var r=Bpe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Bpe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Upe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.ry;return M.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function J$(t,e){var r;if(M.isValidElement(t))r=M.cloneElement(t,e);else if(ce(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=TI(e,$pe),u=le(l,!1);u.offset;var c=TI(u,Dpe);r=M.createElement("line",ho({},c,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:s}))}return r}function zpe(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=sr(sr({},t),{},{x1:e,y1:s,x2:e+r,y2:s,key:"line-".concat(l),index:l});return J$(i,u)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Wpe(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=sr(sr({},t),{},{x1:s,y1:e,x2:s,y2:e+r,key:"line-".concat(l),index:l});return J$(i,u)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function qpe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==c[0]&&c.unshift(0);var f=c.map(function(h,p){var y=!c[p+1],m=y?i+o-h:c[p+1]-h;if(m<=0)return null;var b=p%e.length;return M.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:a,stroke:"none",fill:e[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Hpe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var c=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==c[0]&&c.unshift(0);var f=c.map(function(h,p){var y=!c[p+1],m=y?a+s-h:c[p+1]-h;if(m<=0)return null;var b=p%n.length;return M.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:m,height:l,stroke:"none",fill:n[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Gpe=function(e,r){var n=e.xAxis,i=e.width,a=e.height,o=e.offset;return KM(r1(sr(sr(sr({},Jl.defaultProps),n),{},{ticks:yi(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},Kpe=function(e,r){var n=e.yAxis,i=e.width,a=e.height,o=e.offset;return KM(r1(sr(sr(sr({},Jl.defaultProps),n),{},{ticks:yi(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},rs={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Sl(t){var e,r,n,i,a,o,s=Jx(),l=Zx(),u=Mhe(),c=sr(sr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:rs.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:rs.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:rs.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:rs.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:rs.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:rs.verticalFill,x:J(t.x)?t.x:u.left,y:J(t.y)?t.y:u.top,width:J(t.width)?t.width:u.width,height:J(t.height)?t.height:u.height}),f=c.x,h=c.y,p=c.width,y=c.height,m=c.syncWithTicks,b=c.horizontalValues,v=c.verticalValues,_=Nhe(),w=jhe();if(!J(p)||p<=0||!J(y)||y<=0||!J(f)||f!==+f||!J(h)||h!==+h)return null;var I=c.verticalCoordinatesGenerator||Gpe,T=c.horizontalCoordinatesGenerator||Kpe,O=c.horizontalPoints,S=c.verticalPoints;if((!O||!O.length)&&ce(T)){var E=b&&b.length,A=T({yAxis:w?sr(sr({},w),{},{ticks:E?b:w.ticks}):void 0,width:s,height:l,offset:u},E?!0:m);An(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat($o(A),"]")),Array.isArray(A)&&(O=A)}if((!S||!S.length)&&ce(I)){var C=v&&v.length,k=I({xAxis:_?sr(sr({},_),{},{ticks:C?v:_.ticks}):void 0,width:s,height:l,offset:u},C?!0:m);An(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat($o(k),"]")),Array.isArray(k)&&(S=k)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(Upe,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),M.createElement(zpe,ho({},c,{offset:u,horizontalPoints:O,xAxis:_,yAxis:w})),M.createElement(Wpe,ho({},c,{offset:u,verticalPoints:S,xAxis:_,yAxis:w})),M.createElement(qpe,ho({},c,{horizontalPoints:O})),M.createElement(Hpe,ho({},c,{verticalPoints:S})))}Sl.displayName="CartesianGrid";var Ype=["type","layout","connectNulls","ref"],Qpe=["key"];function Al(t){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(t)}function PI(t,e){if(t==null)return{};var r=Xpe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Xpe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function uc(){return uc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uc.apply(this,arguments)}function OI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OI(Object(r),!0).forEach(function(n){yn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ns(t){return tme(t)||eme(t)||Zpe(t)||Jpe()}function Jpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zpe(t,e){if(t){if(typeof t=="string")return Q_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q_(t,e)}}function eme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tme(t){if(Array.isArray(t))return Q_(t)}function Q_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function II(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eD(n.key),n)}}function nme(t,e,r){return e&&II(t.prototype,e),r&&II(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ime(t,e,r){return e=rm(e),ame(t,Z$()?Reflect.construct(e,r||[],rm(t).constructor):e.apply(t,r))}function ame(t,e){if(e&&(Al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ome(t)}function ome(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Z$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z$=function(){return!!t})()}function rm(t){return rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rm(t)}function sme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X_(t,e)}function X_(t,e){return X_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},X_(t,e)}function yn(t,e,r){return e=eD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eD(t){var e=lme(t,"string");return Al(e)=="symbol"?e:e+""}function lme(t,e){if(Al(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Al(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Gn=function(t){function e(){var r;rme(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=ime(this,e,[].concat(i)),yn(r,"state",{isAnimationFinished:!0,totalLength:0}),yn(r,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),yn(r,"getStrokeDasharray",function(o,s,l){var u=l.reduce(function(v,_){return v+_});if(!u)return r.generateSimpleStrokeDasharray(s,o);for(var c=Math.floor(o/u),f=o%u,h=s-o,p=[],y=0,m=0;y<l.length;m+=l[y],++y)if(m+l[y]>f){p=[].concat(ns(l.slice(0,y)),[f-m]);break}var b=p.length%2===0?[0,h]:[h];return[].concat(ns(e.repeat(l,c)),ns(p),b).map(function(v){return"".concat(v,"px")}).join(", ")}),yn(r,"id",ql("recharts-line-")),yn(r,"pathRef",function(o){r.mainCurve=o}),yn(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),yn(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return sme(e,t),nme(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,s=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,f=Wr(c,Hf);if(!f)return null;var h=function(m,b){return{x:m.x,y:m.y,value:m.value,errorVal:At(m.payload,b)}},p={clipPath:n?"url(#clipPath-".concat(i,")"):null};return M.createElement(ke,p,f.map(function(y){return M.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,c=s.dataKey,f=le(this.props,!1),h=le(l,!0),p=u.map(function(m,b){var v=Rr(Rr(Rr({key:"dot-".concat(b),r:3},f),h),{},{index:b,cx:m.x,cy:m.y,value:m.value,dataKey:c,payload:m.payload,points:u});return e.renderDotItem(l,v)}),y={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return M.createElement(ke,uc({className:"recharts-line-dots",key:"dots"},y),p)}},{key:"renderCurveStatically",value:function(n,i,a,o){var s=this.props,l=s.type,u=s.layout,c=s.connectNulls;s.ref;var f=PI(s,Ype),h=Rr(Rr(Rr({},le(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},o),{},{type:l,layout:u,connectNulls:c});return M.createElement($p,uc({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,o=this.props,s=o.points,l=o.strokeDasharray,u=o.isAnimationActive,c=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,y=o.animateNewValues,m=o.width,b=o.height,v=this.state,_=v.prevPoints,w=v.totalLength;return M.createElement(Xn,{begin:c,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(I){var T=I.t;if(_){var O=_.length/s.length,S=s.map(function(j,N){var F=Math.floor(N*O);if(_[F]){var $=_[F],B=Lr($.x,j.x),W=Lr($.y,j.y);return Rr(Rr({},j),{},{x:B(T),y:W(T)})}if(y){var V=Lr(m*2,j.x),z=Lr(b/2,j.y);return Rr(Rr({},j),{},{x:V(T),y:z(T)})}return Rr(Rr({},j),{},{x:j.x,y:j.y})});return a.renderCurveStatically(S,n,i)}var E=Lr(0,w),A=E(T),C;if(l){var k="".concat(l).split(/[,\s]+/gim).map(function(j){return parseFloat(j)});C=a.getStrokeDasharray(A,w,k)}else C=a.generateSimpleStrokeDasharray(w,A);return a.renderCurveStatically(s,n,i,{strokeDasharray:C})})}},{key:"renderCurve",value:function(n,i){var a=this.props,o=a.points,s=a.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return s&&o&&o.length&&(!u&&c>0||!qf(u,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,u=i.xAxis,c=i.yAxis,f=i.top,h=i.left,p=i.width,y=i.height,m=i.isAnimationActive,b=i.id;if(a||!s||!s.length)return null;var v=this.state.isAnimationFinished,_=s.length===1,w=ye("recharts-line",l),I=u&&u.allowDataOverflow,T=c&&c.allowDataOverflow,O=I||T,S=ge(b)?this.id:b,E=(n=le(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},A=E.r,C=A===void 0?3:A,k=E.strokeWidth,j=k===void 0?2:k,N=CH(o)?o:{},F=N.clipDot,$=F===void 0?!0:F,B=C*2+j;return M.createElement(ke,{className:w},I||T?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(S)},M.createElement("rect",{x:I?h:h-p/2,y:T?f:f-y/2,width:I?p:p*2,height:T?y:y*2})),!$&&M.createElement("clipPath",{id:"clipPath-dots-".concat(S)},M.createElement("rect",{x:h-B/2,y:f-B/2,width:p+B,height:y+B}))):null,!_&&this.renderCurve(O,S),this.renderErrorBar(O,S),(_||o)&&this.renderDots(O,$,S),(!m||v)&&on.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(ns(n),[0]):n,o=[],s=0;s<i;++s)o=[].concat(ns(o),ns(a));return o}},{key:"renderDotItem",value:function(n,i){var a;if(M.isValidElement(n))a=M.cloneElement(n,i);else if(ce(n))a=n(i);else{var o=i.key,s=PI(i,Qpe),l=ye("recharts-line-dot",typeof n!="boolean"?n.className:"");a=M.createElement(Sg,uc({key:o},s,{className:l}))}return a}}])}(D.PureComponent);yn(Gn,"displayName","Line");yn(Gn,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Uo.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});yn(Gn,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,f=l.map(function(h,p){var y=At(h,o);return c==="horizontal"?{x:ZP({axis:r,ticks:i,bandSize:s,entry:h,index:p}),y:ge(y)?null:n.scale(y),value:y,payload:h}:{x:ge(y)?null:r.scale(y),y:ZP({axis:n,ticks:a,bandSize:s,entry:h,index:p}),value:y,payload:h}});return Rr({points:f,layout:c},u)});function Tl(t){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(t)}function ume(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cme(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nD(n.key),n)}}function fme(t,e,r){return e&&cme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dme(t,e,r){return e=nm(e),hme(t,tD()?Reflect.construct(e,r||[],nm(t).constructor):e.apply(t,r))}function hme(t,e){if(e&&(Tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pme(t)}function pme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tD=function(){return!!t})()}function nm(t){return nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nm(t)}function mme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J_(t,e)}function J_(t,e){return J_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},J_(t,e)}function rD(t,e,r){return e=nD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nD(t){var e=gme(t,"string");return Tl(e)=="symbol"?e:e+""}function gme(t,e){if(Tl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Z_(){return Z_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Z_.apply(this,arguments)}function vme(t){var e=t.xAxisId,r=Jx(),n=Zx(),i=B$(e);return i==null?null:D.createElement(Jl,Z_({},i,{className:ye("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return yi(o,!0)}}))}var $i=function(t){function e(){return ume(this,e),dme(this,e,arguments)}return mme(e,t),fme(e,[{key:"render",value:function(){return D.createElement(vme,this.props)}}])}(D.Component);rD($i,"displayName","XAxis");rD($i,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Pl(t){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}function yme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _me(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oD(n.key),n)}}function bme(t,e,r){return e&&_me(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wme(t,e,r){return e=im(e),xme(t,iD()?Reflect.construct(e,r||[],im(t).constructor):e.apply(t,r))}function xme(t,e){if(e&&(Pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eme(t)}function Eme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iD=function(){return!!t})()}function im(t){return im=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},im(t)}function Sme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eb(t,e)}function eb(t,e){return eb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},eb(t,e)}function aD(t,e,r){return e=oD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oD(t){var e=Ame(t,"string");return Pl(e)=="symbol"?e:e+""}function Ame(t,e){if(Pl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function tb(){return tb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tb.apply(this,arguments)}var Tme=function(e){var r=e.yAxisId,n=Jx(),i=Zx(),a=U$(r);return a==null?null:D.createElement(Jl,tb({},a,{className:ye("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(s){return yi(s,!0)}}))},Di=function(t){function e(){return yme(this,e),wme(this,e,arguments)}return Sme(e,t),bme(e,[{key:"render",value:function(){return D.createElement(Tme,this.props)}}])}(D.Component);aD(Di,"displayName","YAxis");aD(Di,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function kI(t){return kme(t)||Ime(t)||Ome(t)||Pme()}function Pme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ome(t,e){if(t){if(typeof t=="string")return rb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rb(t,e)}}function Ime(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kme(t){if(Array.isArray(t))return rb(t)}function rb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var nb=function(e,r,n,i,a){var o=Wr(e,t1),s=Wr(e,jg),l=[].concat(kI(o),kI(s)),u=Wr(e,Mg),c="".concat(i,"Id"),f=i[0],h=r;if(l.length&&(h=l.reduce(function(m,b){if(b.props[c]===n&&Hn(b.props,"extendDomain")&&J(b.props[f])){var v=b.props[f];return[Math.min(m[0],v),Math.max(m[1],v)]}return m},h)),u.length){var p="".concat(f,"1"),y="".concat(f,"2");h=u.reduce(function(m,b){if(b.props[c]===n&&Hn(b.props,"extendDomain")&&J(b.props[p])&&J(b.props[y])){var v=b.props[p],_=b.props[y];return[Math.min(m[0],v,_),Math.max(m[1],v,_)]}return m},h)}return a&&a.length&&(h=a.reduce(function(m,b){return J(b)?[Math.min(m[0],b),Math.max(m[1],b)]:m},h)),h},sD={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,f||l,h),y=r?r+u:u;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],p]:l._events[y].push(p):(l._events[y]=p,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=r?r+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,y=new Array(p);h<p;h++)y[h]=f[h].fn;return y},s.prototype.listenerCount=function(u){var c=r?r+u:u,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,c,f,h,p,y){var m=r?r+u:u;if(!this._events[m])return!1;var b=this._events[m],v=arguments.length,_,w;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),v){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,c),!0;case 3:return b.fn.call(b.context,c,f),!0;case 4:return b.fn.call(b.context,c,f,h),!0;case 5:return b.fn.call(b.context,c,f,h,p),!0;case 6:return b.fn.call(b.context,c,f,h,p,y),!0}for(w=1,_=new Array(v-1);w<v;w++)_[w-1]=arguments[w];b.fn.apply(b.context,_)}else{var I=b.length,T;for(w=0;w<I;w++)switch(b[w].once&&this.removeListener(u,b[w].fn,void 0,!0),v){case 1:b[w].fn.call(b[w].context);break;case 2:b[w].fn.call(b[w].context,c);break;case 3:b[w].fn.call(b[w].context,c,f);break;case 4:b[w].fn.call(b[w].context,c,f,h);break;default:if(!_)for(T=1,_=new Array(v-1);T<v;T++)_[T-1]=arguments[T];b[w].fn.apply(b[w].context,_)}}return!0},s.prototype.on=function(u,c,f){return a(this,u,c,f,!1)},s.prototype.once=function(u,c,f){return a(this,u,c,f,!0)},s.prototype.removeListener=function(u,c,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!c)return o(this,p),this;var y=this._events[p];if(y.fn)y.fn===c&&(!h||y.once)&&(!f||y.context===f)&&o(this,p);else{for(var m=0,b=[],v=y.length;m<v;m++)(y[m].fn!==c||h&&!y[m].once||f&&y[m].context!==f)&&b.push(y[m]);b.length?this._events[p]=b.length===1?b[0]:b:o(this,p)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=r?r+u:u,this._events[c]&&o(this,c)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})(sD);var Cme=sD.exports;const Nme=Re(Cme);var cy=new Nme,fy="recharts.syncMouseEvents";function yf(t){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yf(t)}function jme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rme(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lD(n.key),n)}}function Mme(t,e,r){return e&&Rme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dy(t,e,r){return e=lD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lD(t){var e=$me(t,"string");return yf(e)=="symbol"?e:e+""}function $me(t,e){if(yf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Dme=function(){function t(){jme(this,t),dy(this,"activeIndex",0),dy(this,"coordinateList",[]),dy(this,"layout","horizontal")}return Mme(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,s=o===void 0?null:o,l=r.layout,u=l===void 0?null:l,c=r.offset,f=c===void 0?null:c,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,c=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+l+u,h=o+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Lme(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&J(n)&&J(i))return!0}return!1}function Fme(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function uD(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,o=Ke(e,r,n,i),s=Ke(e,r,n,a);return{points:[o,s],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function Vme(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,h=Ke(s,l,u,f),p=Ke(s,l,c,f);n=h.x,i=h.y,a=p.x,o=p.y}else return uD(e);return[{x:n,y:i},{x:a,y:o}]}function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}function CI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CI(Object(r),!0).forEach(function(n){Bme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bme(t,e,r){return e=Ume(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ume(t){var e=zme(t,"string");return _f(e)=="symbol"?e:e+""}function zme(t,e){if(_f(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wme(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,p=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!a||!o||h!=="ScatterChart"&&i!=="axis")return null;var y,m=$p;if(h==="ScatterChart")y=o,m=lce;else if(h==="BarChart")y=Fme(f,o,l,c),m=Kx;else if(f==="radial"){var b=uD(o),v=b.cx,_=b.cy,w=b.radius,I=b.startAngle,T=b.endAngle;y={cx:v,cy:_,startAngle:I,endAngle:T,innerRadius:w,outerRadius:w},m=a$}else y={points:Vme(f,o,l)},m=$p;var O=Kd(Kd(Kd(Kd({stroke:"#ccc",pointerEvents:"none"},l),y),le(p,!1)),{},{payload:s,payloadIndex:u,className:ye("recharts-tooltip-cursor",p.className)});return D.isValidElement(p)?D.cloneElement(p,O):D.createElement(m,O)}var qme=["item"],Hme=["children","className","width","height","style","compact","title","desc"];function Ol(t){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ol(t)}function Ss(){return Ss=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ss.apply(this,arguments)}function NI(t,e){return Yme(t)||Kme(t,e)||fD(t,e)||Gme()}function Gme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kme(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Yme(t){if(Array.isArray(t))return t}function jI(t,e){if(t==null)return{};var r=Qme(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Qme(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Xme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jme(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dD(n.key),n)}}function Zme(t,e,r){return e&&Jme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ege(t,e,r){return e=am(e),tge(t,cD()?Reflect.construct(e,r||[],am(t).constructor):e.apply(t,r))}function tge(t,e){if(e&&(Ol(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rge(t)}function rge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cD=function(){return!!t})()}function am(t){return am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},am(t)}function nge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ib(t,e)}function ib(t,e){return ib=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ib(t,e)}function Il(t){return oge(t)||age(t)||fD(t)||ige()}function ige(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fD(t,e){if(t){if(typeof t=="string")return ab(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ab(t,e)}}function age(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oge(t){if(Array.isArray(t))return ab(t)}function ab(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function RI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function q(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RI(Object(r),!0).forEach(function(n){ue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ue(t,e,r){return e=dD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dD(t){var e=sge(t,"string");return Ol(e)=="symbol"?e:e+""}function sge(t,e){if(Ol(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lge={xAxis:["bottom","top"],yAxis:["left","right"]},uge={width:"100%",height:"100%"},hD={x:0,y:0};function Yd(t){return t}var cge=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},fge=function(e,r,n,i){var a=r.find(function(c){return c&&c.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return q(q(q({},i),Ke(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,u=i.angle;return q(q(q({},i),Ke(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return hD},$g=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Il(s),Il(u)):s},[]);return o.length>0?o:e&&e.length&&J(i)&&J(a)?e.slice(i,a+1):[]};function pD(t){return t==="number"?[0,"auto"]:void 0}var ob=function(e,r,n,i){var a=e.graphicalItems,o=e.tooltipAxis,s=$g(r,e);return n<0||!a||!a.length||n>=s.length?null:a.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?s:f;h=ap(p,o.dataKey,i)}else h=f&&f[n]||s[n];return h?[].concat(Il(l),[ZM(u,h)]):l},[])},MI=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},o=cge(a,n),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=Noe(o,s,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,h=ob(e,r,c,f),p=fge(n,s,c,a);return{activeTooltipIndex:c,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},dge=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,c=e.layout,f=e.children,h=e.stackOffset,p=GM(c,a);return n.reduce(function(y,m){var b,v=m.type.defaultProps!==void 0?q(q({},m.type.defaultProps),m.props):m.props,_=v.type,w=v.dataKey,I=v.allowDataOverflow,T=v.allowDuplicatedCategory,O=v.scale,S=v.ticks,E=v.includeHidden,A=v[o];if(y[A])return y;var C=$g(e.data,{graphicalItems:i.filter(function(Q){var re,Ee=o in Q.props?Q.props[o]:(re=Q.type.defaultProps)===null||re===void 0?void 0:re[o];return Ee===A}),dataStartIndex:l,dataEndIndex:u}),k=C.length,j,N,F;Lme(v.domain,I,_)&&(j=b_(v.domain,null,I),p&&(_==="number"||O!=="auto")&&(F=ac(C,w,"category")));var $=pD(_);if(!j||j.length===0){var B,W=(B=v.domain)!==null&&B!==void 0?B:$;if(w){if(j=ac(C,w,_),_==="category"&&p){var V=wH(j);T&&V?(N=j,j=Hp(0,k)):T||(j=nO(W,j,m).reduce(function(Q,re){return Q.indexOf(re)>=0?Q:[].concat(Il(Q),[re])},[]))}else if(_==="category")T?j=j.filter(function(Q){return Q!==""&&!ge(Q)}):j=nO(W,j,m).reduce(function(Q,re){return Q.indexOf(re)>=0||re===""||ge(re)?Q:[].concat(Il(Q),[re])},[]);else if(_==="number"){var z=Doe(C,i.filter(function(Q){var re,Ee,Ne=o in Q.props?Q.props[o]:(re=Q.type.defaultProps)===null||re===void 0?void 0:re[o],it="hide"in Q.props?Q.props.hide:(Ee=Q.type.defaultProps)===null||Ee===void 0?void 0:Ee.hide;return Ne===A&&(E||!it)}),w,a,c);z&&(j=z)}p&&(_==="number"||O!=="auto")&&(F=ac(C,w,"category"))}else p?j=Hp(0,k):s&&s[A]&&s[A].hasStack&&_==="number"?j=h==="expand"?[0,1]:JM(s[A].stackGroups,l,u):j=HM(C,i.filter(function(Q){var re=o in Q.props?Q.props[o]:Q.type.defaultProps[o],Ee="hide"in Q.props?Q.props.hide:Q.type.defaultProps.hide;return re===A&&(E||!Ee)}),_,c,!0);if(_==="number")j=nb(f,j,A,a,S),W&&(j=b_(W,j,I));else if(_==="category"&&W){var Y=W,ee=j.every(function(Q){return Y.indexOf(Q)>=0});ee&&(j=Y)}}return q(q({},y),{},ue({},A,q(q({},v),{},{axisType:a,domain:j,categoricalDomain:F,duplicateDomain:N,originalDomain:(b=v.domain)!==null&&b!==void 0?b:$,isCategorical:p,layout:c})))},{})},hge=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,c=e.layout,f=e.children,h=$g(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:u}),p=h.length,y=GM(c,a),m=-1;return n.reduce(function(b,v){var _=v.type.defaultProps!==void 0?q(q({},v.type.defaultProps),v.props):v.props,w=_[o],I=pD("number");if(!b[w]){m++;var T;return y?T=Hp(0,p):s&&s[w]&&s[w].hasStack?(T=JM(s[w].stackGroups,l,u),T=nb(f,T,w,a)):(T=b_(I,HM(h,n.filter(function(O){var S,E,A=o in O.props?O.props[o]:(S=O.type.defaultProps)===null||S===void 0?void 0:S[o],C="hide"in O.props?O.props.hide:(E=O.type.defaultProps)===null||E===void 0?void 0:E.hide;return A===w&&!C}),"number",c),i.defaultProps.allowDataOverflow),T=nb(f,T,w,a)),q(q({},b),{},ue({},w,q(q({axisType:a},i.defaultProps),{},{hide:!0,orientation:zr(lge,"".concat(a,".").concat(m%2),null),domain:T,originalDomain:I,isCategorical:y,layout:c})))}return b},{})},pge=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,c=e.children,f="".concat(i,"Id"),h=Wr(c,a),p={};return h&&h.length?p=dge(e,{axes:h,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(p=hge(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),p},mge=function(e){var r=sa(e),n=yi(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:wx(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:jp(r,n)}},$I=function(e){var r=e.children,n=e.defaultShowTooltip,i=Dr(r,yl),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},gge=function(e){return!e||!e.length?!1:e.some(function(r){var n=wi(r&&r.type);return n&&n.indexOf("Bar")>=0})},DI=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},vge=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,u=n.width,c=n.height,f=n.children,h=n.margin||{},p=Dr(f,yl),y=Dr(f,$s),m=Object.keys(l).reduce(function(T,O){var S=l[O],E=S.orientation;return!S.mirror&&!S.hide?q(q({},T),{},ue({},E,T[E]+S.width)):T},{left:h.left||0,right:h.right||0}),b=Object.keys(o).reduce(function(T,O){var S=o[O],E=S.orientation;return!S.mirror&&!S.hide?q(q({},T),{},ue({},E,zr(T,"".concat(E))+S.height)):T},{top:h.top||0,bottom:h.bottom||0}),v=q(q({},b),m),_=v.bottom;p&&(v.bottom+=p.props.height||yl.defaultProps.height),y&&r&&(v=Moe(v,i,n,r));var w=u-v.left-v.right,I=c-v.top-v.bottom;return q(q({brushBottom:_},v),{},{width:Math.max(w,0),height:Math.max(I,0)})},yge=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},i1=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,h=function(v,_){var w=_.graphicalItems,I=_.stackGroups,T=_.offset,O=_.updateId,S=_.dataStartIndex,E=_.dataEndIndex,A=v.barSize,C=v.layout,k=v.barGap,j=v.barCategoryGap,N=v.maxBarSize,F=DI(C),$=F.numericAxisName,B=F.cateAxisName,W=gge(w),V=[];return w.forEach(function(z,Y){var ee=$g(v.data,{graphicalItems:[z],dataStartIndex:S,dataEndIndex:E}),Q=z.type.defaultProps!==void 0?q(q({},z.type.defaultProps),z.props):z.props,re=Q.dataKey,Ee=Q.maxBarSize,Ne=Q["".concat($,"Id")],it=Q["".concat(B,"Id")],Dt={},Kt=l.reduce(function(Cn,ti){var Ua=_["".concat(ti.axisType,"Map")],Ho=Q["".concat(ti.axisType,"Id")];Ua&&Ua[Ho]||ti.axisType==="zAxis"||Mo();var eu=Ua[Ho];return q(q({},Cn),{},ue(ue({},ti.axisType,eu),"".concat(ti.axisType,"Ticks"),yi(eu)))},Dt),te=Kt[B],fe=Kt["".concat(B,"Ticks")],pe=I&&I[Ne]&&I[Ne].hasStack&&Hoe(z,I[Ne].stackGroups),G=wi(z.type).indexOf("Bar")>=0,We=jp(te,fe),_e=[],at=W&&joe({barSize:A,stackGroups:I,totalSize:yge(Kt,B)});if(G){var ct,Yt,kn=ge(Ee)?N:Ee,ei=(ct=(Yt=jp(te,fe,!0))!==null&&Yt!==void 0?Yt:kn)!==null&&ct!==void 0?ct:0;_e=Roe({barGap:k,barCategoryGap:j,bandSize:ei!==We?ei:We,sizeList:at[it],maxBarSize:kn}),ei!==We&&(_e=_e.map(function(Cn){return q(q({},Cn),{},{position:q(q({},Cn.position),{},{offset:Cn.position.offset-ei/2})})}))}var zi=z&&z.type&&z.type.getComposedData;zi&&V.push({props:q(q({},zi(q(q({},Kt),{},{displayedData:ee,props:v,dataKey:re,item:z,bandSize:We,barPosition:_e,offset:T,stackedData:pe,layout:C,dataStartIndex:S,dataEndIndex:E}))),{},ue(ue(ue({key:z.key||"item-".concat(Y)},$,Kt[$]),B,Kt[B]),"animationId",O)),childIndex:RH(z,v.children),item:z})}),V},p=function(v,_){var w=v.props,I=v.dataStartIndex,T=v.dataEndIndex,O=v.updateId;if(!QA({props:w}))return null;var S=w.children,E=w.layout,A=w.stackOffset,C=w.data,k=w.reverseStackOrder,j=DI(E),N=j.numericAxisName,F=j.cateAxisName,$=Wr(S,n),B=Woe(C,$,"".concat(N,"Id"),"".concat(F,"Id"),A,k),W=l.reduce(function(Q,re){var Ee="".concat(re.axisType,"Map");return q(q({},Q),{},ue({},Ee,pge(w,q(q({},re),{},{graphicalItems:$,stackGroups:re.axisType===N&&B,dataStartIndex:I,dataEndIndex:T}))))},{}),V=vge(q(q({},W),{},{props:w,graphicalItems:$}),_==null?void 0:_.legendBBox);Object.keys(W).forEach(function(Q){W[Q]=c(w,W[Q],V,Q.replace("Map",""),r)});var z=W["".concat(F,"Map")],Y=mge(z),ee=h(w,q(q({},W),{},{dataStartIndex:I,dataEndIndex:T,updateId:O,graphicalItems:$,stackGroups:B,offset:V}));return q(q({formattedGraphicalItems:ee,graphicalItems:$,offset:V,stackGroups:B},Y),W)},y=function(b){function v(_){var w,I,T;return Xme(this,v),T=ege(this,v,[_]),ue(T,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ue(T,"accessibilityManager",new Dme),ue(T,"handleLegendBBoxUpdate",function(O){if(O){var S=T.state,E=S.dataStartIndex,A=S.dataEndIndex,C=S.updateId;T.setState(q({legendBBox:O},p({props:T.props,dataStartIndex:E,dataEndIndex:A,updateId:C},q(q({},T.state),{},{legendBBox:O}))))}}),ue(T,"handleReceiveSyncEvent",function(O,S,E){if(T.props.syncId===O){if(E===T.eventEmitterSymbol&&typeof T.props.syncMethod!="function")return;T.applySyncEvent(S)}}),ue(T,"handleBrushChange",function(O){var S=O.startIndex,E=O.endIndex;if(S!==T.state.dataStartIndex||E!==T.state.dataEndIndex){var A=T.state.updateId;T.setState(function(){return q({dataStartIndex:S,dataEndIndex:E},p({props:T.props,dataStartIndex:S,dataEndIndex:E,updateId:A},T.state))}),T.triggerSyncEvent({dataStartIndex:S,dataEndIndex:E})}}),ue(T,"handleMouseEnter",function(O){var S=T.getMouseInfo(O);if(S){var E=q(q({},S),{},{isTooltipActive:!0});T.setState(E),T.triggerSyncEvent(E);var A=T.props.onMouseEnter;ce(A)&&A(E,O)}}),ue(T,"triggeredAfterMouseMove",function(O){var S=T.getMouseInfo(O),E=S?q(q({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};T.setState(E),T.triggerSyncEvent(E);var A=T.props.onMouseMove;ce(A)&&A(E,O)}),ue(T,"handleItemMouseEnter",function(O){T.setState(function(){return{isTooltipActive:!0,activeItem:O,activePayload:O.tooltipPayload,activeCoordinate:O.tooltipPosition||{x:O.cx,y:O.cy}}})}),ue(T,"handleItemMouseLeave",function(){T.setState(function(){return{isTooltipActive:!1}})}),ue(T,"handleMouseMove",function(O){O.persist(),T.throttleTriggeredAfterMouseMove(O)}),ue(T,"handleMouseLeave",function(O){T.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};T.setState(S),T.triggerSyncEvent(S);var E=T.props.onMouseLeave;ce(E)&&E(S,O)}),ue(T,"handleOuterEvent",function(O){var S=jH(O),E=zr(T.props,"".concat(S));if(S&&ce(E)){var A,C;/.*touch.*/i.test(S)?C=T.getMouseInfo(O.changedTouches[0]):C=T.getMouseInfo(O),E((A=C)!==null&&A!==void 0?A:{},O)}}),ue(T,"handleClick",function(O){var S=T.getMouseInfo(O);if(S){var E=q(q({},S),{},{isTooltipActive:!0});T.setState(E),T.triggerSyncEvent(E);var A=T.props.onClick;ce(A)&&A(E,O)}}),ue(T,"handleMouseDown",function(O){var S=T.props.onMouseDown;if(ce(S)){var E=T.getMouseInfo(O);S(E,O)}}),ue(T,"handleMouseUp",function(O){var S=T.props.onMouseUp;if(ce(S)){var E=T.getMouseInfo(O);S(E,O)}}),ue(T,"handleTouchMove",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&T.throttleTriggeredAfterMouseMove(O.changedTouches[0])}),ue(T,"handleTouchStart",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&T.handleMouseDown(O.changedTouches[0])}),ue(T,"handleTouchEnd",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&T.handleMouseUp(O.changedTouches[0])}),ue(T,"handleDoubleClick",function(O){var S=T.props.onDoubleClick;if(ce(S)){var E=T.getMouseInfo(O);S(E,O)}}),ue(T,"handleContextMenu",function(O){var S=T.props.onContextMenu;if(ce(S)){var E=T.getMouseInfo(O);S(E,O)}}),ue(T,"triggerSyncEvent",function(O){T.props.syncId!==void 0&&cy.emit(fy,T.props.syncId,O,T.eventEmitterSymbol)}),ue(T,"applySyncEvent",function(O){var S=T.props,E=S.layout,A=S.syncMethod,C=T.state.updateId,k=O.dataStartIndex,j=O.dataEndIndex;if(O.dataStartIndex!==void 0||O.dataEndIndex!==void 0)T.setState(q({dataStartIndex:k,dataEndIndex:j},p({props:T.props,dataStartIndex:k,dataEndIndex:j,updateId:C},T.state)));else if(O.activeTooltipIndex!==void 0){var N=O.chartX,F=O.chartY,$=O.activeTooltipIndex,B=T.state,W=B.offset,V=B.tooltipTicks;if(!W)return;if(typeof A=="function")$=A(V,O);else if(A==="value"){$=-1;for(var z=0;z<V.length;z++)if(V[z].value===O.activeLabel){$=z;break}}var Y=q(q({},W),{},{x:W.left,y:W.top}),ee=Math.min(N,Y.x+Y.width),Q=Math.min(F,Y.y+Y.height),re=V[$]&&V[$].value,Ee=ob(T.state,T.props.data,$),Ne=V[$]?{x:E==="horizontal"?V[$].coordinate:ee,y:E==="horizontal"?Q:V[$].coordinate}:hD;T.setState(q(q({},O),{},{activeLabel:re,activeCoordinate:Ne,activePayload:Ee,activeTooltipIndex:$}))}else T.setState(O)}),ue(T,"renderCursor",function(O){var S,E=T.state,A=E.isTooltipActive,C=E.activeCoordinate,k=E.activePayload,j=E.offset,N=E.activeTooltipIndex,F=E.tooltipAxisBandSize,$=T.getTooltipEventType(),B=(S=O.props.active)!==null&&S!==void 0?S:A,W=T.props.layout,V=O.key||"_recharts-cursor";return M.createElement(Wme,{key:V,activeCoordinate:C,activePayload:k,activeTooltipIndex:N,chartName:r,element:O,isActive:B,layout:W,offset:j,tooltipAxisBandSize:F,tooltipEventType:$})}),ue(T,"renderPolarAxis",function(O,S,E){var A=zr(O,"type.axisType"),C=zr(T.state,"".concat(A,"Map")),k=O.type.defaultProps,j=k!==void 0?q(q({},k),O.props):O.props,N=C&&C[j["".concat(A,"Id")]];return D.cloneElement(O,q(q({},N),{},{className:ye(A,N.className),key:O.key||"".concat(S,"-").concat(E),ticks:yi(N,!0)}))}),ue(T,"renderPolarGrid",function(O){var S=O.props,E=S.radialLines,A=S.polarAngles,C=S.polarRadius,k=T.state,j=k.radiusAxisMap,N=k.angleAxisMap,F=sa(j),$=sa(N),B=$.cx,W=$.cy,V=$.innerRadius,z=$.outerRadius;return D.cloneElement(O,{polarAngles:Array.isArray(A)?A:yi($,!0).map(function(Y){return Y.coordinate}),polarRadius:Array.isArray(C)?C:yi(F,!0).map(function(Y){return Y.coordinate}),cx:B,cy:W,innerRadius:V,outerRadius:z,key:O.key||"polar-grid",radialLines:E})}),ue(T,"renderLegend",function(){var O=T.state.formattedGraphicalItems,S=T.props,E=S.children,A=S.width,C=S.height,k=T.props.margin||{},j=A-(k.left||0)-(k.right||0),N=WM({children:E,formattedGraphicalItems:O,legendWidth:j,legendContent:u});if(!N)return null;var F=N.item,$=jI(N,qme);return D.cloneElement(F,q(q({},$),{},{chartWidth:A,chartHeight:C,margin:k,onBBoxUpdate:T.handleLegendBBoxUpdate}))}),ue(T,"renderTooltip",function(){var O,S=T.props,E=S.children,A=S.accessibilityLayer,C=Dr(E,Ut);if(!C)return null;var k=T.state,j=k.isTooltipActive,N=k.activeCoordinate,F=k.activePayload,$=k.activeLabel,B=k.offset,W=(O=C.props.active)!==null&&O!==void 0?O:j;return D.cloneElement(C,{viewBox:q(q({},B),{},{x:B.left,y:B.top}),active:W,label:$,payload:W?F:[],coordinate:N,accessibilityLayer:A})}),ue(T,"renderBrush",function(O){var S=T.props,E=S.margin,A=S.data,C=T.state,k=C.offset,j=C.dataStartIndex,N=C.dataEndIndex,F=C.updateId;return D.cloneElement(O,{key:O.key||"_recharts-brush",onChange:Wd(T.handleBrushChange,O.props.onChange),data:A,x:J(O.props.x)?O.props.x:k.left,y:J(O.props.y)?O.props.y:k.top+k.height+k.brushBottom-(E.bottom||0),width:J(O.props.width)?O.props.width:k.width,startIndex:j,endIndex:N,updateId:"brush-".concat(F)})}),ue(T,"renderReferenceElement",function(O,S,E){if(!O)return null;var A=T,C=A.clipPathId,k=T.state,j=k.xAxisMap,N=k.yAxisMap,F=k.offset,$=O.type.defaultProps||{},B=O.props,W=B.xAxisId,V=W===void 0?$.xAxisId:W,z=B.yAxisId,Y=z===void 0?$.yAxisId:z;return D.cloneElement(O,{key:O.key||"".concat(S,"-").concat(E),xAxis:j[V],yAxis:N[Y],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:C})}),ue(T,"renderActivePoints",function(O){var S=O.item,E=O.activePoint,A=O.basePoint,C=O.childIndex,k=O.isRange,j=[],N=S.props.key,F=S.item.type.defaultProps!==void 0?q(q({},S.item.type.defaultProps),S.item.props):S.item.props,$=F.activeDot,B=F.dataKey,W=q(q({index:C,dataKey:B,cx:E.x,cy:E.y,r:4,fill:Gx(S.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},le($,!1)),op($));return j.push(v.renderActiveDot($,W,"".concat(N,"-activePoint-").concat(C))),A?j.push(v.renderActiveDot($,q(q({},W),{},{cx:A.x,cy:A.y}),"".concat(N,"-basePoint-").concat(C))):k&&j.push(null),j}),ue(T,"renderGraphicChild",function(O,S,E){var A=T.filterFormatItem(O,S,E);if(!A)return null;var C=T.getTooltipEventType(),k=T.state,j=k.isTooltipActive,N=k.tooltipAxis,F=k.activeTooltipIndex,$=k.activeLabel,B=T.props.children,W=Dr(B,Ut),V=A.props,z=V.points,Y=V.isRange,ee=V.baseLine,Q=A.item.type.defaultProps!==void 0?q(q({},A.item.type.defaultProps),A.item.props):A.item.props,re=Q.activeDot,Ee=Q.hide,Ne=Q.activeBar,it=Q.activeShape,Dt=!!(!Ee&&j&&W&&(re||Ne||it)),Kt={};C!=="axis"&&W&&W.props.trigger==="click"?Kt={onClick:Wd(T.handleItemMouseEnter,O.props.onClick)}:C!=="axis"&&(Kt={onMouseLeave:Wd(T.handleItemMouseLeave,O.props.onMouseLeave),onMouseEnter:Wd(T.handleItemMouseEnter,O.props.onMouseEnter)});var te=D.cloneElement(O,q(q({},A.props),Kt));function fe(ti){return typeof N.dataKey=="function"?N.dataKey(ti.payload):null}if(Dt)if(F>=0){var pe,G;if(N.dataKey&&!N.allowDuplicatedCategory){var We=typeof N.dataKey=="function"?fe:"payload.".concat(N.dataKey.toString());pe=ap(z,We,$),G=Y&&ee&&ap(ee,We,$)}else pe=z==null?void 0:z[F],G=Y&&ee&&ee[F];if(it||Ne){var _e=O.props.activeIndex!==void 0?O.props.activeIndex:F;return[D.cloneElement(O,q(q(q({},A.props),Kt),{},{activeIndex:_e})),null,null]}if(!ge(pe))return[te].concat(Il(T.renderActivePoints({item:A,activePoint:pe,basePoint:G,childIndex:F,isRange:Y})))}else{var at,ct=(at=T.getItemByXY(T.state.activeCoordinate))!==null&&at!==void 0?at:{graphicalItem:te},Yt=ct.graphicalItem,kn=Yt.item,ei=kn===void 0?O:kn,zi=Yt.childIndex,Cn=q(q(q({},A.props),Kt),{},{activeIndex:zi});return[D.cloneElement(ei,Cn),null,null]}return Y?[te,null,null]:[te,null]}),ue(T,"renderCustomized",function(O,S,E){return D.cloneElement(O,q(q({key:"recharts-customized-".concat(E)},T.props),T.state))}),ue(T,"renderMap",{CartesianGrid:{handler:Yd,once:!0},ReferenceArea:{handler:T.renderReferenceElement},ReferenceLine:{handler:Yd},ReferenceDot:{handler:T.renderReferenceElement},XAxis:{handler:Yd},YAxis:{handler:Yd},Brush:{handler:T.renderBrush,once:!0},Bar:{handler:T.renderGraphicChild},Line:{handler:T.renderGraphicChild},Area:{handler:T.renderGraphicChild},Radar:{handler:T.renderGraphicChild},RadialBar:{handler:T.renderGraphicChild},Scatter:{handler:T.renderGraphicChild},Pie:{handler:T.renderGraphicChild},Funnel:{handler:T.renderGraphicChild},Tooltip:{handler:T.renderCursor,once:!0},PolarGrid:{handler:T.renderPolarGrid,once:!0},PolarAngleAxis:{handler:T.renderPolarAxis},PolarRadiusAxis:{handler:T.renderPolarAxis},Customized:{handler:T.renderCustomized}}),T.clipPathId="".concat((w=_.id)!==null&&w!==void 0?w:ql("recharts"),"-clip"),T.throttleTriggeredAfterMouseMove=zR(T.triggeredAfterMouseMove,(I=_.throttleDelay)!==null&&I!==void 0?I:1e3/60),T.state={},T}return nge(v,b),Zme(v,[{key:"componentDidMount",value:function(){var w,I;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,I=w.children,T=w.data,O=w.height,S=w.layout,E=Dr(I,Ut);if(E){var A=E.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var C=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,k=ob(this.state,T,A,C),j=this.state.tooltipTicks[A].coordinate,N=(this.state.offset.top+O)/2,F=S==="horizontal",$=F?{x:j,y:N}:{y:j,x:N},B=this.state.formattedGraphicalItems.find(function(V){var z=V.item;return z.type.name==="Scatter"});B&&($=q(q({},$),B.props.points[A].tooltipPosition),k=B.props.points[A].tooltipPayload);var W={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:C,activePayload:k,activeCoordinate:$};this.setState(W),this.renderCursor(E),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,I){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==I.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var T,O;this.accessibilityManager.setDetails({offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0}})}return null}},{key:"componentDidUpdate",value:function(w){M0([Dr(w.children,Ut)],[Dr(this.props.children,Ut)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Dr(this.props.children,Ut);if(w&&typeof w.props.shared=="boolean"){var I=w.props.shared?"axis":"item";return s.indexOf(I)>=0?I:a}return a}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var I=this.container,T=I.getBoundingClientRect(),O=ore(T),S={chartX:Math.round(w.pageX-O.left),chartY:Math.round(w.pageY-O.top)},E=T.width/I.offsetWidth||1,A=this.inRange(S.chartX,S.chartY,E);if(!A)return null;var C=this.state,k=C.xAxisMap,j=C.yAxisMap,N=this.getTooltipEventType(),F=MI(this.state,this.props.data,this.props.layout,A);if(N!=="axis"&&k&&j){var $=sa(k).scale,B=sa(j).scale,W=$&&$.invert?$.invert(S.chartX):null,V=B&&B.invert?B.invert(S.chartY):null;return q(q({},S),{},{xValue:W,yValue:V},F)}return F?q(q({},S),F):null}},{key:"inRange",value:function(w,I){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,O=this.props.layout,S=w/T,E=I/T;if(O==="horizontal"||O==="vertical"){var A=this.state.offset,C=S>=A.left&&S<=A.left+A.width&&E>=A.top&&E<=A.top+A.height;return C?{x:S,y:E}:null}var k=this.state,j=k.angleAxisMap,N=k.radiusAxisMap;if(j&&N){var F=sa(j);return oO({x:S,y:E},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,I=this.getTooltipEventType(),T=Dr(w,Ut),O={};T&&I==="axis"&&(T.props.trigger==="click"?O={onClick:this.handleClick}:O={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=op(this.props,this.handleOuterEvent);return q(q({},S),O)}},{key:"addListener",value:function(){cy.on(fy,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){cy.removeListener(fy,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,I,T){for(var O=this.state.formattedGraphicalItems,S=0,E=O.length;S<E;S++){var A=O[S];if(A.item===w||A.props.key===w.key||I===wi(A.item.type)&&T===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,I=this.state.offset,T=I.left,O=I.top,S=I.height,E=I.width;return M.createElement("defs",null,M.createElement("clipPath",{id:w},M.createElement("rect",{x:T,y:O,height:S,width:E})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(I,T){var O=NI(T,2),S=O[0],E=O[1];return q(q({},I),{},ue({},S,E.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(I,T){var O=NI(T,2),S=O[0],E=O[1];return q(q({},I),{},ue({},S,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var I;return(I=this.state.xAxisMap)===null||I===void 0||(I=I[w])===null||I===void 0?void 0:I.scale}},{key:"getYScaleByAxisId",value:function(w){var I;return(I=this.state.yAxisMap)===null||I===void 0||(I=I[w])===null||I===void 0?void 0:I.scale}},{key:"getItemByXY",value:function(w){var I=this.state,T=I.formattedGraphicalItems,O=I.activeItem;if(T&&T.length)for(var S=0,E=T.length;S<E;S++){var A=T[S],C=A.props,k=A.item,j=k.type.defaultProps!==void 0?q(q({},k.type.defaultProps),k.props):k.props,N=wi(k.type);if(N==="Bar"){var F=(C.data||[]).find(function(V){return Uue(w,V)});if(F)return{graphicalItem:A,payload:F}}else if(N==="RadialBar"){var $=(C.data||[]).find(function(V){return oO(w,V)});if($)return{graphicalItem:A,payload:$}}else if(Ig(A,O)||kg(A,O)||hf(A,O)){var B=kfe({graphicalItem:A,activeTooltipItem:O,itemData:j.data}),W=j.activeIndex===void 0?B:j.activeIndex;return{graphicalItem:q(q({},A),{},{childIndex:W}),payload:hf(A,O)?j.data[B]:A.props.data[B]}}}return null}},{key:"render",value:function(){var w=this;if(!QA(this))return null;var I=this.props,T=I.children,O=I.className,S=I.width,E=I.height,A=I.style,C=I.compact,k=I.title,j=I.desc,N=jI(I,Hme),F=le(N,!1);if(C)return M.createElement(pI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(D0,Ss({},F,{width:S,height:E,title:k,desc:j}),this.renderClipPath(),JA(T,this.renderMap)));if(this.props.accessibilityLayer){var $,B;F.tabIndex=($=this.props.tabIndex)!==null&&$!==void 0?$:0,F.role=(B=this.props.role)!==null&&B!==void 0?B:"application",F.onKeyDown=function(V){w.accessibilityManager.keyboardEvent(V)},F.onFocus=function(){w.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return M.createElement(pI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",Ss({className:ye("recharts-wrapper",O),style:q({position:"relative",cursor:"default",width:S,height:E},A)},W,{ref:function(z){w.container=z}}),M.createElement(D0,Ss({},F,{width:S,height:E,title:k,desc:j,style:uge}),this.renderClipPath(),JA(T,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(D.Component);ue(y,"displayName",r),ue(y,"defaultProps",q({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ue(y,"getDerivedStateFromProps",function(b,v){var _=b.dataKey,w=b.data,I=b.children,T=b.width,O=b.height,S=b.layout,E=b.stackOffset,A=b.margin,C=v.dataStartIndex,k=v.dataEndIndex;if(v.updateId===void 0){var j=$I(b);return q(q(q({},j),{},{updateId:0},p(q(q({props:b},j),{},{updateId:0}),v)),{},{prevDataKey:_,prevData:w,prevWidth:T,prevHeight:O,prevLayout:S,prevStackOffset:E,prevMargin:A,prevChildren:I})}if(_!==v.prevDataKey||w!==v.prevData||T!==v.prevWidth||O!==v.prevHeight||S!==v.prevLayout||E!==v.prevStackOffset||!Ms(A,v.prevMargin)){var N=$I(b),F={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},$=q(q({},MI(v,w,S)),{},{updateId:v.updateId+1}),B=q(q(q({},N),F),$);return q(q(q({},B),p(q({props:b},B),v)),{},{prevDataKey:_,prevData:w,prevWidth:T,prevHeight:O,prevLayout:S,prevStackOffset:E,prevMargin:A,prevChildren:I})}if(!M0(I,v.prevChildren)){var W,V,z,Y,ee=Dr(I,yl),Q=ee&&(W=(V=ee.props)===null||V===void 0?void 0:V.startIndex)!==null&&W!==void 0?W:C,re=ee&&(z=(Y=ee.props)===null||Y===void 0?void 0:Y.endIndex)!==null&&z!==void 0?z:k,Ee=Q!==C||re!==k,Ne=!ge(w),it=Ne&&!Ee?v.updateId:v.updateId+1;return q(q({updateId:it},p(q(q({props:b},v),{},{updateId:it,dataStartIndex:Q,dataEndIndex:re}),v)),{},{prevChildren:I,dataStartIndex:Q,dataEndIndex:re})}return null}),ue(y,"renderActiveDot",function(b,v,_){var w;return D.isValidElement(b)?w=D.cloneElement(b,v):ce(b)?w=b(v):w=M.createElement(Sg,v),M.createElement(ke,{className:"recharts-active-dot",key:_},w)});var m=D.forwardRef(function(v,_){return M.createElement(y,Ss({},v,{ref:_}))});return m.displayName=y.displayName,m},mD=i1({chartName:"LineChart",GraphicalChild:Gn,axisComponents:[{axisType:"xAxis",AxisComp:$i},{axisType:"yAxis",AxisComp:Di}],formatAxisMap:j$}),a1=i1({chartName:"BarChart",GraphicalChild:_r,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:$i},{axisType:"yAxis",AxisComp:Di}],formatAxisMap:j$}),o1=i1({chartName:"PieChart",GraphicalChild:In,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Og},{axisType:"radiusAxis",AxisComp:Tg}],formatAxisMap:rse,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function om(t){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},om(t)}function Hr(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Fe(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function wt(t){Fe(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||om(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function bf(t,e){Fe(2,arguments);var r=wt(t),n=Hr(e);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function gD(t,e){Fe(2,arguments);var r=wt(t),n=Hr(e);if(isNaN(n))return new Date(NaN);if(!n)return r;var i=r.getDate(),a=new Date(r.getTime());a.setMonth(r.getMonth()+n+1,0);var o=a.getDate();return i>=o?a:(r.setFullYear(a.getFullYear(),a.getMonth(),i),r)}function _ge(t,e){Fe(2,arguments);var r=wt(t).getTime(),n=Hr(e);return new Date(r+n)}var bge={};function Zl(){return bge}function vD(t,e){var r,n,i,a,o,s,l,u;Fe(1,arguments);var c=Zl(),f=Hr((r=(n=(i=(a=e==null?void 0:e.weekStartsOn)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&n!==void 0?n:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=wt(t),p=h.getDay(),y=(p<f?7:0)+p-f;return h.setDate(h.getDate()-y),h.setHours(0,0,0,0),h}function wge(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function LI(t){Fe(1,arguments);var e=wt(t);return e.setHours(0,0,0,0),e}function s1(t,e){Fe(2,arguments);var r=LI(t),n=LI(e);return r.getTime()===n.getTime()}function xge(t){return Fe(1,arguments),t instanceof Date||om(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Ege(t){if(Fe(1,arguments),!xge(t)&&typeof t!="number")return!1;var e=wt(t);return!isNaN(Number(e))}function Sge(t){Fe(1,arguments);var e=wt(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function Age(t,e){var r;Fe(1,arguments);var n=t||{},i=wt(n.start),a=wt(n.end),o=a.getTime();if(!(i.getTime()<=o))throw new RangeError("Invalid interval");var s=[],l=i;l.setHours(0,0,0,0);var u=Number((r=void 0)!==null&&r!==void 0?r:1);if(u<1||isNaN(u))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=o;)s.push(wt(l)),l.setDate(l.getDate()+u),l.setHours(0,0,0,0);return s}function yD(t){Fe(1,arguments);var e=wt(t);return e.setDate(1),e.setHours(0,0,0,0),e}function Tge(t,e){var r,n,i,a,o,s,l,u;Fe(1,arguments);var c=Zl(),f=Hr((r=(n=(i=(a=e==null?void 0:e.weekStartsOn)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&n!==void 0?n:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=wt(t),p=h.getDay(),y=(p<f?-7:0)+6-(p-f);return h.setDate(h.getDate()+y),h.setHours(23,59,59,999),h}function Pge(t,e){Fe(2,arguments);var r=Hr(e);return _ge(t,-r)}var Oge=864e5;function Ige(t){Fe(1,arguments);var e=wt(t),r=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var n=e.getTime(),i=r-n;return Math.floor(i/Oge)+1}function sm(t){Fe(1,arguments);var e=1,r=wt(t),n=r.getUTCDay(),i=(n<e?7:0)+n-e;return r.setUTCDate(r.getUTCDate()-i),r.setUTCHours(0,0,0,0),r}function _D(t){Fe(1,arguments);var e=wt(t),r=e.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var i=sm(n),a=new Date(0);a.setUTCFullYear(r,0,4),a.setUTCHours(0,0,0,0);var o=sm(a);return e.getTime()>=i.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function kge(t){Fe(1,arguments);var e=_D(t),r=new Date(0);r.setUTCFullYear(e,0,4),r.setUTCHours(0,0,0,0);var n=sm(r);return n}var Cge=6048e5;function Nge(t){Fe(1,arguments);var e=wt(t),r=sm(e).getTime()-kge(e).getTime();return Math.round(r/Cge)+1}function lm(t,e){var r,n,i,a,o,s,l,u;Fe(1,arguments);var c=Zl(),f=Hr((r=(n=(i=(a=e==null?void 0:e.weekStartsOn)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&n!==void 0?n:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=wt(t),p=h.getUTCDay(),y=(p<f?7:0)+p-f;return h.setUTCDate(h.getUTCDate()-y),h.setUTCHours(0,0,0,0),h}function bD(t,e){var r,n,i,a,o,s,l,u;Fe(1,arguments);var c=wt(t),f=c.getUTCFullYear(),h=Zl(),p=Hr((r=(n=(i=(a=e==null?void 0:e.firstWeekContainsDate)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&n!==void 0?n:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var y=new Date(0);y.setUTCFullYear(f+1,0,p),y.setUTCHours(0,0,0,0);var m=lm(y,e),b=new Date(0);b.setUTCFullYear(f,0,p),b.setUTCHours(0,0,0,0);var v=lm(b,e);return c.getTime()>=m.getTime()?f+1:c.getTime()>=v.getTime()?f:f-1}function jge(t,e){var r,n,i,a,o,s,l,u;Fe(1,arguments);var c=Zl(),f=Hr((r=(n=(i=(a=e==null?void 0:e.firstWeekContainsDate)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&n!==void 0?n:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=bD(t,e),p=new Date(0);p.setUTCFullYear(h,0,f),p.setUTCHours(0,0,0,0);var y=lm(p,e);return y}var Rge=6048e5;function Mge(t,e){Fe(1,arguments);var r=wt(t),n=lm(r,e).getTime()-jge(r,e).getTime();return Math.round(n/Rge)+1}function Me(t,e){for(var r=t<0?"-":"",n=Math.abs(t).toString();n.length<e;)n="0"+n;return r+n}var Xi={y:function(e,r){var n=e.getUTCFullYear(),i=n>0?n:1-n;return Me(r==="yy"?i%100:i,r.length)},M:function(e,r){var n=e.getUTCMonth();return r==="M"?String(n+1):Me(n+1,2)},d:function(e,r){return Me(e.getUTCDate(),r.length)},a:function(e,r){var n=e.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(e,r){return Me(e.getUTCHours()%12||12,r.length)},H:function(e,r){return Me(e.getUTCHours(),r.length)},m:function(e,r){return Me(e.getUTCMinutes(),r.length)},s:function(e,r){return Me(e.getUTCSeconds(),r.length)},S:function(e,r){var n=r.length,i=e.getUTCMilliseconds(),a=Math.floor(i*Math.pow(10,n-3));return Me(a,r.length)}},is={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},$ge={G:function(e,r,n){var i=e.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(e,r,n){if(r==="yo"){var i=e.getUTCFullYear(),a=i>0?i:1-i;return n.ordinalNumber(a,{unit:"year"})}return Xi.y(e,r)},Y:function(e,r,n,i){var a=bD(e,i),o=a>0?a:1-a;if(r==="YY"){var s=o%100;return Me(s,2)}return r==="Yo"?n.ordinalNumber(o,{unit:"year"}):Me(o,r.length)},R:function(e,r){var n=_D(e);return Me(n,r.length)},u:function(e,r){var n=e.getUTCFullYear();return Me(n,r.length)},Q:function(e,r,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"Q":return String(i);case"QQ":return Me(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,r,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"q":return String(i);case"qq":return Me(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,r,n){var i=e.getUTCMonth();switch(r){case"M":case"MM":return Xi.M(e,r);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,r,n){var i=e.getUTCMonth();switch(r){case"L":return String(i+1);case"LL":return Me(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,r,n,i){var a=Mge(e,i);return r==="wo"?n.ordinalNumber(a,{unit:"week"}):Me(a,r.length)},I:function(e,r,n){var i=Nge(e);return r==="Io"?n.ordinalNumber(i,{unit:"week"}):Me(i,r.length)},d:function(e,r,n){return r==="do"?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):Xi.d(e,r)},D:function(e,r,n){var i=Ige(e);return r==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):Me(i,r.length)},E:function(e,r,n){var i=e.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,r,n,i){var a=e.getUTCDay(),o=(a-i.weekStartsOn+8)%7||7;switch(r){case"e":return String(o);case"ee":return Me(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,r,n,i){var a=e.getUTCDay(),o=(a-i.weekStartsOn+8)%7||7;switch(r){case"c":return String(o);case"cc":return Me(o,r.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,r,n){var i=e.getUTCDay(),a=i===0?7:i;switch(r){case"i":return String(a);case"ii":return Me(a,r.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,r,n){var i=e.getUTCHours(),a=i/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,r,n){var i=e.getUTCHours(),a;switch(i===12?a=is.noon:i===0?a=is.midnight:a=i/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,r,n){var i=e.getUTCHours(),a;switch(i>=17?a=is.evening:i>=12?a=is.afternoon:i>=4?a=is.morning:a=is.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,r,n){if(r==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return Xi.h(e,r)},H:function(e,r,n){return r==="Ho"?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Xi.H(e,r)},K:function(e,r,n){var i=e.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(i,{unit:"hour"}):Me(i,r.length)},k:function(e,r,n){var i=e.getUTCHours();return i===0&&(i=24),r==="ko"?n.ordinalNumber(i,{unit:"hour"}):Me(i,r.length)},m:function(e,r,n){return r==="mo"?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Xi.m(e,r)},s:function(e,r,n){return r==="so"?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Xi.s(e,r)},S:function(e,r){return Xi.S(e,r)},X:function(e,r,n,i){var a=i._originalDate||e,o=a.getTimezoneOffset();if(o===0)return"Z";switch(r){case"X":return VI(o);case"XXXX":case"XX":return ro(o);case"XXXXX":case"XXX":default:return ro(o,":")}},x:function(e,r,n,i){var a=i._originalDate||e,o=a.getTimezoneOffset();switch(r){case"x":return VI(o);case"xxxx":case"xx":return ro(o);case"xxxxx":case"xxx":default:return ro(o,":")}},O:function(e,r,n,i){var a=i._originalDate||e,o=a.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+FI(o,":");case"OOOO":default:return"GMT"+ro(o,":")}},z:function(e,r,n,i){var a=i._originalDate||e,o=a.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+FI(o,":");case"zzzz":default:return"GMT"+ro(o,":")}},t:function(e,r,n,i){var a=i._originalDate||e,o=Math.floor(a.getTime()/1e3);return Me(o,r.length)},T:function(e,r,n,i){var a=i._originalDate||e,o=a.getTime();return Me(o,r.length)}};function FI(t,e){var r=t>0?"-":"+",n=Math.abs(t),i=Math.floor(n/60),a=n%60;if(a===0)return r+String(i);var o=e;return r+String(i)+o+Me(a,2)}function VI(t,e){if(t%60===0){var r=t>0?"-":"+";return r+Me(Math.abs(t)/60,2)}return ro(t,e)}function ro(t,e){var r=e||"",n=t>0?"-":"+",i=Math.abs(t),a=Me(Math.floor(i/60),2),o=Me(i%60,2);return n+a+r+o}var BI=function(e,r){switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},wD=function(e,r){switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Dge=function(e,r){var n=e.match(/(P+)(p+)?/)||[],i=n[1],a=n[2];if(!a)return BI(e,r);var o;switch(i){case"P":o=r.dateTime({width:"short"});break;case"PP":o=r.dateTime({width:"medium"});break;case"PPP":o=r.dateTime({width:"long"});break;case"PPPP":default:o=r.dateTime({width:"full"});break}return o.replace("{{date}}",BI(i,r)).replace("{{time}}",wD(a,r))},Lge={p:wD,P:Dge},Fge=["D","DD"],Vge=["YY","YYYY"];function Bge(t){return Fge.indexOf(t)!==-1}function Uge(t){return Vge.indexOf(t)!==-1}function UI(t,e,r){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var zge={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Wge=function(e,r,n){var i,a=zge[e];return typeof a=="string"?i=a:r===1?i=a.one:i=a.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function Fs(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.width?String(e.width):t.defaultWidth,n=t.formats[r]||t.formats[t.defaultWidth];return n}}var qge={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Hge={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Gge={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Kge={date:Fs({formats:qge,defaultWidth:"full"}),time:Fs({formats:Hge,defaultWidth:"full"}),dateTime:Fs({formats:Gge,defaultWidth:"full"})},Yge={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Qge=function(e,r,n,i){return Yge[e]};function Mn(t){return function(e,r){var n=r!=null&&r.context?String(r.context):"standalone",i;if(n==="formatting"&&t.formattingValues){var a=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{var s=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[l]||t.values[s]}var u=t.argumentCallback?t.argumentCallback(e):e;return i[u]}}var Xge={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Jge={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Zge={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},eve={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},tve={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},rve={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},nve=function(e,r){var n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},ive={ordinalNumber:nve,era:Mn({values:Xge,defaultWidth:"wide"}),quarter:Mn({values:Jge,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Mn({values:Zge,defaultWidth:"wide"}),day:Mn({values:eve,defaultWidth:"wide"}),dayPeriod:Mn({values:tve,defaultWidth:"wide",formattingValues:rve,defaultFormattingWidth:"wide"})};function $n(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;var o=a[0],s=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(s)?ove(s,function(f){return f.test(o)}):ave(s,function(f){return f.test(o)}),u;u=t.valueCallback?t.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;var c=e.slice(o.length);return{value:u,rest:c}}}function ave(t,e){for(var r in t)if(t.hasOwnProperty(r)&&e(t[r]))return r}function ove(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return r}function xD(t){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.match(t.matchPattern);if(!n)return null;var i=n[0],a=e.match(t.parsePattern);if(!a)return null;var o=t.valueCallback?t.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;var s=e.slice(i.length);return{value:o,rest:s}}}var sve=/^(\d+)(th|st|nd|rd)?/i,lve=/\d+/i,uve={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},cve={any:[/^b/i,/^(a|c)/i]},fve={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},dve={any:[/1/i,/2/i,/3/i,/4/i]},hve={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},pve={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},mve={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},gve={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},vve={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},yve={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},_ve={ordinalNumber:xD({matchPattern:sve,parsePattern:lve,valueCallback:function(e){return parseInt(e,10)}}),era:$n({matchPatterns:uve,defaultMatchWidth:"wide",parsePatterns:cve,defaultParseWidth:"any"}),quarter:$n({matchPatterns:fve,defaultMatchWidth:"wide",parsePatterns:dve,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:$n({matchPatterns:hve,defaultMatchWidth:"wide",parsePatterns:pve,defaultParseWidth:"any"}),day:$n({matchPatterns:mve,defaultMatchWidth:"wide",parsePatterns:gve,defaultParseWidth:"any"}),dayPeriod:$n({matchPatterns:vve,defaultMatchWidth:"any",parsePatterns:yve,defaultParseWidth:"any"})},bve={code:"en-US",formatDistance:Wge,formatLong:Kge,formatRelative:Qge,localize:ive,match:_ve,options:{weekStartsOn:0,firstWeekContainsDate:1}},wve=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,xve=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Eve=/^'([^]*?)'?$/,Sve=/''/g,Ave=/[a-zA-Z]/;function ir(t,e,r){var n,i,a,o,s,l,u,c,f,h,p,y,m,b,v,_,w,I;Fe(2,arguments);var T=String(e),O=Zl(),S=(n=(i=r==null?void 0:r.locale)!==null&&i!==void 0?i:O.locale)!==null&&n!==void 0?n:bve,E=Hr((a=(o=(s=(l=r==null?void 0:r.firstWeekContainsDate)!==null&&l!==void 0?l:r==null||(u=r.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&s!==void 0?s:O.firstWeekContainsDate)!==null&&o!==void 0?o:(f=O.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(E>=1&&E<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var A=Hr((p=(y=(m=(b=r==null?void 0:r.weekStartsOn)!==null&&b!==void 0?b:r==null||(v=r.locale)===null||v===void 0||(_=v.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&m!==void 0?m:O.weekStartsOn)!==null&&y!==void 0?y:(w=O.locale)===null||w===void 0||(I=w.options)===null||I===void 0?void 0:I.weekStartsOn)!==null&&p!==void 0?p:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!S.localize)throw new RangeError("locale must contain localize property");if(!S.formatLong)throw new RangeError("locale must contain formatLong property");var C=wt(t);if(!Ege(C))throw new RangeError("Invalid time value");var k=wge(C),j=Pge(C,k),N={firstWeekContainsDate:E,weekStartsOn:A,locale:S,_originalDate:C},F=T.match(xve).map(function($){var B=$[0];if(B==="p"||B==="P"){var W=Lge[B];return W($,S.formatLong)}return $}).join("").match(wve).map(function($){if($==="''")return"'";var B=$[0];if(B==="'")return Tve($);var W=$ge[B];if(W)return!(r!=null&&r.useAdditionalWeekYearTokens)&&Uge($)&&UI($,e,String(t)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&Bge($)&&UI($,e,String(t)),W(j,$,S.localize,N);if(B.match(Ave))throw new RangeError("Format string contains an unescaped latin alphabet character `"+B+"`");return $}).join("");return F}function Tve(t){var e=t.match(Eve);return e?e[1].replace(Sve,"'"):t}function Pve(t){return Fe(1,arguments),s1(t,Date.now())}function Ove(t){return Fe(1,arguments),s1(t,bf(Date.now(),1))}function l1(t,e){Fe(2,arguments);var r=Hr(e);return bf(t,-r)}function Ive(t){return Fe(1,arguments),s1(t,l1(Date.now(),1))}function kve(t,e){Fe(2,arguments);var r=Hr(e);return gD(t,-r)}var Cve={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},Nve=function(e,r,n){var i,a=Cve[e];return typeof a=="string"?i=a:r===1?i=a.one:i=a.other.replace("{{count}}",String(r)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"em "+i:"há "+i:i},jve={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},Rve={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Mve={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},$ve={date:Fs({formats:jve,defaultWidth:"full"}),time:Fs({formats:Rve,defaultWidth:"full"}),dateTime:Fs({formats:Mve,defaultWidth:"full"})},Dve={lastWeek:function(e){var r=e.getUTCDay(),n=r===0||r===6?"último":"última";return"'"+n+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},Lve=function(e,r,n,i){var a=Dve[e];return typeof a=="function"?a(r):a},Fve={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},Vve={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},Bve={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},Uve={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},zve={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},Wve={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},qve=function(e,r){var n=Number(e);return(r==null?void 0:r.unit)==="week"?n+"ª":n+"º"},Hve={ordinalNumber:qve,era:Mn({values:Fve,defaultWidth:"wide"}),quarter:Mn({values:Vve,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Mn({values:Bve,defaultWidth:"wide"}),day:Mn({values:Uve,defaultWidth:"wide"}),dayPeriod:Mn({values:zve,defaultWidth:"wide",formattingValues:Wve,defaultFormattingWidth:"wide"})},Gve=/^(\d+)[ºªo]?/i,Kve=/\d+/i,Yve={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},Qve={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},Xve={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},Jve={any:[/1/i,/2/i,/3/i,/4/i]},Zve={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},eye={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},tye={narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},rye={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},nye={narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},iye={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},aye={ordinalNumber:xD({matchPattern:Gve,parsePattern:Kve,valueCallback:function(e){return parseInt(e,10)}}),era:$n({matchPatterns:Yve,defaultMatchWidth:"wide",parsePatterns:Qve,defaultParseWidth:"any"}),quarter:$n({matchPatterns:Xve,defaultMatchWidth:"wide",parsePatterns:Jve,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:$n({matchPatterns:Zve,defaultMatchWidth:"wide",parsePatterns:eye,defaultParseWidth:"any"}),day:$n({matchPatterns:tye,defaultMatchWidth:"wide",parsePatterns:rye,defaultParseWidth:"any"}),dayPeriod:$n({matchPatterns:nye,defaultMatchWidth:"any",parsePatterns:iye,defaultParseWidth:"any"})},bo={code:"pt-BR",formatDistance:Nve,formatLong:$ve,formatRelative:Lve,localize:Hve,match:aye,options:{weekStartsOn:0,firstWeekContainsDate:1}};const oye=({date:t,onDateChange:e})=>{const{currentUser:r,users:n,getEntriesForDate:i}=Ur(),a=n.find(S=>S.id===r),o=i(r,t),s=(a==null?void 0:a.goals)||{protein_g:160,carbs_g:220,fat_g:60,kcal:2400,water_ml:3e3},l=o.reduce((S,E)=>({protein_g:S.protein_g+E.protein_g,carbs_g:S.carbs_g+E.carbs_g,fat_g:S.fat_g+E.fat_g,kcal:S.kcal+E.kcal,water_ml:S.water_ml+(E.foodId==="agua"?E.qty:0)}),{protein_g:0,carbs_g:0,fat_g:0,kcal:0,water_ml:0}),u=S=>{const[E,A,C]=S.split("-");return`${C}/${A}/${E}`},c=()=>{if(e){const S=new Date(t+"T00:00:00"),E=l1(S,1),A=ir(E,"yyyy-MM-dd");e(A)}},f=()=>{if(e){const S=new Date(t+"T00:00:00"),E=bf(S,1),A=ir(E,"yyyy-MM-dd");e(A)}},h=()=>{if(e){const S=ir(new Date,"yyyy-MM-dd");e(S)}},p=new Date(t+"T00:00:00"),y=Pve(p),m=Ive(p),b=Ove(p),_=(S=>{const E=new Date(S+"T00:00:00"),A=ir(E,"EEEE",{locale:bo}),C=ir(E,"dd"),k=ir(E,"MMM",{locale:bo}),j=ir(E,"yyyy");return{dayName:A.charAt(0).toUpperCase()+A.slice(1),dayNumber:C,month:k,year:j,fullDate:u(S)}})(t),w=[{name:"Proteínas",value:l.protein_g,color:"#3B82F6"},{name:"Carboidratos",value:l.carbs_g,color:"#10B981"},{name:"Gorduras",value:l.fat_g,color:"#F59E0B"}],I={kirk:{protein_g:125,carbs_g:160,fat_g:40,kcal:1500},manu:{protein_g:96,carbs_g:120,fat_g:25,kcal:1100}},T=(a==null?void 0:a.minimumRequirements)||I[r]||I.kirk,O=[{macro:"Proteínas",consumed:Math.round(l.protein_g),goal:Math.round(s.protein_g),minimum:T.protein_g,consumedColor:l.protein_g<T.protein_g?"#EF4444":l.protein_g<=s.protein_g*1.05?"#10B981":l.protein_g<=s.protein_g*1.1?"#F59E0B":"#EF4444",statusLabel:l.protein_g<T.protein_g?"🔴 Abaixo":l.protein_g<=s.protein_g*1.05?"🟢 Meta":l.protein_g<=s.protein_g*1.1?"🟡 Acima":"🔴 Excesso"},{macro:"Carboidratos",consumed:Math.round(l.carbs_g),goal:Math.round(s.carbs_g),minimum:T.carbs_g,consumedColor:l.carbs_g<T.carbs_g?"#EF4444":l.carbs_g<=s.carbs_g*1.05?"#10B981":l.carbs_g<=s.carbs_g*1.1?"#F59E0B":"#EF4444",statusLabel:l.carbs_g<T.carbs_g?"🔴 Abaixo":l.carbs_g<=s.carbs_g*1.05?"🟢 Meta":l.carbs_g<=s.carbs_g*1.1?"🟡 Acima":"🔴 Excesso"},{macro:"Gorduras",consumed:Math.round(l.fat_g),goal:Math.round(s.fat_g),minimum:T.fat_g,consumedColor:l.fat_g<T.fat_g?"#EF4444":l.fat_g<=s.fat_g*1.05?"#10B981":l.fat_g<=s.fat_g*1.1?"#F59E0B":"#EF4444",statusLabel:l.fat_g<T.fat_g?"🔴 Abaixo":l.fat_g<=s.fat_g*1.05?"🟢 Meta":l.fat_g<=s.fat_g*1.1?"🟡 Acima":"🔴 Excesso"}];return g.jsxs("div",{className:"space-y-6",children:[g.jsx("div",{className:"bg-white rounded-lg border p-4",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Relatório Diário"}),g.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[_.dayName,", ",_.dayNumber," de ",_.month," de ",_.year,y&&g.jsx("span",{className:"ml-2 text-blue-600 font-medium",children:"• Hoje"}),m&&g.jsx("span",{className:"ml-2 text-gray-500",children:"• Ontem"}),b&&g.jsx("span",{className:"ml-2 text-gray-500",children:"• Amanhã"})]})]}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(we,{onClick:c,variant:"secondary",size:"sm",className:"px-2 py-1 text-sm",children:"←"}),!y&&g.jsx(we,{onClick:h,variant:"primary",size:"sm",className:"px-3 py-1 text-sm bg-blue-600 hover:bg-blue-700 text-white",children:"Hoje"}),g.jsx(we,{onClick:f,variant:"secondary",size:"sm",className:"px-2 py-1 text-sm",children:"→"})]})]})}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3",children:[g.jsx(pr,{value:l.protein_g,max:s.protein_g,color:"bg-blue-500",label:"Proteínas",unit:"g",icon:"🥩"}),g.jsx(pr,{value:l.carbs_g,max:s.carbs_g,color:"bg-green-500",label:"Carboidratos",unit:"g",icon:"🍞"}),g.jsx(pr,{value:l.fat_g,max:s.fat_g,color:"bg-yellow-500",label:"Gorduras",unit:"g",icon:"🥑"}),g.jsx(pr,{value:l.kcal,max:s.kcal,color:"bg-red-500",label:"Calorias",unit:"kcal",icon:"🔥"}),g.jsx(pr,{value:l.water_ml,max:s.water_ml,color:"bg-cyan-500",label:"Água",unit:"ml",icon:"💧"})]}),g.jsx(F9,{entries:o}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[g.jsxs(tt,{children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Macronutrientes"}),g.jsx("div",{className:"h-80",children:g.jsx(Aa,{width:"100%",height:"100%",children:g.jsxs(a1,{data:O,margin:{top:40,right:30,left:20,bottom:5},children:[g.jsx(Sl,{strokeDasharray:"3 3"}),g.jsx($i,{dataKey:"macro",tick:{fontSize:12}}),g.jsx(Di,{tick:{fontSize:12},domain:[0,"dataMax + 20"]}),g.jsx(Ut,{formatter:(S,E)=>E==="consumed"?[`${S}g`,"Consumido"]:E==="goal"?[`${S}g`,"Meta"]:E==="minimum"?[`${S}g`,"Mínimo Recomendado"]:[`${S}g`,E]}),g.jsx(_r,{dataKey:"minimum",fill:"#E5E7EB",name:"minimum",radius:[2,2,2,2],stroke:"#9CA3AF",strokeWidth:1,strokeDasharray:"2 2"}),g.jsx(_r,{dataKey:"goal",fill:"#374151",name:"goal",radius:[2,2,2,2],stroke:"#374151",strokeWidth:1,strokeDasharray:"3 3"}),g.jsxs(_r,{dataKey:"consumed",name:"consumed",radius:[2,2,2,2],strokeWidth:1,children:[O.map((S,E)=>g.jsx(Ni,{fill:S.consumedColor,stroke:S.consumedColor},`cell-${E}`)),g.jsx(on,{dataKey:"statusLabel",position:"top",style:{fontSize:"11px",fontWeight:"bold",fill:"#374151"},formatter:S=>S,offset:5})]})]})})}),g.jsxs("div",{className:"flex justify-center space-x-6 mt-4 text-sm",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("div",{className:"w-4 h-3 bg-gray-300 rounded border border-gray-400",style:{backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 2px, #9CA3AF 2px, #9CA3AF 4px)"}}),g.jsx("span",{className:"text-gray-600",children:"Mínimo"})]}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("div",{className:"w-4 h-3 bg-gray-600 rounded border border-gray-600",style:{backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 2px, #374151 2px, #374151 4px)"}}),g.jsx("span",{className:"text-gray-600",children:"Meta"})]})]}),g.jsxs("div",{className:"flex justify-center space-x-4 mt-2 text-xs text-gray-500",children:[g.jsx("span",{children:"🔴 Abaixo"}),g.jsx("span",{children:"🟢 Ideal"}),g.jsx("span",{children:"🟡 Atenção"}),g.jsx("span",{children:"🔴 Excesso"})]})]}),g.jsxs(tt,{children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Distribuição de Macronutrientes"}),g.jsx("div",{className:"h-64",children:g.jsx(Aa,{width:"100%",height:"100%",children:g.jsxs(o1,{children:[g.jsx(In,{data:w,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:w.map((S,E)=>g.jsx(Ni,{fill:S.color},`cell-${E}`))}),g.jsx(Ut,{formatter:S=>{const E=w.reduce((C,k)=>C+k.value,0),A=E>0?Math.round(S/E*100):0;return[`${Math.round(S)}g (${A}%)`,""]}})]})})}),g.jsx("div",{className:"flex justify-center space-x-4 mt-4",children:w.map(S=>{const E=w.reduce((C,k)=>C+k.value,0),A=E>0?Math.round(S.value/E*100):0;return g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:S.color}}),g.jsxs("span",{className:"text-sm text-gray-600",children:[S.name,": ",Math.round(S.value),"g (",A,"%)"]})]},S.name)})})]})]})]})},sye=({weekStart:t,onWeekChange:e})=>{const{currentUser:r,users:n,getEntriesForDateRange:i}=Ur(),a=n.find(E=>E.id===r),o=Tge(t,{weekStartsOn:1}),s=(a==null?void 0:a.goals)||{protein_g:160,carbs_g:220,fat_g:60,kcal:2400,water_ml:3e3},l=Array.from({length:7},(E,A)=>{const C=bf(t,A),k=ir(C,"yyyy-MM-dd"),N=i(r,k,k).reduce((B,W)=>({protein_g:B.protein_g+W.protein_g,carbs_g:B.carbs_g+W.carbs_g,fat_g:B.fat_g+W.fat_g,kcal:Math.round(B.kcal+W.kcal),water_ml:B.water_ml+(W.foodId==="agua"?W.qty:0)}),{protein_g:0,carbs_g:0,fat_g:0,kcal:0,water_ml:0}),F=(a==null?void 0:a.weeklyGoalFactor)||1,$=Math.round(s.kcal*F);return{date:k,dayName:ir(C,"EEE",{locale:bo}),dayNumber:ir(C,"dd"),goal:$,...N}}),u=l.reduce((E,A)=>({protein_g:E.protein_g+A.protein_g,carbs_g:E.carbs_g+A.carbs_g,fat_g:E.fat_g+A.fat_g,kcal:E.kcal+A.kcal,water_ml:E.water_ml+A.water_ml}),{protein_g:0,carbs_g:0,fat_g:0,kcal:0,water_ml:0}),c=l.filter(E=>E.kcal>0).length,f=Math.max(c,1),h=Math.round(u.kcal/f),p=l.map(E=>({...E,average:h})),y=(a==null?void 0:a.weeklyGoalFactor)||1,m={protein_g:Math.round(s.protein_g*f*y),carbs_g:Math.round(s.carbs_g*f*y),fat_g:Math.round(s.fat_g*f*y),kcal:Math.round(s.kcal*f*y),water_ml:Math.round(s.water_ml*f*y)},b={totalCalories:u.kcal,avgCalories:u.kcal/f,totalWater:u.water_ml,avgWater:u.water_ml/f,activeDays:c,bestDay:l.reduce((E,A)=>Math.abs(A.kcal-s.kcal)<Math.abs(E.kcal-s.kcal)?A:E),worstDay:l.reduce((E,A)=>Math.abs(A.kcal-s.kcal)>Math.abs(E.kcal-s.kcal)?A:E),progressPercentages:{protein:m.protein_g>0?Math.round(u.protein_g/m.protein_g*100):0,carbs:m.carbs_g>0?Math.round(u.carbs_g/m.carbs_g*100):0,fat:m.fat_g>0?Math.round(u.fat_g/m.fat_g*100):0,kcal:Math.round(u.kcal/m.kcal*100),water:m.water_ml>0?Math.round(u.water_ml/m.water_ml*100):0}},v=[{name:"Proteínas",value:u.protein_g,color:"#3B82F6"},{name:"Carboidratos",value:u.carbs_g,color:"#10B981"},{name:"Gorduras",value:u.fat_g,color:"#F59E0B"}],_={kirk:{protein_g:125,carbs_g:160,fat_g:40,kcal:1500},manu:{protein_g:96,carbs_g:120,fat_g:25,kcal:1100}},w=(a==null?void 0:a.minimumRequirements)||_[r]||_.kirk,I=[{macro:"Proteínas",consumed:Math.round(u.protein_g),goal:Math.round(m.protein_g),minimum:Math.round(w.protein_g*f),consumedColor:u.protein_g<w.protein_g*f?"#EF4444":u.protein_g<=m.protein_g*1.05?"#10B981":u.protein_g<=m.protein_g*1.1?"#F59E0B":"#EF4444",statusLabel:u.protein_g<w.protein_g*f?"🔴 Abaixo":u.protein_g<=m.protein_g*1.05?"🟢 Meta":u.protein_g<=m.protein_g*1.1?"🟡 Acima":"🔴 Excesso"},{macro:"Carboidratos",consumed:Math.round(u.carbs_g),goal:Math.round(m.carbs_g),minimum:Math.round(w.carbs_g*f),consumedColor:u.carbs_g<w.carbs_g*f?"#EF4444":u.carbs_g<=m.carbs_g*1.05?"#10B981":u.carbs_g<=m.carbs_g*1.1?"#F59E0B":"#EF4444",statusLabel:u.carbs_g<w.carbs_g*f?"🔴 Abaixo":u.carbs_g<=m.carbs_g*1.05?"🟢 Meta":u.carbs_g<=m.carbs_g*1.1?"🟡 Acima":"🔴 Excesso"},{macro:"Gorduras",consumed:Math.round(u.fat_g),goal:Math.round(m.fat_g),minimum:Math.round(w.fat_g*f),consumedColor:u.fat_g<w.fat_g*f?"#EF4444":u.fat_g<=m.fat_g*1.05?"#10B981":u.fat_g<=m.fat_g*1.1?"#F59E0B":"#EF4444",statusLabel:u.fat_g<w.fat_g*f?"🔴 Abaixo":u.fat_g<=m.fat_g*1.05?"🟢 Meta":u.fat_g<=m.fat_g*1.1?"🟡 Acima":"🔴 Excesso"}],T=()=>{e(l1(t,7))},O=()=>{e(bf(t,7))},S=()=>{e(vD(new Date,{weekStartsOn:1}))};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Relatório Semanal"}),g.jsxs("p",{className:"text-gray-600",children:[ir(t,"dd/MM/yyyy",{locale:bo})," - ",ir(o,"dd/MM/yyyy",{locale:bo})]})]}),g.jsxs("div",{className:"flex justify-center space-x-2",children:[g.jsx(we,{onClick:T,variant:"secondary",size:"sm",children:"← Semana Anterior"}),g.jsx(we,{onClick:S,variant:"secondary",size:"sm",children:"Semana Atual"}),g.jsx(we,{onClick:O,variant:"secondary",size:"sm",children:"Próxima Semana →"})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3",children:[g.jsx(pr,{value:u.protein_g,max:m.protein_g,color:"bg-blue-500",label:"Proteínas",unit:"g",icon:"🥩"}),g.jsx(pr,{value:u.carbs_g,max:m.carbs_g,color:"bg-green-500",label:"Carboidratos",unit:"g",icon:"🍞"}),g.jsx(pr,{value:u.fat_g,max:m.fat_g,color:"bg-yellow-500",label:"Gorduras",unit:"g",icon:"🥑"}),g.jsx(pr,{value:u.kcal,max:m.kcal,color:"bg-red-500",label:"Calorias",unit:"kcal",icon:"🔥"}),g.jsx(pr,{value:u.water_ml,max:m.water_ml,color:"bg-cyan-500",label:"Água",unit:"ml",icon:"💧"})]}),g.jsx(tt,{children:g.jsxs("div",{className:"p-4",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Resumo da Semana"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:b.activeDays}),g.jsx("div",{className:"text-sm text-gray-600",children:"Dias Ativos"}),g.jsx("div",{className:"text-xs text-gray-500",children:"de 7 dias"})]}),g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:Math.round(b.avgCalories)}),g.jsx("div",{className:"text-sm text-gray-600",children:"Média Calorias"}),g.jsx("div",{className:"text-xs text-gray-500",children:"por dia ativo"})]}),g.jsxs("div",{className:"text-center",children:[g.jsxs("div",{className:"text-2xl font-bold text-cyan-600 mb-1",children:[Math.round(b.avgWater),"ml"]}),g.jsx("div",{className:"text-sm text-gray-600",children:"Média Água"}),g.jsx("div",{className:"text-xs text-gray-500",children:"por dia ativo"})]})]})]})}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[g.jsxs(tt,{children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Macronutrientes"}),g.jsx("div",{className:"h-96",children:g.jsx(Aa,{width:"100%",height:"100%",children:g.jsxs(a1,{data:I,margin:{top:40,right:30,left:20,bottom:5},children:[g.jsx(Sl,{strokeDasharray:"3 3"}),g.jsx($i,{dataKey:"macro",tick:{fontSize:12}}),g.jsx(Di,{tick:{fontSize:12},domain:[0,"dataMax + 20"]}),g.jsx(Ut,{formatter:(E,A)=>A==="consumed"?[`${E}g`,"Consumido"]:A==="goal"?[`${E}g`,"Meta"]:A==="minimum"?[`${E}g`,"Mínimo Recomendado"]:[`${E}g`,A]}),g.jsx(_r,{dataKey:"minimum",fill:"#E5E7EB",name:"minimum",radius:[2,2,2,2],stroke:"#9CA3AF",strokeWidth:1,strokeDasharray:"2 2"}),g.jsx(_r,{dataKey:"goal",fill:"#374151",name:"goal",radius:[2,2,2,2],stroke:"#374151",strokeWidth:1,strokeDasharray:"3 3"}),g.jsxs(_r,{dataKey:"consumed",name:"consumed",radius:[2,2,2,2],strokeWidth:1,children:[I.map((E,A)=>g.jsx(Ni,{fill:E.consumedColor,stroke:E.consumedColor},`cell-${A}`)),g.jsx(on,{dataKey:"statusLabel",position:"top",style:{fontSize:"11px",fontWeight:"bold",fill:"#374151"},formatter:E=>E,offset:5})]})]})})}),g.jsxs("div",{className:"flex justify-center space-x-6 mt-4 text-sm",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("div",{className:"w-4 h-3 bg-gray-300 rounded border border-gray-400",style:{backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 2px, #9CA3AF 2px, #9CA3AF 4px)"}}),g.jsx("span",{className:"text-gray-600",children:"Mínimo"})]}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("div",{className:"w-4 h-3 bg-gray-600 rounded border border-gray-600",style:{backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 2px, #374151 2px, #374151 4px)"}}),g.jsx("span",{className:"text-gray-600",children:"Meta"})]})]}),g.jsxs("div",{className:"flex justify-center space-x-4 mt-2 text-xs text-gray-500",children:[g.jsx("span",{children:"🔴 Abaixo"}),g.jsx("span",{children:"🟢 Ideal"}),g.jsx("span",{children:"🟡 Atenção"}),g.jsx("span",{children:"🔴 Excesso"})]})]}),g.jsxs(tt,{children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Calorias Diárias"}),g.jsx("div",{className:"h-64",children:g.jsx(Aa,{width:"100%",height:"100%",children:g.jsxs(mD,{data:p,children:[g.jsx(Sl,{strokeDasharray:"3 3"}),g.jsx($i,{dataKey:"dayName",tick:{fontSize:12}}),g.jsx(Di,{tick:{fontSize:12}}),g.jsx(Ut,{formatter:(E,A)=>A==="kcal"?[`${E} kcal`,"Calorias Consumidas"]:A==="goal"?[`${E} kcal`,"Meta Diária"]:A==="average"?[`${E} kcal`,"Média Semanal"]:[`${E} kcal`,A],labelFormatter:E=>`Dia: ${E}`}),g.jsx(Gn,{type:"monotone",dataKey:"kcal",stroke:"#3B82F6",strokeWidth:2,dot:{fill:"#3B82F6",strokeWidth:2,r:4}}),g.jsx(Gn,{type:"monotone",dataKey:"goal",stroke:"#10B981",strokeWidth:2,strokeDasharray:"5 5",dot:!1}),g.jsx(Gn,{type:"monotone",dataKey:"average",stroke:"#EF4444",strokeWidth:2,strokeDasharray:"3 3",dot:!1})]})})})]}),g.jsxs(tt,{children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Distribuição de Macronutrientes"}),g.jsx("div",{className:"h-64",children:g.jsx(Aa,{width:"100%",height:"100%",children:g.jsxs(o1,{children:[g.jsx(In,{data:v,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:v.map((E,A)=>g.jsx(Ni,{fill:E.color},`cell-${A}`))}),g.jsx(Ut,{formatter:E=>{const A=v.reduce((k,j)=>k+j.value,0),C=A>0?Math.round(E/A*100):0;return[`${Math.round(E)}g (${C}%)`,""]}})]})})}),g.jsx("div",{className:"flex justify-center space-x-4 mt-4",children:v.map(E=>{const A=v.reduce((k,j)=>k+j.value,0),C=A>0?Math.round(E.value/A*100):0;return g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:E.color}}),g.jsxs("span",{className:"text-sm text-gray-600",children:[E.name,": ",Math.round(E.value),"g (",C,"%)"]})]},E.name)})})]})]}),g.jsxs(tt,{children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Resumo Diário"}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-7 gap-4",children:l.map(E=>g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"font-medium text-gray-900 mb-2",children:E.dayName}),g.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:Ue(E.kcal)}),g.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"kcal"}),g.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[g.jsxs("div",{children:[Ue(E.protein_g),"p"]}),g.jsxs("div",{children:[Ue(E.carbs_g),"c"]}),g.jsxs("div",{children:[Ue(E.fat_g),"g"]}),g.jsxs("div",{className:"text-cyan-600",children:[Ue(E.water_ml),"ml"]})]})]},E.date))})]}),g.jsxs(tt,{children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Resumo Semanal"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Macronutrientes"}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-gray-600",children:"Proteínas:"}),g.jsxs("span",{className:"font-medium",children:[Ue(u.protein_g),"g",g.jsxs("span",{className:"text-sm text-gray-500 ml-1",children:["(",b.progressPercentages.protein,"%)"]})]})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-gray-600",children:"Carboidratos:"}),g.jsxs("span",{className:"font-medium",children:[Ue(u.carbs_g),"g",g.jsxs("span",{className:"text-sm text-gray-500 ml-1",children:["(",b.progressPercentages.carbs,"%)"]})]})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-gray-600",children:"Gorduras:"}),g.jsxs("span",{className:"font-medium",children:[Ue(u.fat_g),"g",g.jsxs("span",{className:"text-sm text-gray-500 ml-1",children:["(",b.progressPercentages.fat,"%)"]})]})]})]})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Outros"}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-gray-600",children:"Calorias:"}),g.jsxs("span",{className:"font-medium",children:[Ue(u.kcal),g.jsxs("span",{className:"text-sm text-gray-500 ml-1",children:["(",b.progressPercentages.kcal,"%)"]})]})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-gray-600",children:"Água:"}),g.jsxs("span",{className:"font-medium",children:[Ue(u.water_ml),"ml",g.jsxs("span",{className:"text-sm text-gray-500 ml-1",children:["(",b.progressPercentages.water,"%)"]})]})]})]})]})]})]})]})},lye=({monthStart:t,onMonthChange:e})=>{const{currentUser:r,users:n,getEntriesForDateRange:i}=Ur(),a=n.find(k=>k.id===r),o=Sge(t),s=(a==null?void 0:a.goals)||{protein_g:160,carbs_g:220,fat_g:60,kcal:2400,water_ml:3e3},l=Age({start:t,end:o}),u=l.map(k=>{const j=ir(k,"yyyy-MM-dd"),F=i(r,j,j).reduce(($,B)=>({protein_g:$.protein_g+B.protein_g,carbs_g:$.carbs_g+B.carbs_g,fat_g:$.fat_g+B.fat_g,kcal:Math.round($.kcal+B.kcal),water_ml:$.water_ml+(B.foodId==="agua"?B.qty:0)}),{protein_g:0,carbs_g:0,fat_g:0,kcal:0,water_ml:0});return{date:j,dayName:ir(k,"EEE",{locale:bo}),dayNumber:ir(k,"dd"),...F}}),c=u.reduce((k,j)=>({protein_g:k.protein_g+j.protein_g,carbs_g:k.carbs_g+j.carbs_g,fat_g:k.fat_g+j.fat_g,kcal:k.kcal+j.kcal,water_ml:k.water_ml+j.water_ml}),{protein_g:0,carbs_g:0,fat_g:0,kcal:0,water_ml:0}),f=u.filter(k=>k.kcal>0).length,h=Math.max(f,1),p=Math.round(c.kcal/h),y=(a==null?void 0:a.monthlyGoalFactor)||1,m={protein_g:Math.round(s.protein_g*h*y),carbs_g:Math.round(s.carbs_g*h*y),fat_g:Math.round(s.fat_g*h*y),kcal:Math.round(s.kcal*h*y),water_ml:Math.round(s.water_ml*h*y)},b={totalCalories:c.kcal,avgCalories:c.kcal/h,totalWater:c.water_ml,avgWater:c.water_ml/h,activeDays:f,bestDay:u.reduce((k,j)=>Math.abs(j.kcal-s.kcal)<Math.abs(k.kcal-s.kcal)?j:k),worstDay:u.reduce((k,j)=>Math.abs(j.kcal-s.kcal)>Math.abs(k.kcal-s.kcal)?j:k),progressPercentages:{protein:m.protein_g>0?Math.round(c.protein_g/m.protein_g*100):0,carbs:m.carbs_g>0?Math.round(c.carbs_g/m.carbs_g*100):0,fat:m.fat_g>0?Math.round(c.fat_g/m.fat_g*100):0,kcal:Math.round(c.kcal/m.kcal*100),water:m.water_ml>0?Math.round(c.water_ml/m.water_ml*100):0}},v=[{name:"Proteínas",value:c.protein_g,color:"#3B82F6"},{name:"Carboidratos",value:c.carbs_g,color:"#10B981"},{name:"Gorduras",value:c.fat_g,color:"#F59E0B"}],_={kirk:{protein_g:125,carbs_g:160,fat_g:40,kcal:1500},manu:{protein_g:96,carbs_g:120,fat_g:25,kcal:1100}},w=(a==null?void 0:a.minimumRequirements)||_[r]||_.kirk,I=[{macro:"Proteínas",consumed:Math.round(c.protein_g),goal:Math.round(m.protein_g),minimum:Math.round(w.protein_g*h),consumedColor:c.protein_g<w.protein_g*h?"#EF4444":c.protein_g<=m.protein_g*1.05?"#10B981":c.protein_g<=m.protein_g*1.1?"#F59E0B":"#EF4444",statusLabel:c.protein_g<w.protein_g*h?"🔴 Abaixo":c.protein_g<=m.protein_g*1.05?"🟢 Meta":c.protein_g<=m.protein_g*1.1?"🟡 Acima":"🔴 Excesso"},{macro:"Carboidratos",consumed:Math.round(c.carbs_g),goal:Math.round(m.carbs_g),minimum:Math.round(w.carbs_g*h),consumedColor:c.carbs_g<w.carbs_g*h?"#EF4444":c.carbs_g<=m.carbs_g*1.05?"#10B981":c.carbs_g<=m.carbs_g*1.1?"#F59E0B":"#EF4444",statusLabel:c.carbs_g<w.carbs_g*h?"🔴 Abaixo":c.carbs_g<=m.carbs_g*1.05?"🟢 Meta":c.carbs_g<=m.carbs_g*1.1?"🟡 Acima":"🔴 Excesso"},{macro:"Gorduras",consumed:Math.round(c.fat_g),goal:Math.round(m.fat_g),minimum:Math.round(w.fat_g*h),consumedColor:c.fat_g<w.fat_g*h?"#EF4444":c.fat_g<=m.fat_g*1.05?"#10B981":c.fat_g<=m.fat_g*1.1?"#F59E0B":"#EF4444",statusLabel:c.fat_g<w.fat_g*h?"🔴 Abaixo":c.fat_g<=m.fat_g*1.05?"🟢 Meta":c.fat_g<=m.fat_g*1.1?"🟡 Acima":"🔴 Excesso"}],T=()=>{e(kve(t,1))},O=()=>{e(gD(t,1))},S=()=>{e(yD(new Date))},E=[],A=(a==null?void 0:a.weeklyGoalFactor)||1,C=Math.round(s.kcal*A*7);for(let k=0;k<u.length;k+=7){const N=u.slice(k,k+7).reduce((F,$)=>({protein_g:F.protein_g+$.protein_g,carbs_g:F.carbs_g+$.carbs_g,fat_g:F.fat_g+$.fat_g,kcal:Math.round(F.kcal+$.kcal),water_ml:F.water_ml+$.water_ml}),{protein_g:0,carbs_g:0,fat_g:0,kcal:0,water_ml:0});E.push({week:`Semana ${Math.floor(k/7)+1}`,goal:C,average:p,...N})}return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Relatório Mensal"}),g.jsx("p",{className:"text-gray-600",children:ir(t,"MMMM yyyy",{locale:bo})})]}),g.jsxs("div",{className:"flex justify-center space-x-2",children:[g.jsx(we,{onClick:T,variant:"secondary",size:"sm",children:"← Mês Anterior"}),g.jsx(we,{onClick:S,variant:"secondary",size:"sm",children:"Mês Atual"}),g.jsx(we,{onClick:O,variant:"secondary",size:"sm",children:"Próximo Mês →"})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3",children:[g.jsx(pr,{value:c.protein_g,max:m.protein_g,color:"bg-blue-500",label:"Proteínas",unit:"g",icon:"🥩"}),g.jsx(pr,{value:c.carbs_g,max:m.carbs_g,color:"bg-green-500",label:"Carboidratos",unit:"g",icon:"🍞"}),g.jsx(pr,{value:c.fat_g,max:m.fat_g,color:"bg-yellow-500",label:"Gorduras",unit:"g",icon:"🥑"}),g.jsx(pr,{value:c.kcal,max:m.kcal,color:"bg-red-500",label:"Calorias",unit:"kcal",icon:"🔥"}),g.jsx(pr,{value:c.water_ml,max:m.water_ml,color:"bg-cyan-500",label:"Água",unit:"ml",icon:"💧"})]}),g.jsx(tt,{children:g.jsxs("div",{className:"p-4",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Resumo do Mês"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:b.activeDays}),g.jsx("div",{className:"text-sm text-gray-600",children:"Dias Ativos"}),g.jsxs("div",{className:"text-xs text-gray-500",children:["de ",l.length," dias"]})]}),g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:Math.round(b.avgCalories)}),g.jsx("div",{className:"text-sm text-gray-600",children:"Média Calorias"}),g.jsx("div",{className:"text-xs text-gray-500",children:"por dia ativo"})]}),g.jsxs("div",{className:"text-center",children:[g.jsxs("div",{className:"text-2xl font-bold text-cyan-600 mb-1",children:[Math.round(b.avgWater),"ml"]}),g.jsx("div",{className:"text-sm text-gray-600",children:"Média Água"}),g.jsx("div",{className:"text-xs text-gray-500",children:"por dia ativo"})]})]})]})}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[g.jsxs(tt,{children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Macronutrientes"}),g.jsx("div",{className:"h-96",children:g.jsx(Aa,{width:"100%",height:"100%",children:g.jsxs(a1,{data:I,margin:{top:40,right:30,left:20,bottom:5},children:[g.jsx(Sl,{strokeDasharray:"3 3"}),g.jsx($i,{dataKey:"macro",tick:{fontSize:12}}),g.jsx(Di,{tick:{fontSize:12},domain:[0,"dataMax + 20"]}),g.jsx(Ut,{formatter:(k,j)=>j==="consumed"?[`${k}g`,"Consumido"]:j==="goal"?[`${k}g`,"Meta"]:j==="minimum"?[`${k}g`,"Mínimo Recomendado"]:[`${k}g`,j]}),g.jsx(_r,{dataKey:"minimum",fill:"#E5E7EB",name:"minimum",radius:[2,2,2,2],stroke:"#9CA3AF",strokeWidth:1,strokeDasharray:"2 2"}),g.jsx(_r,{dataKey:"goal",fill:"#374151",name:"goal",radius:[2,2,2,2],stroke:"#374151",strokeWidth:1,strokeDasharray:"3 3"}),g.jsxs(_r,{dataKey:"consumed",name:"consumed",radius:[2,2,2,2],strokeWidth:1,children:[I.map((k,j)=>g.jsx(Ni,{fill:k.consumedColor,stroke:k.consumedColor},`cell-${j}`)),g.jsx(on,{dataKey:"statusLabel",position:"top",style:{fontSize:"11px",fontWeight:"bold",fill:"#374151"},formatter:k=>k,offset:5})]})]})})}),g.jsxs("div",{className:"flex justify-center space-x-6 mt-4 text-sm",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("div",{className:"w-4 h-3 bg-gray-300 rounded border border-gray-400",style:{backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 2px, #9CA3AF 2px, #9CA3AF 4px)"}}),g.jsx("span",{className:"text-gray-600",children:"Mínimo"})]}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("div",{className:"w-4 h-3 bg-gray-600 rounded border border-gray-600",style:{backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 2px, #374151 2px, #374151 4px)"}}),g.jsx("span",{className:"text-gray-600",children:"Meta"})]})]}),g.jsxs("div",{className:"flex justify-center space-x-4 mt-2 text-xs text-gray-500",children:[g.jsx("span",{children:"🔴 Abaixo"}),g.jsx("span",{children:"🟢 Ideal"}),g.jsx("span",{children:"🟡 Atenção"}),g.jsx("span",{children:"🔴 Excesso"})]})]}),g.jsxs(tt,{children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Calorias por Semana"}),g.jsx("div",{className:"h-64",children:g.jsx(Aa,{width:"100%",height:"100%",children:g.jsxs(mD,{data:E,children:[g.jsx(Sl,{strokeDasharray:"3 3"}),g.jsx($i,{dataKey:"week",tick:{fontSize:12}}),g.jsx(Di,{tick:{fontSize:12}}),g.jsx(Ut,{formatter:(k,j)=>j==="kcal"?[`${k} kcal`,"Calorias Consumidas"]:j==="goal"?[`${k} kcal`,"Meta Semanal"]:j==="average"?[`${k} kcal`,"Média Mensal"]:[`${k} kcal`,j],labelFormatter:k=>`Semana: ${k}`}),g.jsx(Gn,{type:"monotone",dataKey:"kcal",stroke:"#3B82F6",strokeWidth:2,dot:{fill:"#3B82F6",strokeWidth:2,r:4}}),g.jsx(Gn,{type:"monotone",dataKey:"goal",stroke:"#10B981",strokeWidth:2,strokeDasharray:"5 5",dot:!1}),g.jsx(Gn,{type:"monotone",dataKey:"average",stroke:"#EF4444",strokeWidth:2,strokeDasharray:"3 3",dot:!1})]})})})]}),g.jsxs(tt,{children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Distribuição de Macronutrientes"}),g.jsx("div",{className:"h-64",children:g.jsx(Aa,{width:"100%",height:"100%",children:g.jsxs(o1,{children:[g.jsx(In,{data:v,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:v.map((k,j)=>g.jsx(Ni,{fill:k.color},`cell-${j}`))}),g.jsx(Ut,{formatter:k=>{const j=v.reduce((F,$)=>F+$.value,0),N=j>0?Math.round(k/j*100):0;return[`${Math.round(k)}g (${N}%)`,""]}})]})})}),g.jsx("div",{className:"flex justify-center space-x-4 mt-4",children:v.map(k=>{const j=v.reduce((F,$)=>F+$.value,0),N=j>0?Math.round(k.value/j*100):0;return g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:k.color}}),g.jsxs("span",{className:"text-sm text-gray-600",children:[k.name,": ",Math.round(k.value),"g (",N,"%)"]})]},k.name)})})]})]}),g.jsxs(tt,{children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Resumo Mensal"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Macronutrientes"}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-gray-600",children:"Proteínas:"}),g.jsxs("span",{className:"font-medium",children:[Ue(c.protein_g),"g",g.jsxs("span",{className:"text-sm text-gray-500 ml-1",children:["(",b.progressPercentages.protein,"%)"]})]})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-gray-600",children:"Carboidratos:"}),g.jsxs("span",{className:"font-medium",children:[Ue(c.carbs_g),"g",g.jsxs("span",{className:"text-sm text-gray-500 ml-1",children:["(",b.progressPercentages.carbs,"%)"]})]})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-gray-600",children:"Gorduras:"}),g.jsxs("span",{className:"font-medium",children:[Ue(c.fat_g),"g",g.jsxs("span",{className:"text-sm text-gray-500 ml-1",children:["(",b.progressPercentages.fat,"%)"]})]})]})]})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Outros"}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-gray-600",children:"Calorias:"}),g.jsxs("span",{className:"font-medium",children:[Ue(c.kcal),g.jsxs("span",{className:"text-sm text-gray-500 ml-1",children:["(",b.progressPercentages.kcal,"%)"]})]})]}),g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-gray-600",children:"Água:"}),g.jsxs("span",{className:"font-medium",children:[Ue(c.water_ml),"ml",g.jsxs("span",{className:"text-sm text-gray-500 ml-1",children:["(",b.progressPercentages.water,"%)"]})]})]})]})]})]})]})]})},uye=({isOpen:t,onClose:e})=>{const[r,n]=D.useState("daily"),[i,a]=D.useState(()=>new Date().toISOString().split("T")[0]),[o,s]=D.useState(vD(new Date,{weekStartsOn:1})),[l,u]=D.useState(yD(new Date)),c=m=>{a(m)},f=m=>{s(m)},h=m=>{u(m)},p=[{id:"daily",label:"Diário",icon:"📅"},{id:"weekly",label:"Semanal",icon:"📊"},{id:"monthly",label:"Mensal",icon:"📈"}],y=()=>{switch(r){case"daily":return g.jsx(oye,{date:i,onDateChange:c});case"weekly":return g.jsx(sye,{weekStart:o,onWeekChange:f});case"monthly":return g.jsx(lye,{monthStart:l,onMonthChange:h});default:return null}};return t?g.jsx(Na,{isOpen:t,onClose:e,title:"📊 Relatórios",size:"xl",children:g.jsxs("div",{className:"space-y-6",children:[g.jsx("div",{className:"border-b border-gray-200",children:g.jsx("nav",{className:"-mb-px flex space-x-8",children:p.map(m=>g.jsxs("button",{onClick:()=>n(m.id),className:`py-2 px-1 border-b-2 font-medium text-sm min-h-[44px] flex items-center space-x-2 ${r===m.id?"border-blue-500 text-blue-600 bg-white":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[g.jsx("span",{children:m.icon}),g.jsx("span",{children:m.label})]},m.id))})}),g.jsx("div",{className:"min-h-[600px]",children:y()})]})}):null},cye=({isOpen:t=!1,onClose:e=()=>{},onLoadingChange:r})=>{const{loadInitialData:n,isAuthenticated:i,setAuthenticated:a}=Ur(),[o,s]=D.useState(!1),[l,u]=D.useState("idle");D.useEffect(()=>{const v=hr.onAuthStateChanged(_=>{const w=_!==null;a(w),w?(console.log("✅ Usuário autenticado:",_.displayName),c()):console.log("❌ Usuário não autenticado")});return()=>v()},[]);const c=async()=>{if(hr.getCurrentUser()){a(!0),console.log("✅ Usuário autenticado, sincronizando..."),r==null||r(!0);try{await p()}catch(_){console.error("❌ Erro na sincronização:",_),u("error")}finally{r==null||r(!1)}}},f=async()=>{s(!0),u("syncing");try{if(await hr.signInWithGoogle()){a(!0),console.log("✅ Login realizado com sucesso"),r==null||r(!0);try{await p(),console.log("✅ Sincronização concluída com sucesso")}catch(_){console.error("❌ Erro na sincronização:",_),u("error")}finally{r==null||r(!1)}}else u("error")}catch(v){console.error("❌ Erro no login:",v),u("error")}finally{s(!1)}},h=async()=>{await hr.signOut(),a(!1),u("idle")},p=async()=>{s(!0),u("syncing");try{console.log("🔄 Carregando dados do Firebase (FIREBASE → LOCAL)...");const{entries:v,foods:_,users:w}=await hr.loadAllUsersData();console.log(`📊 Dados do Firebase: ${v.length} entradas, ${_.length} alimentos, ${w.length} usuários`),console.log("🔄 Atualizando dados locais com dados do Firebase...");for(const N of w)await Oe.updateUser(N);console.log(`👥 ${w.length} usuários atualizados do Firebase`);for(const N of _)try{await Oe.getFood(N.id)?await Oe.updateFood(N):await Oe.addFood(N)}catch(F){console.warn(`⚠️ Erro ao sincronizar alimento ${N.name}:`,F)}console.log(`🍎 ${_.length} alimentos sincronizados do Firebase`);const I=await Oe.getAllFoods(),T=new Set(_.map(N=>N.id)),O=I.filter(N=>!T.has(N.id));if(O.length>0){console.log(`🗑️ Detectados ${O.length} alimentos deletados no Firebase`);for(const N of O)try{await Oe.deleteFood(N.id),console.log(`🗑️ Alimento deletado localmente: ${N.name}`)}catch(F){console.warn(`⚠️ Erro ao deletar alimento ${N.name}:`,F)}console.log(`✅ ${O.length} alimentos deletados localmente`)}for(const N of v)try{await Oe.getEntry(N.id)?await Oe.updateEntry(N):await Oe.addEntry(N)}catch(F){console.warn(`⚠️ Erro ao sincronizar entrada ${N.id}:`,F)}console.log(`📝 ${v.length} entradas sincronizadas do Firebase`);const S=await Oe.getAllEntries(),E=new Set(v.map(N=>N.id)),A=S.filter(N=>!E.has(N.id));if(A.length>0){console.log(`🗑️ Detectadas ${A.length} entradas deletadas no Firebase`);for(const N of A)try{await Oe.deleteEntry(N.id),console.log(`🗑️ Entrada deletada localmente: ${N.id}`)}catch(F){console.warn(`⚠️ Erro ao deletar entrada ${N.id}:`,F)}console.log(`✅ ${A.length} entradas deletadas localmente`)}const C=await Oe.getAllFoods(),k=await Oe.getAllEntries(),j=await Oe.getAllUsers();Ur.setState({foods:C,entries:k,users:j}),console.log("✅ Sincronização unidirecional concluída (FIREBASE → LOCAL)"),u("success")}catch(v){console.error("❌ Erro ao carregar dados do Firebase:",v),u("error")}finally{s(!1)}},y=async()=>{s(!0),u("syncing");try{await n();const{foods:v,entries:_,users:w}=Ur.getState();console.log("🔄 Enviando dados para Firebase..."),await hr.saveFoods(v),await hr.saveEntries(_),await hr.saveUsers(w),console.log("✅ Dados enviados para Firebase com sucesso"),u("success")}catch(v){console.error("❌ Erro ao enviar dados para Firebase:",v),u("error")}finally{s(!1)}},m=()=>{switch(l){case"syncing":return"text-blue-600";case"success":return"text-green-600";case"error":return"text-red-600";default:return i?"text-green-600":"text-gray-600"}},b=()=>{switch(l){case"syncing":return"Sincronizando...";case"success":return"Conectado";case"error":return"Erro na sincronização";default:return i?"Conectado":"Pronto para sincronizar"}};return t?g.jsx(Na,{isOpen:t,onClose:e,title:"Gerenciar Sincronização",children:g.jsxs("div",{className:"p-6",children:[g.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Gerenciar Sincronização"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("span",{className:"text-sm text-gray-600",children:"Status:"}),g.jsx("span",{className:`text-sm font-medium ${m()}`,children:b()})]}),i?g.jsxs("div",{className:"space-y-2",children:[g.jsx(we,{onClick:p,disabled:o,className:"w-full",children:o?"Baixando...":"Baixar Dados"}),g.jsx(we,{onClick:y,disabled:o,variant:"secondary",className:"w-full",children:o?"Enviando...":"Enviar Dados"}),g.jsx(we,{onClick:h,variant:"secondary",className:"w-full",children:"Sair"})]}):g.jsx(we,{onClick:f,disabled:o,className:"w-full",children:o?"Entrando...":"Entrar com Google"})]})]})}):null},fye=({isOpen:t,message:e="Sincronizando dados..."})=>g.jsx(Na,{isOpen:t,onClose:()=>{},title:"🔄 Sincronizando",size:"sm",children:g.jsxs("div",{className:"text-center py-8",children:[g.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"}),g.jsx("p",{className:"text-gray-600 text-lg font-medium mb-2",children:e}),g.jsx("p",{className:"text-gray-500 text-sm",children:"Carregando dados do Firebase..."})]})});function dye(){const{initializeApp:t,isLoading:e,error:r,updateEntry:n,deleteEntry:i,getCurrentUserTheme:a,isAuthenticated:o}=Ur(),[s,l]=D.useState(!1),[u,c]=D.useState(!1),[f,h]=D.useState(!1),[p,y]=D.useState(!1),[m,b]=D.useState(!1),[v,_]=D.useState(null),[w,I]=D.useState(!1);D.useEffect(()=>{t()},[t]),D.useEffect(()=>{const k=()=>{l(!0)},j=()=>{c(!0)},N=()=>{h(!0)},F=()=>{y(!0)},$=()=>{b(!0)};return window.addEventListener("openFoodEntry",k),window.addEventListener("openFoodsManager",j),window.addEventListener("openReports",N),window.addEventListener("openAddWater",F),window.addEventListener("openFirebaseSync",$),()=>{window.removeEventListener("openFoodEntry",k),window.removeEventListener("openFoodsManager",j),window.removeEventListener("openReports",N),window.removeEventListener("openAddWater",F),window.removeEventListener("openFirebaseSync",$)}},[]);const T=k=>{_(k),l(!0)},O=async k=>{await i(k)},S=k=>{n(k),_(null)},E=()=>{l(!1),c(!1),h(!1),y(!1),_(null)},A=k=>{I(k)};if(e)return g.jsx("div",{className:"min-h-screen flex items-center justify-center",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),g.jsx("p",{className:"text-gray-600",children:"Carregando..."})]})});if(r)return g.jsx("div",{className:"min-h-screen flex items-center justify-center",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-red-600 text-xl mb-4",children:"❌"}),g.jsx("p",{className:"text-gray-600",children:r})]})});const C=a();return g.jsxs("div",{className:`min-h-screen ${C.subtleBg}`,children:[g.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[g.jsx(k9,{}),g.jsx("div",{className:"mt-8",children:g.jsx(M9,{onEdit:T,onDelete:O})})]}),g.jsx(N9,{isOpen:s,onClose:E,editingEntry:v,onUpdate:S}),g.jsx(D9,{isOpen:u,onClose:E}),g.jsx(L9,{isOpen:p,onClose:E}),g.jsx(uye,{isOpen:f,onClose:E}),g.jsx(cye,{isOpen:m,onClose:()=>b(!1),onLoadingChange:A}),g.jsx(fye,{isOpen:w,message:"Sincronizando dados do Firebase..."}),g.jsx("footer",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-4 py-2 z-40",children:g.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("div",{className:`w-2 h-2 rounded-full ${o?"bg-green-500":"bg-gray-400"}`}),g.jsx("span",{className:`text-sm ${o?"text-green-600":"text-gray-500"}`,children:o?"Conectado":"Pronto para sincronizar"})]}),g.jsx("button",{onClick:()=>{const k=new CustomEvent("openFirebaseSync");window.dispatchEvent(k)},className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:o?"Gerenciar":"Conectar"})]})}),g.jsx(cV,{position:"top-right"})]})}hy.createRoot(document.getElementById("root")).render(g.jsx(M.StrictMode,{children:g.jsx(dye,{})}));
