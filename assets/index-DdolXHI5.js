var VM=Object.defineProperty;var UM=(t,e,n)=>e in t?VM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Yg=(t,e,n)=>UM(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var rd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Re(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var RI={exports:{}},rm={},DI={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hf=Symbol.for("react.element"),BM=Symbol.for("react.portal"),zM=Symbol.for("react.fragment"),WM=Symbol.for("react.strict_mode"),qM=Symbol.for("react.profiler"),HM=Symbol.for("react.provider"),GM=Symbol.for("react.context"),KM=Symbol.for("react.forward_ref"),YM=Symbol.for("react.suspense"),QM=Symbol.for("react.memo"),XM=Symbol.for("react.lazy"),XE=Symbol.iterator;function JM(t){return t===null||typeof t!="object"?null:(t=XE&&t[XE]||t["@@iterator"],typeof t=="function"?t:null)}var MI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},LI=Object.assign,FI={};function xl(t,e,n){this.props=t,this.context=e,this.refs=FI,this.updater=n||MI}xl.prototype.isReactComponent={};xl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};xl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function VI(){}VI.prototype=xl.prototype;function ab(t,e,n){this.props=t,this.context=e,this.refs=FI,this.updater=n||MI}var ob=ab.prototype=new VI;ob.constructor=ab;LI(ob,xl.prototype);ob.isPureReactComponent=!0;var JE=Array.isArray,UI=Object.prototype.hasOwnProperty,sb={current:null},BI={key:!0,ref:!0,__self:!0,__source:!0};function zI(t,e,n){var r,i={},a=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)UI.call(e,r)&&!BI.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:hf,type:t,key:a,ref:o,props:i,_owner:sb.current}}function ZM(t,e){return{$$typeof:hf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function lb(t){return typeof t=="object"&&t!==null&&t.$$typeof===hf}function eL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ZE=/\/+/g;function Qg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?eL(""+t.key):e.toString(36)}function Wd(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case hf:case BM:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Qg(o,0):r,JE(i)?(n="",t!=null&&(n=t.replace(ZE,"$&/")+"/"),Wd(i,e,n,"",function(u){return u})):i!=null&&(lb(i)&&(i=ZM(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ZE,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",JE(t))for(var s=0;s<t.length;s++){a=t[s];var l=r+Qg(a,s);o+=Wd(a,e,n,l,i)}else if(l=JM(t),typeof l=="function")for(t=l.call(t),s=0;!(a=t.next()).done;)a=a.value,l=r+Qg(a,s++),o+=Wd(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function id(t,e,n){if(t==null)return t;var r=[],i=0;return Wd(t,r,"","",function(a){return e.call(n,a,i++)}),r}function tL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vn={current:null},qd={transition:null},nL={ReactCurrentDispatcher:vn,ReactCurrentBatchConfig:qd,ReactCurrentOwner:sb};function WI(){throw Error("act(...) is not supported in production builds of React.")}we.Children={map:id,forEach:function(t,e,n){id(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return id(t,function(){e++}),e},toArray:function(t){return id(t,function(e){return e})||[]},only:function(t){if(!lb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};we.Component=xl;we.Fragment=zM;we.Profiler=qM;we.PureComponent=ab;we.StrictMode=WM;we.Suspense=YM;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nL;we.act=WI;we.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=LI({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=sb.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)UI.call(e,l)&&!BI.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:hf,type:t.type,key:i,ref:a,props:r,_owner:o}};we.createContext=function(t){return t={$$typeof:GM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:HM,_context:t},t.Consumer=t};we.createElement=zI;we.createFactory=function(t){var e=zI.bind(null,t);return e.type=t,e};we.createRef=function(){return{current:null}};we.forwardRef=function(t){return{$$typeof:KM,render:t}};we.isValidElement=lb;we.lazy=function(t){return{$$typeof:XM,_payload:{_status:-1,_result:t},_init:tL}};we.memo=function(t,e){return{$$typeof:QM,type:t,compare:e===void 0?null:e}};we.startTransition=function(t){var e=qd.transition;qd.transition={};try{t()}finally{qd.transition=e}};we.unstable_act=WI;we.useCallback=function(t,e){return vn.current.useCallback(t,e)};we.useContext=function(t){return vn.current.useContext(t)};we.useDebugValue=function(){};we.useDeferredValue=function(t){return vn.current.useDeferredValue(t)};we.useEffect=function(t,e){return vn.current.useEffect(t,e)};we.useId=function(){return vn.current.useId()};we.useImperativeHandle=function(t,e,n){return vn.current.useImperativeHandle(t,e,n)};we.useInsertionEffect=function(t,e){return vn.current.useInsertionEffect(t,e)};we.useLayoutEffect=function(t,e){return vn.current.useLayoutEffect(t,e)};we.useMemo=function(t,e){return vn.current.useMemo(t,e)};we.useReducer=function(t,e,n){return vn.current.useReducer(t,e,n)};we.useRef=function(t){return vn.current.useRef(t)};we.useState=function(t){return vn.current.useState(t)};we.useSyncExternalStore=function(t,e,n){return vn.current.useSyncExternalStore(t,e,n)};we.useTransition=function(){return vn.current.useTransition()};we.version="18.3.1";DI.exports=we;var M=DI.exports;const R=Re(M);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rL=M,iL=Symbol.for("react.element"),aL=Symbol.for("react.fragment"),oL=Object.prototype.hasOwnProperty,sL=rL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lL={key:!0,ref:!0,__self:!0,__source:!0};function qI(t,e,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)oL.call(e,r)&&!lL.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:iL,type:t,key:a,ref:o,props:i,_owner:sL.current}}rm.Fragment=aL;rm.jsx=qI;rm.jsxs=qI;RI.exports=rm;var x=RI.exports,cy={},HI={exports:{}},Un={},GI={exports:{}},KI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,z){var Y=V.length;V.push(z);e:for(;0<Y;){var ee=Y-1>>>1,Q=V[ee];if(0<i(Q,z))V[ee]=z,V[Y]=Q,Y=ee;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var z=V[0],Y=V.pop();if(Y!==z){V[0]=Y;e:for(var ee=0,Q=V.length,ne=Q>>>1;ee<ne;){var Ee=2*(ee+1)-1,je=V[Ee],rt=Ee+1,Mt=V[rt];if(0>i(je,Y))rt<Q&&0>i(Mt,je)?(V[ee]=Mt,V[rt]=Y,ee=rt):(V[ee]=je,V[Ee]=Y,ee=Ee);else if(rt<Q&&0>i(Mt,Y))V[ee]=Mt,V[rt]=Y,ee=rt;else break e}}return z}function i(V,z){var Y=V.sortIndex-z.sortIndex;return Y!==0?Y:V.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,f=null,h=3,p=!1,m=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(V){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=V)r(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(u)}}function I(V){if(g=!1,w(V),!m)if(n(l)!==null)m=!0,F(E);else{var z=n(u);z!==null&&q(I,z.startTime-V)}}function E(V,z){m=!1,g&&(g=!1,_(A),A=-1),p=!0;var Y=h;try{for(w(z),f=n(l);f!==null&&(!(f.expirationTime>z)||V&&!C());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,h=f.priorityLevel;var Q=ee(f.expirationTime<=z);z=t.unstable_now(),typeof Q=="function"?f.callback=Q:f===n(l)&&r(l),w(z)}else r(l);f=n(l)}if(f!==null)var ne=!0;else{var Ee=n(u);Ee!==null&&q(I,Ee.startTime-z),ne=!1}return ne}finally{f=null,h=Y,p=!1}}var P=!1,S=null,A=-1,T=5,k=-1;function C(){return!(t.unstable_now()-k<T)}function j(){if(S!==null){var V=t.unstable_now();k=V;var z=!0;try{z=S(!0,V)}finally{z?N():(P=!1,S=null)}}else P=!1}var N;if(typeof y=="function")N=function(){y(j)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,D=U.port2;U.port1.onmessage=j,N=function(){D.postMessage(null)}}else N=function(){v(j,0)};function F(V){S=V,P||(P=!0,N())}function q(V,z){A=v(function(){V(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,F(E))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var Y=h;h=z;try{return V()}finally{h=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,z){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Y=h;h=V;try{return z()}finally{h=Y}},t.unstable_scheduleCallback=function(V,z,Y){var ee=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ee+Y:ee):Y=ee,V){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=Y+Q,V={id:c++,callback:z,priorityLevel:V,startTime:Y,expirationTime:Q,sortIndex:-1},Y>ee?(V.sortIndex=Y,e(u,V),n(l)===null&&V===n(u)&&(g?(_(A),A=-1):g=!0,q(I,Y-ee))):(V.sortIndex=Q,e(l,V),m||p||(m=!0,F(E))),V},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(V){var z=h;return function(){var Y=h;h=z;try{return V.apply(this,arguments)}finally{h=Y}}}})(KI);GI.exports=KI;var uL=GI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cL=M,Vn=uL;function X(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var YI=new Set,rc={};function Oo(t,e){Ns(t,e),Ns(t+"Capture",e)}function Ns(t,e){for(rc[t]=e,t=0;t<e.length;t++)YI.add(e[t])}var _i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fy=Object.prototype.hasOwnProperty,fL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,e1={},t1={};function dL(t){return fy.call(t1,t)?!0:fy.call(e1,t)?!1:fL.test(t)?t1[t]=!0:(e1[t]=!0,!1)}function hL(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function pL(t,e,n,r){if(e===null||typeof e>"u"||hL(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function yn(t,e,n,r,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){qt[t]=new yn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];qt[e]=new yn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){qt[t]=new yn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){qt[t]=new yn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){qt[t]=new yn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){qt[t]=new yn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){qt[t]=new yn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){qt[t]=new yn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){qt[t]=new yn(t,5,!1,t.toLowerCase(),null,!1,!1)});var ub=/[\-:]([a-z])/g;function cb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ub,cb);qt[e]=new yn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ub,cb);qt[e]=new yn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ub,cb);qt[e]=new yn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){qt[t]=new yn(t,1,!1,t.toLowerCase(),null,!1,!1)});qt.xlinkHref=new yn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){qt[t]=new yn(t,1,!1,t.toLowerCase(),null,!0,!0)});function fb(t,e,n,r){var i=qt.hasOwnProperty(e)?qt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(pL(e,n,i,r)&&(n=null),r||i===null?dL(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ni=cL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ad=Symbol.for("react.element"),es=Symbol.for("react.portal"),ts=Symbol.for("react.fragment"),db=Symbol.for("react.strict_mode"),dy=Symbol.for("react.profiler"),QI=Symbol.for("react.provider"),XI=Symbol.for("react.context"),hb=Symbol.for("react.forward_ref"),hy=Symbol.for("react.suspense"),py=Symbol.for("react.suspense_list"),pb=Symbol.for("react.memo"),Hi=Symbol.for("react.lazy"),JI=Symbol.for("react.offscreen"),n1=Symbol.iterator;function ou(t){return t===null||typeof t!="object"?null:(t=n1&&t[n1]||t["@@iterator"],typeof t=="function"?t:null)}var st=Object.assign,Xg;function Pu(t){if(Xg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Xg=e&&e[1]||""}return`
`+Xg+t}var Jg=!1;function Zg(t,e){if(!t||Jg)return"";Jg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=s);break}}}finally{Jg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Pu(t):""}function mL(t){switch(t.tag){case 5:return Pu(t.type);case 16:return Pu("Lazy");case 13:return Pu("Suspense");case 19:return Pu("SuspenseList");case 0:case 2:case 15:return t=Zg(t.type,!1),t;case 11:return t=Zg(t.type.render,!1),t;case 1:return t=Zg(t.type,!0),t;default:return""}}function my(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ts:return"Fragment";case es:return"Portal";case dy:return"Profiler";case db:return"StrictMode";case hy:return"Suspense";case py:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case XI:return(t.displayName||"Context")+".Consumer";case QI:return(t._context.displayName||"Context")+".Provider";case hb:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case pb:return e=t.displayName||null,e!==null?e:my(t.type)||"Memo";case Hi:e=t._payload,t=t._init;try{return my(t(e))}catch{}}return null}function gL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return my(e);case 8:return e===db?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ba(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ZI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vL(t){var e=ZI(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function od(t){t._valueTracker||(t._valueTracker=vL(t))}function ek(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ZI(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function hh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function gy(t,e){var n=e.checked;return st({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function r1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ba(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function tk(t,e){e=e.checked,e!=null&&fb(t,"checked",e,!1)}function vy(t,e){tk(t,e);var n=ba(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?yy(t,e.type,n):e.hasOwnProperty("defaultValue")&&yy(t,e.type,ba(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function i1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function yy(t,e,n){(e!=="number"||hh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ou=Array.isArray;function vs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ba(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function _y(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(X(91));return st({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function a1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(X(92));if(Ou(n)){if(1<n.length)throw Error(X(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ba(n)}}function nk(t,e){var n=ba(e.value),r=ba(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function o1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function rk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function by(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?rk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var sd,ik=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(sd=sd||document.createElement("div"),sd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=sd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ic(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Du={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yL=["Webkit","ms","Moz","O"];Object.keys(Du).forEach(function(t){yL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Du[e]=Du[t]})});function ak(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Du.hasOwnProperty(t)&&Du[t]?(""+e).trim():e+"px"}function ok(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ak(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var _L=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wy(t,e){if(e){if(_L[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(X(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(X(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(X(61))}if(e.style!=null&&typeof e.style!="object")throw Error(X(62))}}function xy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ey=null;function mb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sy=null,ys=null,_s=null;function s1(t){if(t=gf(t)){if(typeof Sy!="function")throw Error(X(280));var e=t.stateNode;e&&(e=lm(e),Sy(t.stateNode,t.type,e))}}function sk(t){ys?_s?_s.push(t):_s=[t]:ys=t}function lk(){if(ys){var t=ys,e=_s;if(_s=ys=null,s1(t),e)for(t=0;t<e.length;t++)s1(e[t])}}function uk(t,e){return t(e)}function ck(){}var ev=!1;function fk(t,e,n){if(ev)return t(e,n);ev=!0;try{return uk(t,e,n)}finally{ev=!1,(ys!==null||_s!==null)&&(ck(),lk())}}function ac(t,e){var n=t.stateNode;if(n===null)return null;var r=lm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(X(231,e,typeof n));return n}var Ay=!1;if(_i)try{var su={};Object.defineProperty(su,"passive",{get:function(){Ay=!0}}),window.addEventListener("test",su,su),window.removeEventListener("test",su,su)}catch{Ay=!1}function bL(t,e,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Mu=!1,ph=null,mh=!1,Ty=null,wL={onError:function(t){Mu=!0,ph=t}};function xL(t,e,n,r,i,a,o,s,l){Mu=!1,ph=null,bL.apply(wL,arguments)}function EL(t,e,n,r,i,a,o,s,l){if(xL.apply(this,arguments),Mu){if(Mu){var u=ph;Mu=!1,ph=null}else throw Error(X(198));mh||(mh=!0,Ty=u)}}function Io(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function dk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function l1(t){if(Io(t)!==t)throw Error(X(188))}function SL(t){var e=t.alternate;if(!e){if(e=Io(t),e===null)throw Error(X(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return l1(i),t;if(a===r)return l1(i),e;a=a.sibling}throw Error(X(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?t:e}function hk(t){return t=SL(t),t!==null?pk(t):null}function pk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=pk(t);if(e!==null)return e;t=t.sibling}return null}var mk=Vn.unstable_scheduleCallback,u1=Vn.unstable_cancelCallback,AL=Vn.unstable_shouldYield,TL=Vn.unstable_requestPaint,pt=Vn.unstable_now,PL=Vn.unstable_getCurrentPriorityLevel,gb=Vn.unstable_ImmediatePriority,gk=Vn.unstable_UserBlockingPriority,gh=Vn.unstable_NormalPriority,OL=Vn.unstable_LowPriority,vk=Vn.unstable_IdlePriority,im=null,jr=null;function IL(t){if(jr&&typeof jr.onCommitFiberRoot=="function")try{jr.onCommitFiberRoot(im,t,void 0,(t.current.flags&128)===128)}catch{}}var gr=Math.clz32?Math.clz32:NL,kL=Math.log,CL=Math.LN2;function NL(t){return t>>>=0,t===0?32:31-(kL(t)/CL|0)|0}var ld=64,ud=4194304;function Iu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function vh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?r=Iu(s):(a&=o,a!==0&&(r=Iu(a)))}else o=n&~i,o!==0?r=Iu(o):a!==0&&(r=Iu(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-gr(e),i=1<<n,r|=t[n],e&=~i;return r}function jL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $L(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-gr(a),s=1<<o,l=i[o];l===-1?(!(s&n)||s&r)&&(i[o]=jL(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}}function Py(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function yk(){var t=ld;return ld<<=1,!(ld&4194240)&&(ld=64),t}function tv(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function pf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-gr(e),t[e]=n}function RL(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-gr(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function vb(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-gr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Me=0;function _k(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var bk,yb,wk,xk,Ek,Oy=!1,cd=[],oa=null,sa=null,la=null,oc=new Map,sc=new Map,Yi=[],DL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function c1(t,e){switch(t){case"focusin":case"focusout":oa=null;break;case"dragenter":case"dragleave":sa=null;break;case"mouseover":case"mouseout":la=null;break;case"pointerover":case"pointerout":oc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":sc.delete(e.pointerId)}}function lu(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=gf(e),e!==null&&yb(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function ML(t,e,n,r,i){switch(e){case"focusin":return oa=lu(oa,t,e,n,r,i),!0;case"dragenter":return sa=lu(sa,t,e,n,r,i),!0;case"mouseover":return la=lu(la,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return oc.set(a,lu(oc.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,sc.set(a,lu(sc.get(a)||null,t,e,n,r,i)),!0}return!1}function Sk(t){var e=Qa(t.target);if(e!==null){var n=Io(e);if(n!==null){if(e=n.tag,e===13){if(e=dk(n),e!==null){t.blockedOn=e,Ek(t.priority,function(){wk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Iy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ey=r,n.target.dispatchEvent(r),Ey=null}else return e=gf(n),e!==null&&yb(e),t.blockedOn=n,!1;e.shift()}return!0}function f1(t,e,n){Hd(t)&&n.delete(e)}function LL(){Oy=!1,oa!==null&&Hd(oa)&&(oa=null),sa!==null&&Hd(sa)&&(sa=null),la!==null&&Hd(la)&&(la=null),oc.forEach(f1),sc.forEach(f1)}function uu(t,e){t.blockedOn===e&&(t.blockedOn=null,Oy||(Oy=!0,Vn.unstable_scheduleCallback(Vn.unstable_NormalPriority,LL)))}function lc(t){function e(i){return uu(i,t)}if(0<cd.length){uu(cd[0],t);for(var n=1;n<cd.length;n++){var r=cd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(oa!==null&&uu(oa,t),sa!==null&&uu(sa,t),la!==null&&uu(la,t),oc.forEach(e),sc.forEach(e),n=0;n<Yi.length;n++)r=Yi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Yi.length&&(n=Yi[0],n.blockedOn===null);)Sk(n),n.blockedOn===null&&Yi.shift()}var bs=Ni.ReactCurrentBatchConfig,yh=!0;function FL(t,e,n,r){var i=Me,a=bs.transition;bs.transition=null;try{Me=1,_b(t,e,n,r)}finally{Me=i,bs.transition=a}}function VL(t,e,n,r){var i=Me,a=bs.transition;bs.transition=null;try{Me=4,_b(t,e,n,r)}finally{Me=i,bs.transition=a}}function _b(t,e,n,r){if(yh){var i=Iy(t,e,n,r);if(i===null)fv(t,e,r,_h,n),c1(t,r);else if(ML(i,t,e,n,r))r.stopPropagation();else if(c1(t,r),e&4&&-1<DL.indexOf(t)){for(;i!==null;){var a=gf(i);if(a!==null&&bk(a),a=Iy(t,e,n,r),a===null&&fv(t,e,r,_h,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else fv(t,e,r,null,n)}}var _h=null;function Iy(t,e,n,r){if(_h=null,t=mb(r),t=Qa(t),t!==null)if(e=Io(t),e===null)t=null;else if(n=e.tag,n===13){if(t=dk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return _h=t,null}function Ak(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(PL()){case gb:return 1;case gk:return 4;case gh:case OL:return 16;case vk:return 536870912;default:return 16}default:return 16}}var na=null,bb=null,Gd=null;function Tk(){if(Gd)return Gd;var t,e=bb,n=e.length,r,i="value"in na?na.value:na.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[a-r];r++);return Gd=i.slice(t,1<r?1-r:void 0)}function Kd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function fd(){return!0}function d1(){return!1}function Bn(t){function e(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?fd:d1,this.isPropagationStopped=d1,this}return st(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fd)},persist:function(){},isPersistent:fd}),e}var El={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wb=Bn(El),mf=st({},El,{view:0,detail:0}),UL=Bn(mf),nv,rv,cu,am=st({},mf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xb,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cu&&(cu&&t.type==="mousemove"?(nv=t.screenX-cu.screenX,rv=t.screenY-cu.screenY):rv=nv=0,cu=t),nv)},movementY:function(t){return"movementY"in t?t.movementY:rv}}),h1=Bn(am),BL=st({},am,{dataTransfer:0}),zL=Bn(BL),WL=st({},mf,{relatedTarget:0}),iv=Bn(WL),qL=st({},El,{animationName:0,elapsedTime:0,pseudoElement:0}),HL=Bn(qL),GL=st({},El,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),KL=Bn(GL),YL=st({},El,{data:0}),p1=Bn(YL),QL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=JL[t])?!!e[t]:!1}function xb(){return ZL}var eF=st({},mf,{key:function(t){if(t.key){var e=QL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Kd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?XL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xb,charCode:function(t){return t.type==="keypress"?Kd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tF=Bn(eF),nF=st({},am,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),m1=Bn(nF),rF=st({},mf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xb}),iF=Bn(rF),aF=st({},El,{propertyName:0,elapsedTime:0,pseudoElement:0}),oF=Bn(aF),sF=st({},am,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lF=Bn(sF),uF=[9,13,27,32],Eb=_i&&"CompositionEvent"in window,Lu=null;_i&&"documentMode"in document&&(Lu=document.documentMode);var cF=_i&&"TextEvent"in window&&!Lu,Pk=_i&&(!Eb||Lu&&8<Lu&&11>=Lu),g1=" ",v1=!1;function Ok(t,e){switch(t){case"keyup":return uF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ik(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ns=!1;function fF(t,e){switch(t){case"compositionend":return Ik(e);case"keypress":return e.which!==32?null:(v1=!0,g1);case"textInput":return t=e.data,t===g1&&v1?null:t;default:return null}}function dF(t,e){if(ns)return t==="compositionend"||!Eb&&Ok(t,e)?(t=Tk(),Gd=bb=na=null,ns=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Pk&&e.locale!=="ko"?null:e.data;default:return null}}var hF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function y1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hF[t.type]:e==="textarea"}function kk(t,e,n,r){sk(r),e=bh(e,"onChange"),0<e.length&&(n=new wb("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Fu=null,uc=null;function pF(t){Uk(t,0)}function om(t){var e=as(t);if(ek(e))return t}function mF(t,e){if(t==="change")return e}var Ck=!1;if(_i){var av;if(_i){var ov="oninput"in document;if(!ov){var _1=document.createElement("div");_1.setAttribute("oninput","return;"),ov=typeof _1.oninput=="function"}av=ov}else av=!1;Ck=av&&(!document.documentMode||9<document.documentMode)}function b1(){Fu&&(Fu.detachEvent("onpropertychange",Nk),uc=Fu=null)}function Nk(t){if(t.propertyName==="value"&&om(uc)){var e=[];kk(e,uc,t,mb(t)),fk(pF,e)}}function gF(t,e,n){t==="focusin"?(b1(),Fu=e,uc=n,Fu.attachEvent("onpropertychange",Nk)):t==="focusout"&&b1()}function vF(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return om(uc)}function yF(t,e){if(t==="click")return om(e)}function _F(t,e){if(t==="input"||t==="change")return om(e)}function bF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var br=typeof Object.is=="function"?Object.is:bF;function cc(t,e){if(br(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!fy.call(e,i)||!br(t[i],e[i]))return!1}return!0}function w1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function x1(t,e){var n=w1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=w1(n)}}function jk(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?jk(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $k(){for(var t=window,e=hh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=hh(t.document)}return e}function Sb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function wF(t){var e=$k(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&jk(n.ownerDocument.documentElement,n)){if(r!==null&&Sb(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=x1(n,a);var o=x1(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var xF=_i&&"documentMode"in document&&11>=document.documentMode,rs=null,ky=null,Vu=null,Cy=!1;function E1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Cy||rs==null||rs!==hh(r)||(r=rs,"selectionStart"in r&&Sb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Vu&&cc(Vu,r)||(Vu=r,r=bh(ky,"onSelect"),0<r.length&&(e=new wb("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=rs)))}function dd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var is={animationend:dd("Animation","AnimationEnd"),animationiteration:dd("Animation","AnimationIteration"),animationstart:dd("Animation","AnimationStart"),transitionend:dd("Transition","TransitionEnd")},sv={},Rk={};_i&&(Rk=document.createElement("div").style,"AnimationEvent"in window||(delete is.animationend.animation,delete is.animationiteration.animation,delete is.animationstart.animation),"TransitionEvent"in window||delete is.transitionend.transition);function sm(t){if(sv[t])return sv[t];if(!is[t])return t;var e=is[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Rk)return sv[t]=e[n];return t}var Dk=sm("animationend"),Mk=sm("animationiteration"),Lk=sm("animationstart"),Fk=sm("transitionend"),Vk=new Map,S1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Aa(t,e){Vk.set(t,e),Oo(e,[t])}for(var lv=0;lv<S1.length;lv++){var uv=S1[lv],EF=uv.toLowerCase(),SF=uv[0].toUpperCase()+uv.slice(1);Aa(EF,"on"+SF)}Aa(Dk,"onAnimationEnd");Aa(Mk,"onAnimationIteration");Aa(Lk,"onAnimationStart");Aa("dblclick","onDoubleClick");Aa("focusin","onFocus");Aa("focusout","onBlur");Aa(Fk,"onTransitionEnd");Ns("onMouseEnter",["mouseout","mouseover"]);Ns("onMouseLeave",["mouseout","mouseover"]);Ns("onPointerEnter",["pointerout","pointerover"]);Ns("onPointerLeave",["pointerout","pointerover"]);Oo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Oo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Oo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Oo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Oo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Oo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ku="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AF=new Set("cancel close invalid load scroll toggle".split(" ").concat(ku));function A1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,EL(r,e,void 0,t),t.currentTarget=null}function Uk(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;A1(i,s,u),a=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;A1(i,s,u),a=l}}}if(mh)throw t=Ty,mh=!1,Ty=null,t}function Qe(t,e){var n=e[Dy];n===void 0&&(n=e[Dy]=new Set);var r=t+"__bubble";n.has(r)||(Bk(e,t,2,!1),n.add(r))}function cv(t,e,n){var r=0;e&&(r|=4),Bk(n,t,r,e)}var hd="_reactListening"+Math.random().toString(36).slice(2);function fc(t){if(!t[hd]){t[hd]=!0,YI.forEach(function(n){n!=="selectionchange"&&(AF.has(n)||cv(n,!1,t),cv(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[hd]||(e[hd]=!0,cv("selectionchange",!1,e))}}function Bk(t,e,n,r){switch(Ak(e)){case 1:var i=FL;break;case 4:i=VL;break;default:i=_b}n=i.bind(null,e,n,t),i=void 0,!Ay||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function fv(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=Qa(s),o===null)return;if(l=o.tag,l===5||l===6){r=a=o;continue e}s=s.parentNode}}r=r.return}fk(function(){var u=a,c=mb(n),f=[];e:{var h=Vk.get(t);if(h!==void 0){var p=wb,m=t;switch(t){case"keypress":if(Kd(n)===0)break e;case"keydown":case"keyup":p=tF;break;case"focusin":m="focus",p=iv;break;case"focusout":m="blur",p=iv;break;case"beforeblur":case"afterblur":p=iv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=h1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=zL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=iF;break;case Dk:case Mk:case Lk:p=HL;break;case Fk:p=oF;break;case"scroll":p=UL;break;case"wheel":p=lF;break;case"copy":case"cut":case"paste":p=KL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=m1}var g=(e&4)!==0,v=!g&&t==="scroll",_=g?h!==null?h+"Capture":null:h;g=[];for(var y=u,w;y!==null;){w=y;var I=w.stateNode;if(w.tag===5&&I!==null&&(w=I,_!==null&&(I=ac(y,_),I!=null&&g.push(dc(y,I,w)))),v)break;y=y.return}0<g.length&&(h=new p(h,m,null,n,c),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==Ey&&(m=n.relatedTarget||n.fromElement)&&(Qa(m)||m[bi]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?Qa(m):null,m!==null&&(v=Io(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(g=h1,I="onMouseLeave",_="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=m1,I="onPointerLeave",_="onPointerEnter",y="pointer"),v=p==null?h:as(p),w=m==null?h:as(m),h=new g(I,y+"leave",p,n,c),h.target=v,h.relatedTarget=w,I=null,Qa(c)===u&&(g=new g(_,y+"enter",m,n,c),g.target=w,g.relatedTarget=v,I=g),v=I,p&&m)t:{for(g=p,_=m,y=0,w=g;w;w=Bo(w))y++;for(w=0,I=_;I;I=Bo(I))w++;for(;0<y-w;)g=Bo(g),y--;for(;0<w-y;)_=Bo(_),w--;for(;y--;){if(g===_||_!==null&&g===_.alternate)break t;g=Bo(g),_=Bo(_)}g=null}else g=null;p!==null&&T1(f,h,p,g,!1),m!==null&&v!==null&&T1(f,v,m,g,!0)}}e:{if(h=u?as(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var E=mF;else if(y1(h))if(Ck)E=_F;else{E=vF;var P=gF}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=yF);if(E&&(E=E(t,u))){kk(f,E,n,c);break e}P&&P(t,h,u),t==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&yy(h,"number",h.value)}switch(P=u?as(u):window,t){case"focusin":(y1(P)||P.contentEditable==="true")&&(rs=P,ky=u,Vu=null);break;case"focusout":Vu=ky=rs=null;break;case"mousedown":Cy=!0;break;case"contextmenu":case"mouseup":case"dragend":Cy=!1,E1(f,n,c);break;case"selectionchange":if(xF)break;case"keydown":case"keyup":E1(f,n,c)}var S;if(Eb)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else ns?Ok(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(Pk&&n.locale!=="ko"&&(ns||A!=="onCompositionStart"?A==="onCompositionEnd"&&ns&&(S=Tk()):(na=c,bb="value"in na?na.value:na.textContent,ns=!0)),P=bh(u,A),0<P.length&&(A=new p1(A,t,null,n,c),f.push({event:A,listeners:P}),S?A.data=S:(S=Ik(n),S!==null&&(A.data=S)))),(S=cF?fF(t,n):dF(t,n))&&(u=bh(u,"onBeforeInput"),0<u.length&&(c=new p1("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=S))}Uk(f,e)})}function dc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function bh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=ac(t,n),a!=null&&r.unshift(dc(t,a,i)),a=ac(t,e),a!=null&&r.push(dc(t,a,i))),t=t.return}return r}function Bo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function T1(t,e,n,r,i){for(var a=e._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=ac(n,a),l!=null&&o.unshift(dc(n,l,s))):i||(l=ac(n,a),l!=null&&o.push(dc(n,l,s)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var TF=/\r\n?/g,PF=/\u0000|\uFFFD/g;function P1(t){return(typeof t=="string"?t:""+t).replace(TF,`
`).replace(PF,"")}function pd(t,e,n){if(e=P1(e),P1(t)!==e&&n)throw Error(X(425))}function wh(){}var Ny=null,jy=null;function $y(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ry=typeof setTimeout=="function"?setTimeout:void 0,OF=typeof clearTimeout=="function"?clearTimeout:void 0,O1=typeof Promise=="function"?Promise:void 0,IF=typeof queueMicrotask=="function"?queueMicrotask:typeof O1<"u"?function(t){return O1.resolve(null).then(t).catch(kF)}:Ry;function kF(t){setTimeout(function(){throw t})}function dv(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),lc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);lc(e)}function ua(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function I1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Sl=Math.random().toString(36).slice(2),Or="__reactFiber$"+Sl,hc="__reactProps$"+Sl,bi="__reactContainer$"+Sl,Dy="__reactEvents$"+Sl,CF="__reactListeners$"+Sl,NF="__reactHandles$"+Sl;function Qa(t){var e=t[Or];if(e)return e;for(var n=t.parentNode;n;){if(e=n[bi]||n[Or]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=I1(t);t!==null;){if(n=t[Or])return n;t=I1(t)}return e}t=n,n=t.parentNode}return null}function gf(t){return t=t[Or]||t[bi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function as(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(X(33))}function lm(t){return t[hc]||null}var My=[],os=-1;function Ta(t){return{current:t}}function et(t){0>os||(t.current=My[os],My[os]=null,os--)}function Ge(t,e){os++,My[os]=t.current,t.current=e}var wa={},sn=Ta(wa),En=Ta(!1),fo=wa;function js(t,e){var n=t.type.contextTypes;if(!n)return wa;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Sn(t){return t=t.childContextTypes,t!=null}function xh(){et(En),et(sn)}function k1(t,e,n){if(sn.current!==wa)throw Error(X(168));Ge(sn,e),Ge(En,n)}function zk(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(X(108,gL(t)||"Unknown",i));return st({},n,r)}function Eh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||wa,fo=sn.current,Ge(sn,t),Ge(En,En.current),!0}function C1(t,e,n){var r=t.stateNode;if(!r)throw Error(X(169));n?(t=zk(t,e,fo),r.__reactInternalMemoizedMergedChildContext=t,et(En),et(sn),Ge(sn,t)):et(En),Ge(En,n)}var ri=null,um=!1,hv=!1;function Wk(t){ri===null?ri=[t]:ri.push(t)}function jF(t){um=!0,Wk(t)}function Pa(){if(!hv&&ri!==null){hv=!0;var t=0,e=Me;try{var n=ri;for(Me=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ri=null,um=!1}catch(i){throw ri!==null&&(ri=ri.slice(t+1)),mk(gb,Pa),i}finally{Me=e,hv=!1}}return null}var ss=[],ls=0,Sh=null,Ah=0,Kn=[],Yn=0,ho=null,ai=1,oi="";function Ba(t,e){ss[ls++]=Ah,ss[ls++]=Sh,Sh=t,Ah=e}function qk(t,e,n){Kn[Yn++]=ai,Kn[Yn++]=oi,Kn[Yn++]=ho,ho=t;var r=ai;t=oi;var i=32-gr(r)-1;r&=~(1<<i),n+=1;var a=32-gr(e)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ai=1<<32-gr(e)+i|n<<i|r,oi=a+t}else ai=1<<a|n<<i|r,oi=t}function Ab(t){t.return!==null&&(Ba(t,1),qk(t,1,0))}function Tb(t){for(;t===Sh;)Sh=ss[--ls],ss[ls]=null,Ah=ss[--ls],ss[ls]=null;for(;t===ho;)ho=Kn[--Yn],Kn[Yn]=null,oi=Kn[--Yn],Kn[Yn]=null,ai=Kn[--Yn],Kn[Yn]=null}var Mn=null,Dn=null,tt=!1,hr=null;function Hk(t,e){var n=Jn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function N1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Mn=t,Dn=ua(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Mn=t,Dn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ho!==null?{id:ai,overflow:oi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Jn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Mn=t,Dn=null,!0):!1;default:return!1}}function Ly(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Fy(t){if(tt){var e=Dn;if(e){var n=e;if(!N1(t,e)){if(Ly(t))throw Error(X(418));e=ua(n.nextSibling);var r=Mn;e&&N1(t,e)?Hk(r,n):(t.flags=t.flags&-4097|2,tt=!1,Mn=t)}}else{if(Ly(t))throw Error(X(418));t.flags=t.flags&-4097|2,tt=!1,Mn=t}}}function j1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Mn=t}function md(t){if(t!==Mn)return!1;if(!tt)return j1(t),tt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!$y(t.type,t.memoizedProps)),e&&(e=Dn)){if(Ly(t))throw Gk(),Error(X(418));for(;e;)Hk(t,e),e=ua(e.nextSibling)}if(j1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Dn=ua(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Dn=null}}else Dn=Mn?ua(t.stateNode.nextSibling):null;return!0}function Gk(){for(var t=Dn;t;)t=ua(t.nextSibling)}function $s(){Dn=Mn=null,tt=!1}function Pb(t){hr===null?hr=[t]:hr.push(t)}var $F=Ni.ReactCurrentBatchConfig;function fu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,t))}return t}function gd(t,e){throw t=Object.prototype.toString.call(e),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function $1(t){var e=t._init;return e(t._payload)}function Kk(t){function e(_,y){if(t){var w=_.deletions;w===null?(_.deletions=[y],_.flags|=16):w.push(y)}}function n(_,y){if(!t)return null;for(;y!==null;)e(_,y),y=y.sibling;return null}function r(_,y){for(_=new Map;y!==null;)y.key!==null?_.set(y.key,y):_.set(y.index,y),y=y.sibling;return _}function i(_,y){return _=ha(_,y),_.index=0,_.sibling=null,_}function a(_,y,w){return _.index=w,t?(w=_.alternate,w!==null?(w=w.index,w<y?(_.flags|=2,y):w):(_.flags|=2,y)):(_.flags|=1048576,y)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function s(_,y,w,I){return y===null||y.tag!==6?(y=bv(w,_.mode,I),y.return=_,y):(y=i(y,w),y.return=_,y)}function l(_,y,w,I){var E=w.type;return E===ts?c(_,y,w.props.children,I,w.key):y!==null&&(y.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Hi&&$1(E)===y.type)?(I=i(y,w.props),I.ref=fu(_,y,w),I.return=_,I):(I=th(w.type,w.key,w.props,null,_.mode,I),I.ref=fu(_,y,w),I.return=_,I)}function u(_,y,w,I){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=wv(w,_.mode,I),y.return=_,y):(y=i(y,w.children||[]),y.return=_,y)}function c(_,y,w,I,E){return y===null||y.tag!==7?(y=oo(w,_.mode,I,E),y.return=_,y):(y=i(y,w),y.return=_,y)}function f(_,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=bv(""+y,_.mode,w),y.return=_,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ad:return w=th(y.type,y.key,y.props,null,_.mode,w),w.ref=fu(_,null,y),w.return=_,w;case es:return y=wv(y,_.mode,w),y.return=_,y;case Hi:var I=y._init;return f(_,I(y._payload),w)}if(Ou(y)||ou(y))return y=oo(y,_.mode,w,null),y.return=_,y;gd(_,y)}return null}function h(_,y,w,I){var E=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return E!==null?null:s(_,y,""+w,I);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ad:return w.key===E?l(_,y,w,I):null;case es:return w.key===E?u(_,y,w,I):null;case Hi:return E=w._init,h(_,y,E(w._payload),I)}if(Ou(w)||ou(w))return E!==null?null:c(_,y,w,I,null);gd(_,w)}return null}function p(_,y,w,I,E){if(typeof I=="string"&&I!==""||typeof I=="number")return _=_.get(w)||null,s(y,_,""+I,E);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case ad:return _=_.get(I.key===null?w:I.key)||null,l(y,_,I,E);case es:return _=_.get(I.key===null?w:I.key)||null,u(y,_,I,E);case Hi:var P=I._init;return p(_,y,w,P(I._payload),E)}if(Ou(I)||ou(I))return _=_.get(w)||null,c(y,_,I,E,null);gd(y,I)}return null}function m(_,y,w,I){for(var E=null,P=null,S=y,A=y=0,T=null;S!==null&&A<w.length;A++){S.index>A?(T=S,S=null):T=S.sibling;var k=h(_,S,w[A],I);if(k===null){S===null&&(S=T);break}t&&S&&k.alternate===null&&e(_,S),y=a(k,y,A),P===null?E=k:P.sibling=k,P=k,S=T}if(A===w.length)return n(_,S),tt&&Ba(_,A),E;if(S===null){for(;A<w.length;A++)S=f(_,w[A],I),S!==null&&(y=a(S,y,A),P===null?E=S:P.sibling=S,P=S);return tt&&Ba(_,A),E}for(S=r(_,S);A<w.length;A++)T=p(S,_,A,w[A],I),T!==null&&(t&&T.alternate!==null&&S.delete(T.key===null?A:T.key),y=a(T,y,A),P===null?E=T:P.sibling=T,P=T);return t&&S.forEach(function(C){return e(_,C)}),tt&&Ba(_,A),E}function g(_,y,w,I){var E=ou(w);if(typeof E!="function")throw Error(X(150));if(w=E.call(w),w==null)throw Error(X(151));for(var P=E=null,S=y,A=y=0,T=null,k=w.next();S!==null&&!k.done;A++,k=w.next()){S.index>A?(T=S,S=null):T=S.sibling;var C=h(_,S,k.value,I);if(C===null){S===null&&(S=T);break}t&&S&&C.alternate===null&&e(_,S),y=a(C,y,A),P===null?E=C:P.sibling=C,P=C,S=T}if(k.done)return n(_,S),tt&&Ba(_,A),E;if(S===null){for(;!k.done;A++,k=w.next())k=f(_,k.value,I),k!==null&&(y=a(k,y,A),P===null?E=k:P.sibling=k,P=k);return tt&&Ba(_,A),E}for(S=r(_,S);!k.done;A++,k=w.next())k=p(S,_,A,k.value,I),k!==null&&(t&&k.alternate!==null&&S.delete(k.key===null?A:k.key),y=a(k,y,A),P===null?E=k:P.sibling=k,P=k);return t&&S.forEach(function(j){return e(_,j)}),tt&&Ba(_,A),E}function v(_,y,w,I){if(typeof w=="object"&&w!==null&&w.type===ts&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case ad:e:{for(var E=w.key,P=y;P!==null;){if(P.key===E){if(E=w.type,E===ts){if(P.tag===7){n(_,P.sibling),y=i(P,w.props.children),y.return=_,_=y;break e}}else if(P.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Hi&&$1(E)===P.type){n(_,P.sibling),y=i(P,w.props),y.ref=fu(_,P,w),y.return=_,_=y;break e}n(_,P);break}else e(_,P);P=P.sibling}w.type===ts?(y=oo(w.props.children,_.mode,I,w.key),y.return=_,_=y):(I=th(w.type,w.key,w.props,null,_.mode,I),I.ref=fu(_,y,w),I.return=_,_=I)}return o(_);case es:e:{for(P=w.key;y!==null;){if(y.key===P)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(_,y.sibling),y=i(y,w.children||[]),y.return=_,_=y;break e}else{n(_,y);break}else e(_,y);y=y.sibling}y=wv(w,_.mode,I),y.return=_,_=y}return o(_);case Hi:return P=w._init,v(_,y,P(w._payload),I)}if(Ou(w))return m(_,y,w,I);if(ou(w))return g(_,y,w,I);gd(_,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(_,y.sibling),y=i(y,w),y.return=_,_=y):(n(_,y),y=bv(w,_.mode,I),y.return=_,_=y),o(_)):n(_,y)}return v}var Rs=Kk(!0),Yk=Kk(!1),Th=Ta(null),Ph=null,us=null,Ob=null;function Ib(){Ob=us=Ph=null}function kb(t){var e=Th.current;et(Th),t._currentValue=e}function Vy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ws(t,e){Ph=t,Ob=us=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(wn=!0),t.firstContext=null)}function tr(t){var e=t._currentValue;if(Ob!==t)if(t={context:t,memoizedValue:e,next:null},us===null){if(Ph===null)throw Error(X(308));us=t,Ph.dependencies={lanes:0,firstContext:t}}else us=us.next=t;return e}var Xa=null;function Cb(t){Xa===null?Xa=[t]:Xa.push(t)}function Qk(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Cb(e)):(n.next=i.next,i.next=n),e.interleaved=n,wi(t,r)}function wi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Gi=!1;function Nb(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ca(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Pe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,wi(t,n)}return i=r.interleaved,i===null?(e.next=e,Cb(r)):(e.next=i.next,i.next=e),r.interleaved=e,wi(t,n)}function Yd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,vb(t,n)}}function R1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Oh(t,e,n,r){var i=t.updateQueue;Gi=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==o&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;o=0,c=u=l=null,s=a;do{var h=s.lane,p=s.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=t,g=s;switch(h=e,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=st({},f,h);break e;case 2:Gi=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);mo|=o,t.lanes=o,t.memoizedState=f}}function D1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(X(191,i));i.call(r)}}}var vf={},$r=Ta(vf),pc=Ta(vf),mc=Ta(vf);function Ja(t){if(t===vf)throw Error(X(174));return t}function jb(t,e){switch(Ge(mc,e),Ge(pc,t),Ge($r,vf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:by(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=by(e,t)}et($r),Ge($r,e)}function Ds(){et($r),et(pc),et(mc)}function Jk(t){Ja(mc.current);var e=Ja($r.current),n=by(e,t.type);e!==n&&(Ge(pc,t),Ge($r,n))}function $b(t){pc.current===t&&(et($r),et(pc))}var at=Ta(0);function Ih(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pv=[];function Rb(){for(var t=0;t<pv.length;t++)pv[t]._workInProgressVersionPrimary=null;pv.length=0}var Qd=Ni.ReactCurrentDispatcher,mv=Ni.ReactCurrentBatchConfig,po=0,ot=null,Et=null,Nt=null,kh=!1,Uu=!1,gc=0,RF=0;function Jt(){throw Error(X(321))}function Db(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!br(t[n],e[n]))return!1;return!0}function Mb(t,e,n,r,i,a){if(po=a,ot=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Qd.current=t===null||t.memoizedState===null?FF:VF,t=n(r,i),Uu){a=0;do{if(Uu=!1,gc=0,25<=a)throw Error(X(301));a+=1,Nt=Et=null,e.updateQueue=null,Qd.current=UF,t=n(r,i)}while(Uu)}if(Qd.current=Ch,e=Et!==null&&Et.next!==null,po=0,Nt=Et=ot=null,kh=!1,e)throw Error(X(300));return t}function Lb(){var t=gc!==0;return gc=0,t}function Pr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?ot.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function nr(){if(Et===null){var t=ot.alternate;t=t!==null?t.memoizedState:null}else t=Et.next;var e=Nt===null?ot.memoizedState:Nt.next;if(e!==null)Nt=e,Et=t;else{if(t===null)throw Error(X(310));Et=t,t={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},Nt===null?ot.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function vc(t,e){return typeof e=="function"?e(t):e}function gv(t){var e=nr(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=Et,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var s=o=null,l=null,u=a;do{var c=u.lane;if((po&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,o=r):l=l.next=f,ot.lanes|=c,mo|=c}u=u.next}while(u!==null&&u!==a);l===null?o=r:l.next=s,br(r,e.memoizedState)||(wn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,ot.lanes|=a,mo|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function vv(t){var e=nr(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);br(a,e.memoizedState)||(wn=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function Zk(){}function eC(t,e){var n=ot,r=nr(),i=e(),a=!br(r.memoizedState,i);if(a&&(r.memoizedState=i,wn=!0),r=r.queue,Fb(rC.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||Nt!==null&&Nt.memoizedState.tag&1){if(n.flags|=2048,yc(9,nC.bind(null,n,r,i,e),void 0,null),Rt===null)throw Error(X(349));po&30||tC(n,e,i)}return i}function tC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function nC(t,e,n,r){e.value=n,e.getSnapshot=r,iC(e)&&aC(t)}function rC(t,e,n){return n(function(){iC(e)&&aC(t)})}function iC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!br(t,n)}catch{return!0}}function aC(t){var e=wi(t,1);e!==null&&vr(e,t,1,-1)}function M1(t){var e=Pr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vc,lastRenderedState:t},e.queue=t,t=t.dispatch=LF.bind(null,ot,t),[e.memoizedState,t]}function yc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function oC(){return nr().memoizedState}function Xd(t,e,n,r){var i=Pr();ot.flags|=t,i.memoizedState=yc(1|e,n,void 0,r===void 0?null:r)}function cm(t,e,n,r){var i=nr();r=r===void 0?null:r;var a=void 0;if(Et!==null){var o=Et.memoizedState;if(a=o.destroy,r!==null&&Db(r,o.deps)){i.memoizedState=yc(e,n,a,r);return}}ot.flags|=t,i.memoizedState=yc(1|e,n,a,r)}function L1(t,e){return Xd(8390656,8,t,e)}function Fb(t,e){return cm(2048,8,t,e)}function sC(t,e){return cm(4,2,t,e)}function lC(t,e){return cm(4,4,t,e)}function uC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function cC(t,e,n){return n=n!=null?n.concat([t]):null,cm(4,4,uC.bind(null,e,t),n)}function Vb(){}function fC(t,e){var n=nr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Db(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function dC(t,e){var n=nr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Db(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function hC(t,e,n){return po&21?(br(n,e)||(n=yk(),ot.lanes|=n,mo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,wn=!0),t.memoizedState=n)}function DF(t,e){var n=Me;Me=n!==0&&4>n?n:4,t(!0);var r=mv.transition;mv.transition={};try{t(!1),e()}finally{Me=n,mv.transition=r}}function pC(){return nr().memoizedState}function MF(t,e,n){var r=da(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},mC(t))gC(e,n);else if(n=Qk(t,e,n,r),n!==null){var i=mn();vr(n,t,r,i),vC(n,e,r)}}function LF(t,e,n){var r=da(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(mC(t))gC(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,br(s,o)){var l=e.interleaved;l===null?(i.next=i,Cb(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Qk(t,e,i,r),n!==null&&(i=mn(),vr(n,t,r,i),vC(n,e,r))}}function mC(t){var e=t.alternate;return t===ot||e!==null&&e===ot}function gC(t,e){Uu=kh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function vC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,vb(t,n)}}var Ch={readContext:tr,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useInsertionEffect:Jt,useLayoutEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useMutableSource:Jt,useSyncExternalStore:Jt,useId:Jt,unstable_isNewReconciler:!1},FF={readContext:tr,useCallback:function(t,e){return Pr().memoizedState=[t,e===void 0?null:e],t},useContext:tr,useEffect:L1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Xd(4194308,4,uC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Xd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Xd(4,2,t,e)},useMemo:function(t,e){var n=Pr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Pr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=MF.bind(null,ot,t),[r.memoizedState,t]},useRef:function(t){var e=Pr();return t={current:t},e.memoizedState=t},useState:M1,useDebugValue:Vb,useDeferredValue:function(t){return Pr().memoizedState=t},useTransition:function(){var t=M1(!1),e=t[0];return t=DF.bind(null,t[1]),Pr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ot,i=Pr();if(tt){if(n===void 0)throw Error(X(407));n=n()}else{if(n=e(),Rt===null)throw Error(X(349));po&30||tC(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,L1(rC.bind(null,r,a,t),[t]),r.flags|=2048,yc(9,nC.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=Pr(),e=Rt.identifierPrefix;if(tt){var n=oi,r=ai;n=(r&~(1<<32-gr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=gc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=RF++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},VF={readContext:tr,useCallback:fC,useContext:tr,useEffect:Fb,useImperativeHandle:cC,useInsertionEffect:sC,useLayoutEffect:lC,useMemo:dC,useReducer:gv,useRef:oC,useState:function(){return gv(vc)},useDebugValue:Vb,useDeferredValue:function(t){var e=nr();return hC(e,Et.memoizedState,t)},useTransition:function(){var t=gv(vc)[0],e=nr().memoizedState;return[t,e]},useMutableSource:Zk,useSyncExternalStore:eC,useId:pC,unstable_isNewReconciler:!1},UF={readContext:tr,useCallback:fC,useContext:tr,useEffect:Fb,useImperativeHandle:cC,useInsertionEffect:sC,useLayoutEffect:lC,useMemo:dC,useReducer:vv,useRef:oC,useState:function(){return vv(vc)},useDebugValue:Vb,useDeferredValue:function(t){var e=nr();return Et===null?e.memoizedState=t:hC(e,Et.memoizedState,t)},useTransition:function(){var t=vv(vc)[0],e=nr().memoizedState;return[t,e]},useMutableSource:Zk,useSyncExternalStore:eC,useId:pC,unstable_isNewReconciler:!1};function ur(t,e){if(t&&t.defaultProps){e=st({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Uy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:st({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var fm={isMounted:function(t){return(t=t._reactInternals)?Io(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=mn(),i=da(t),a=pi(r,i);a.payload=e,n!=null&&(a.callback=n),e=ca(t,a,i),e!==null&&(vr(e,t,i,r),Yd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=mn(),i=da(t),a=pi(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=ca(t,a,i),e!==null&&(vr(e,t,i,r),Yd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=mn(),r=da(t),i=pi(n,r);i.tag=2,e!=null&&(i.callback=e),e=ca(t,i,r),e!==null&&(vr(e,t,r,n),Yd(e,t,r))}};function F1(t,e,n,r,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!cc(n,r)||!cc(i,a):!0}function yC(t,e,n){var r=!1,i=wa,a=e.contextType;return typeof a=="object"&&a!==null?a=tr(a):(i=Sn(e)?fo:sn.current,r=e.contextTypes,a=(r=r!=null)?js(t,i):wa),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=fm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function V1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&fm.enqueueReplaceState(e,e.state,null)}function By(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Nb(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=tr(a):(a=Sn(e)?fo:sn.current,i.context=js(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Uy(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&fm.enqueueReplaceState(i,i.state,null),Oh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ms(t,e){try{var n="",r=e;do n+=mL(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function yv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function zy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var BF=typeof WeakMap=="function"?WeakMap:Map;function _C(t,e,n){n=pi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){jh||(jh=!0,Zy=r),zy(t,e)},n}function bC(t,e,n){n=pi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){zy(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){zy(t,e),typeof r!="function"&&(fa===null?fa=new Set([this]):fa.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function U1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new BF;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=nV.bind(null,t,e,n),e.then(t,t))}function B1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function z1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=pi(-1,1),e.tag=2,ca(n,e,1))),n.lanes|=1),t)}var zF=Ni.ReactCurrentOwner,wn=!1;function fn(t,e,n,r){e.child=t===null?Yk(e,null,n,r):Rs(e,t.child,n,r)}function W1(t,e,n,r,i){n=n.render;var a=e.ref;return ws(e,i),r=Mb(t,e,n,r,a,i),n=Lb(),t!==null&&!wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xi(t,e,i)):(tt&&n&&Ab(e),e.flags|=1,fn(t,e,r,i),e.child)}function q1(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!Kb(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,wC(t,e,a,r,i)):(t=th(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:cc,n(o,r)&&t.ref===e.ref)return xi(t,e,i)}return e.flags|=1,t=ha(a,r),t.ref=e.ref,t.return=e,e.child=t}function wC(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(cc(a,r)&&t.ref===e.ref)if(wn=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(wn=!0);else return e.lanes=t.lanes,xi(t,e,i)}return Wy(t,e,n,r,i)}function xC(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(fs,Nn),Nn|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ge(fs,Nn),Nn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Ge(fs,Nn),Nn|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,Ge(fs,Nn),Nn|=r;return fn(t,e,i,n),e.child}function EC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Wy(t,e,n,r,i){var a=Sn(n)?fo:sn.current;return a=js(e,a),ws(e,i),n=Mb(t,e,n,r,a,i),r=Lb(),t!==null&&!wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xi(t,e,i)):(tt&&r&&Ab(e),e.flags|=1,fn(t,e,n,i),e.child)}function H1(t,e,n,r,i){if(Sn(n)){var a=!0;Eh(e)}else a=!1;if(ws(e,i),e.stateNode===null)Jd(t,e),yC(e,n,r),By(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=tr(u):(u=Sn(n)?fo:sn.current,u=js(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==u)&&V1(e,o,r,u),Gi=!1;var h=e.memoizedState;o.state=h,Oh(e,r,o,i),l=e.memoizedState,s!==r||h!==l||En.current||Gi?(typeof c=="function"&&(Uy(e,n,c,r),l=e.memoizedState),(s=Gi||F1(e,n,s,r,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Xk(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:ur(e.type,s),o.props=u,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=tr(l):(l=Sn(n)?fo:sn.current,l=js(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==l)&&V1(e,o,r,l),Gi=!1,h=e.memoizedState,o.state=h,Oh(e,r,o,i);var m=e.memoizedState;s!==f||h!==m||En.current||Gi?(typeof p=="function"&&(Uy(e,n,p,r),m=e.memoizedState),(u=Gi||F1(e,n,u,r,h,m,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return qy(t,e,n,r,a,i)}function qy(t,e,n,r,i,a){EC(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&C1(e,n,!1),xi(t,e,a);r=e.stateNode,zF.current=e;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Rs(e,t.child,null,a),e.child=Rs(e,null,s,a)):fn(t,e,s,a),e.memoizedState=r.state,i&&C1(e,n,!0),e.child}function SC(t){var e=t.stateNode;e.pendingContext?k1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&k1(t,e.context,!1),jb(t,e.containerInfo)}function G1(t,e,n,r,i){return $s(),Pb(i),e.flags|=256,fn(t,e,n,r),e.child}var Hy={dehydrated:null,treeContext:null,retryLane:0};function Gy(t){return{baseLanes:t,cachePool:null,transitions:null}}function AC(t,e,n){var r=e.pendingProps,i=at.current,a=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ge(at,i&1),t===null)return Fy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,a?(r=e.mode,a=e.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=pm(o,r,0,null),t=oo(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Gy(n),e.memoizedState=Hy,t):Ub(e,o));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return WF(t,e,o,r,s,i,n);if(a){a=r.fallback,o=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ha(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=ha(s,a):(a=oo(a,o,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,o=t.child.memoizedState,o=o===null?Gy(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~n,e.memoizedState=Hy,r}return a=t.child,t=a.sibling,r=ha(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ub(t,e){return e=pm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function vd(t,e,n,r){return r!==null&&Pb(r),Rs(e,t.child,null,n),t=Ub(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function WF(t,e,n,r,i,a,o){if(n)return e.flags&256?(e.flags&=-257,r=yv(Error(X(422))),vd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=pm({mode:"visible",children:r.children},i,0,null),a=oo(a,i,o,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&Rs(e,t.child,null,o),e.child.memoizedState=Gy(o),e.memoizedState=Hy,a);if(!(e.mode&1))return vd(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,a=Error(X(419)),r=yv(a,r,void 0),vd(t,e,o,r)}if(s=(o&t.childLanes)!==0,wn||s){if(r=Rt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,wi(t,i),vr(r,t,i,-1))}return Gb(),r=yv(Error(X(421))),vd(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=rV.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Dn=ua(i.nextSibling),Mn=e,tt=!0,hr=null,t!==null&&(Kn[Yn++]=ai,Kn[Yn++]=oi,Kn[Yn++]=ho,ai=t.id,oi=t.overflow,ho=e),e=Ub(e,r.children),e.flags|=4096,e)}function K1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Vy(t.return,e,n)}function _v(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function TC(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(fn(t,e,r.children,n),r=at.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&K1(t,n,e);else if(t.tag===19)K1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ge(at,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ih(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),_v(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ih(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}_v(e,!0,n,null,a);break;case"together":_v(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Jd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function xi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),mo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(X(153));if(e.child!==null){for(t=e.child,n=ha(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ha(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function qF(t,e,n){switch(e.tag){case 3:SC(e),$s();break;case 5:Jk(e);break;case 1:Sn(e.type)&&Eh(e);break;case 4:jb(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ge(Th,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ge(at,at.current&1),e.flags|=128,null):n&e.child.childLanes?AC(t,e,n):(Ge(at,at.current&1),t=xi(t,e,n),t!==null?t.sibling:null);Ge(at,at.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return TC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ge(at,at.current),r)break;return null;case 22:case 23:return e.lanes=0,xC(t,e,n)}return xi(t,e,n)}var PC,Ky,OC,IC;PC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ky=function(){};OC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ja($r.current);var a=null;switch(n){case"input":i=gy(t,i),r=gy(t,r),a=[];break;case"select":i=st({},i,{value:void 0}),r=st({},r,{value:void 0}),a=[];break;case"textarea":i=_y(t,i),r=_y(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=wh)}wy(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(rc.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(rc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Qe("scroll",t),a||s===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};IC=function(t,e,n,r){n!==r&&(e.flags|=4)};function du(t,e){if(!tt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Zt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function HF(t,e,n){var r=e.pendingProps;switch(Tb(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(e),null;case 1:return Sn(e.type)&&xh(),Zt(e),null;case 3:return r=e.stateNode,Ds(),et(En),et(sn),Rb(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(md(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,hr!==null&&(n0(hr),hr=null))),Ky(t,e),Zt(e),null;case 5:$b(e);var i=Ja(mc.current);if(n=e.type,t!==null&&e.stateNode!=null)OC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(X(166));return Zt(e),null}if(t=Ja($r.current),md(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Or]=e,r[hc]=a,t=(e.mode&1)!==0,n){case"dialog":Qe("cancel",r),Qe("close",r);break;case"iframe":case"object":case"embed":Qe("load",r);break;case"video":case"audio":for(i=0;i<ku.length;i++)Qe(ku[i],r);break;case"source":Qe("error",r);break;case"img":case"image":case"link":Qe("error",r),Qe("load",r);break;case"details":Qe("toggle",r);break;case"input":r1(r,a),Qe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Qe("invalid",r);break;case"textarea":a1(r,a),Qe("invalid",r)}wy(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?r.textContent!==s&&(a.suppressHydrationWarning!==!0&&pd(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&pd(r.textContent,s,t),i=["children",""+s]):rc.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&Qe("scroll",r)}switch(n){case"input":od(r),i1(r,a,!0);break;case"textarea":od(r),o1(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=wh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=rk(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Or]=e,t[hc]=r,PC(t,e,!1,!1),e.stateNode=t;e:{switch(o=xy(n,r),n){case"dialog":Qe("cancel",t),Qe("close",t),i=r;break;case"iframe":case"object":case"embed":Qe("load",t),i=r;break;case"video":case"audio":for(i=0;i<ku.length;i++)Qe(ku[i],t);i=r;break;case"source":Qe("error",t),i=r;break;case"img":case"image":case"link":Qe("error",t),Qe("load",t),i=r;break;case"details":Qe("toggle",t),i=r;break;case"input":r1(t,r),i=gy(t,r),Qe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=st({},r,{value:void 0}),Qe("invalid",t);break;case"textarea":a1(t,r),i=_y(t,r),Qe("invalid",t);break;default:i=r}wy(n,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?ok(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ik(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ic(t,l):typeof l=="number"&&ic(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(rc.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Qe("scroll",t):l!=null&&fb(t,a,l,o))}switch(n){case"input":od(t),i1(t,r,!1);break;case"textarea":od(t),o1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ba(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?vs(t,!!r.multiple,a,!1):r.defaultValue!=null&&vs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=wh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Zt(e),null;case 6:if(t&&e.stateNode!=null)IC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(X(166));if(n=Ja(mc.current),Ja($r.current),md(e)){if(r=e.stateNode,n=e.memoizedProps,r[Or]=e,(a=r.nodeValue!==n)&&(t=Mn,t!==null))switch(t.tag){case 3:pd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&pd(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Or]=e,e.stateNode=r}return Zt(e),null;case 13:if(et(at),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(tt&&Dn!==null&&e.mode&1&&!(e.flags&128))Gk(),$s(),e.flags|=98560,a=!1;else if(a=md(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(X(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(X(317));a[Or]=e}else $s(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Zt(e),a=!1}else hr!==null&&(n0(hr),hr=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||at.current&1?At===0&&(At=3):Gb())),e.updateQueue!==null&&(e.flags|=4),Zt(e),null);case 4:return Ds(),Ky(t,e),t===null&&fc(e.stateNode.containerInfo),Zt(e),null;case 10:return kb(e.type._context),Zt(e),null;case 17:return Sn(e.type)&&xh(),Zt(e),null;case 19:if(et(at),a=e.memoizedState,a===null)return Zt(e),null;if(r=(e.flags&128)!==0,o=a.rendering,o===null)if(r)du(a,!1);else{if(At!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ih(t),o!==null){for(e.flags|=128,du(a,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ge(at,at.current&1|2),e.child}t=t.sibling}a.tail!==null&&pt()>Ls&&(e.flags|=128,r=!0,du(a,!1),e.lanes=4194304)}else{if(!r)if(t=Ih(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),du(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!tt)return Zt(e),null}else 2*pt()-a.renderingStartTime>Ls&&n!==1073741824&&(e.flags|=128,r=!0,du(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(n=a.last,n!==null?n.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=pt(),e.sibling=null,n=at.current,Ge(at,r?n&1|2:n&1),e):(Zt(e),null);case 22:case 23:return Hb(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Nn&1073741824&&(Zt(e),e.subtreeFlags&6&&(e.flags|=8192)):Zt(e),null;case 24:return null;case 25:return null}throw Error(X(156,e.tag))}function GF(t,e){switch(Tb(e),e.tag){case 1:return Sn(e.type)&&xh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ds(),et(En),et(sn),Rb(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $b(e),null;case 13:if(et(at),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(X(340));$s()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return et(at),null;case 4:return Ds(),null;case 10:return kb(e.type._context),null;case 22:case 23:return Hb(),null;case 24:return null;default:return null}}var yd=!1,rn=!1,KF=typeof WeakSet=="function"?WeakSet:Set,re=null;function cs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ft(t,e,r)}else n.current=null}function Yy(t,e,n){try{n()}catch(r){ft(t,e,r)}}var Y1=!1;function YF(t,e){if(Ny=yh,t=$k(),Sb(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,u=0,c=0,f=t,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(s=o+i),f!==a||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++u===i&&(s=o),h===a&&++c===r&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(jy={focusedElem:t,selectionRange:n},yh=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,v=m.memoizedState,_=e.stateNode,y=_.getSnapshotBeforeUpdate(e.elementType===e.type?g:ur(e.type,g),v);_.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(I){ft(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return m=Y1,Y1=!1,m}function Bu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&Yy(e,n,a)}i=i.next}while(i!==r)}}function dm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Qy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function kC(t){var e=t.alternate;e!==null&&(t.alternate=null,kC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Or],delete e[hc],delete e[Dy],delete e[CF],delete e[NF])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function CC(t){return t.tag===5||t.tag===3||t.tag===4}function Q1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||CC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=wh));else if(r!==4&&(t=t.child,t!==null))for(Xy(t,e,n),t=t.sibling;t!==null;)Xy(t,e,n),t=t.sibling}function Jy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Jy(t,e,n),t=t.sibling;t!==null;)Jy(t,e,n),t=t.sibling}var Vt=null,cr=!1;function Ui(t,e,n){for(n=n.child;n!==null;)NC(t,e,n),n=n.sibling}function NC(t,e,n){if(jr&&typeof jr.onCommitFiberUnmount=="function")try{jr.onCommitFiberUnmount(im,n)}catch{}switch(n.tag){case 5:rn||cs(n,e);case 6:var r=Vt,i=cr;Vt=null,Ui(t,e,n),Vt=r,cr=i,Vt!==null&&(cr?(t=Vt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Vt.removeChild(n.stateNode));break;case 18:Vt!==null&&(cr?(t=Vt,n=n.stateNode,t.nodeType===8?dv(t.parentNode,n):t.nodeType===1&&dv(t,n),lc(t)):dv(Vt,n.stateNode));break;case 4:r=Vt,i=cr,Vt=n.stateNode.containerInfo,cr=!0,Ui(t,e,n),Vt=r,cr=i;break;case 0:case 11:case 14:case 15:if(!rn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Yy(n,e,o),i=i.next}while(i!==r)}Ui(t,e,n);break;case 1:if(!rn&&(cs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){ft(n,e,s)}Ui(t,e,n);break;case 21:Ui(t,e,n);break;case 22:n.mode&1?(rn=(r=rn)||n.memoizedState!==null,Ui(t,e,n),rn=r):Ui(t,e,n);break;default:Ui(t,e,n)}}function X1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new KF),e.forEach(function(r){var i=iV.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function sr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:Vt=s.stateNode,cr=!1;break e;case 3:Vt=s.stateNode.containerInfo,cr=!0;break e;case 4:Vt=s.stateNode.containerInfo,cr=!0;break e}s=s.return}if(Vt===null)throw Error(X(160));NC(a,o,i),Vt=null,cr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ft(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)jC(e,t),e=e.sibling}function jC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(sr(e,t),Tr(t),r&4){try{Bu(3,t,t.return),dm(3,t)}catch(g){ft(t,t.return,g)}try{Bu(5,t,t.return)}catch(g){ft(t,t.return,g)}}break;case 1:sr(e,t),Tr(t),r&512&&n!==null&&cs(n,n.return);break;case 5:if(sr(e,t),Tr(t),r&512&&n!==null&&cs(n,n.return),t.flags&32){var i=t.stateNode;try{ic(i,"")}catch(g){ft(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=n!==null?n.memoizedProps:a,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&tk(i,a),xy(s,o);var u=xy(s,a);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?ok(i,f):c==="dangerouslySetInnerHTML"?ik(i,f):c==="children"?ic(i,f):fb(i,c,f,u)}switch(s){case"input":vy(i,a);break;case"textarea":nk(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?vs(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?vs(i,!!a.multiple,a.defaultValue,!0):vs(i,!!a.multiple,a.multiple?[]:"",!1))}i[hc]=a}catch(g){ft(t,t.return,g)}}break;case 6:if(sr(e,t),Tr(t),r&4){if(t.stateNode===null)throw Error(X(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(g){ft(t,t.return,g)}}break;case 3:if(sr(e,t),Tr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{lc(e.containerInfo)}catch(g){ft(t,t.return,g)}break;case 4:sr(e,t),Tr(t);break;case 13:sr(e,t),Tr(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Wb=pt())),r&4&&X1(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(rn=(u=rn)||c,sr(e,t),rn=u):sr(e,t),Tr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(re=t,c=t.child;c!==null;){for(f=re=c;re!==null;){switch(h=re,p=h.child,h.tag){case 0:case 11:case 14:case 15:Bu(4,h,h.return);break;case 1:cs(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){ft(r,n,g)}}break;case 5:cs(h,h.return);break;case 22:if(h.memoizedState!==null){Z1(f);continue}}p!==null?(p.return=h,re=p):Z1(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=ak("display",o))}catch(g){ft(t,t.return,g)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){ft(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:sr(e,t),Tr(t),r&4&&X1(t);break;case 21:break;default:sr(e,t),Tr(t)}}function Tr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(CC(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ic(i,""),r.flags&=-33);var a=Q1(t);Jy(t,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=Q1(t);Xy(t,s,o);break;default:throw Error(X(161))}}catch(l){ft(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function QF(t,e,n){re=t,$C(t)}function $C(t,e,n){for(var r=(t.mode&1)!==0;re!==null;){var i=re,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||yd;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||rn;s=yd;var u=rn;if(yd=o,(rn=l)&&!u)for(re=i;re!==null;)o=re,l=o.child,o.tag===22&&o.memoizedState!==null?eS(i):l!==null?(l.return=o,re=l):eS(i);for(;a!==null;)re=a,$C(a),a=a.sibling;re=i,yd=s,rn=u}J1(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,re=a):J1(t)}}function J1(t){for(;re!==null;){var e=re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:rn||dm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!rn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ur(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&D1(e,a,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}D1(e,o,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&lc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}rn||e.flags&512&&Qy(e)}catch(h){ft(e,e.return,h)}}if(e===t){re=null;break}if(n=e.sibling,n!==null){n.return=e.return,re=n;break}re=e.return}}function Z1(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,re=n;break}re=e.return}}function eS(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{dm(4,e)}catch(l){ft(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ft(e,i,l)}}var a=e.return;try{Qy(e)}catch(l){ft(e,a,l)}break;case 5:var o=e.return;try{Qy(e)}catch(l){ft(e,o,l)}}}catch(l){ft(e,e.return,l)}if(e===t){re=null;break}var s=e.sibling;if(s!==null){s.return=e.return,re=s;break}re=e.return}}var XF=Math.ceil,Nh=Ni.ReactCurrentDispatcher,Bb=Ni.ReactCurrentOwner,er=Ni.ReactCurrentBatchConfig,Pe=0,Rt=null,vt=null,zt=0,Nn=0,fs=Ta(0),At=0,_c=null,mo=0,hm=0,zb=0,zu=null,bn=null,Wb=0,Ls=1/0,ti=null,jh=!1,Zy=null,fa=null,_d=!1,ra=null,$h=0,Wu=0,e0=null,Zd=-1,eh=0;function mn(){return Pe&6?pt():Zd!==-1?Zd:Zd=pt()}function da(t){return t.mode&1?Pe&2&&zt!==0?zt&-zt:$F.transition!==null?(eh===0&&(eh=yk()),eh):(t=Me,t!==0||(t=window.event,t=t===void 0?16:Ak(t.type)),t):1}function vr(t,e,n,r){if(50<Wu)throw Wu=0,e0=null,Error(X(185));pf(t,n,r),(!(Pe&2)||t!==Rt)&&(t===Rt&&(!(Pe&2)&&(hm|=n),At===4&&Qi(t,zt)),An(t,r),n===1&&Pe===0&&!(e.mode&1)&&(Ls=pt()+500,um&&Pa()))}function An(t,e){var n=t.callbackNode;$L(t,e);var r=vh(t,t===Rt?zt:0);if(r===0)n!==null&&u1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&u1(n),e===1)t.tag===0?jF(tS.bind(null,t)):Wk(tS.bind(null,t)),IF(function(){!(Pe&6)&&Pa()}),n=null;else{switch(_k(r)){case 1:n=gb;break;case 4:n=gk;break;case 16:n=gh;break;case 536870912:n=vk;break;default:n=gh}n=BC(n,RC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function RC(t,e){if(Zd=-1,eh=0,Pe&6)throw Error(X(327));var n=t.callbackNode;if(xs()&&t.callbackNode!==n)return null;var r=vh(t,t===Rt?zt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Rh(t,r);else{e=r;var i=Pe;Pe|=2;var a=MC();(Rt!==t||zt!==e)&&(ti=null,Ls=pt()+500,ao(t,e));do try{eV();break}catch(s){DC(t,s)}while(!0);Ib(),Nh.current=a,Pe=i,vt!==null?e=0:(Rt=null,zt=0,e=At)}if(e!==0){if(e===2&&(i=Py(t),i!==0&&(r=i,e=t0(t,i))),e===1)throw n=_c,ao(t,0),Qi(t,r),An(t,pt()),n;if(e===6)Qi(t,r);else{if(i=t.current.alternate,!(r&30)&&!JF(i)&&(e=Rh(t,r),e===2&&(a=Py(t),a!==0&&(r=a,e=t0(t,a))),e===1))throw n=_c,ao(t,0),Qi(t,r),An(t,pt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(X(345));case 2:za(t,bn,ti);break;case 3:if(Qi(t,r),(r&130023424)===r&&(e=Wb+500-pt(),10<e)){if(vh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){mn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ry(za.bind(null,t,bn,ti),e);break}za(t,bn,ti);break;case 4:if(Qi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-gr(r);a=1<<o,o=e[o],o>i&&(i=o),r&=~a}if(r=i,r=pt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*XF(r/1960))-r,10<r){t.timeoutHandle=Ry(za.bind(null,t,bn,ti),r);break}za(t,bn,ti);break;case 5:za(t,bn,ti);break;default:throw Error(X(329))}}}return An(t,pt()),t.callbackNode===n?RC.bind(null,t):null}function t0(t,e){var n=zu;return t.current.memoizedState.isDehydrated&&(ao(t,e).flags|=256),t=Rh(t,e),t!==2&&(e=bn,bn=n,e!==null&&n0(e)),t}function n0(t){bn===null?bn=t:bn.push.apply(bn,t)}function JF(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!br(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qi(t,e){for(e&=~zb,e&=~hm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-gr(e),r=1<<n;t[n]=-1,e&=~r}}function tS(t){if(Pe&6)throw Error(X(327));xs();var e=vh(t,0);if(!(e&1))return An(t,pt()),null;var n=Rh(t,e);if(t.tag!==0&&n===2){var r=Py(t);r!==0&&(e=r,n=t0(t,r))}if(n===1)throw n=_c,ao(t,0),Qi(t,e),An(t,pt()),n;if(n===6)throw Error(X(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,za(t,bn,ti),An(t,pt()),null}function qb(t,e){var n=Pe;Pe|=1;try{return t(e)}finally{Pe=n,Pe===0&&(Ls=pt()+500,um&&Pa())}}function go(t){ra!==null&&ra.tag===0&&!(Pe&6)&&xs();var e=Pe;Pe|=1;var n=er.transition,r=Me;try{if(er.transition=null,Me=1,t)return t()}finally{Me=r,er.transition=n,Pe=e,!(Pe&6)&&Pa()}}function Hb(){Nn=fs.current,et(fs)}function ao(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,OF(n)),vt!==null)for(n=vt.return;n!==null;){var r=n;switch(Tb(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xh();break;case 3:Ds(),et(En),et(sn),Rb();break;case 5:$b(r);break;case 4:Ds();break;case 13:et(at);break;case 19:et(at);break;case 10:kb(r.type._context);break;case 22:case 23:Hb()}n=n.return}if(Rt=t,vt=t=ha(t.current,null),zt=Nn=e,At=0,_c=null,zb=hm=mo=0,bn=zu=null,Xa!==null){for(e=0;e<Xa.length;e++)if(n=Xa[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}Xa=null}return t}function DC(t,e){do{var n=vt;try{if(Ib(),Qd.current=Ch,kh){for(var r=ot.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}kh=!1}if(po=0,Nt=Et=ot=null,Uu=!1,gc=0,Bb.current=null,n===null||n.return===null){At=1,_c=e,vt=null;break}e:{var a=t,o=n.return,s=n,l=e;if(e=zt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=B1(o);if(p!==null){p.flags&=-257,z1(p,o,s,a,e),p.mode&1&&U1(a,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){U1(a,u,e),Gb();break e}l=Error(X(426))}}else if(tt&&s.mode&1){var v=B1(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),z1(v,o,s,a,e),Pb(Ms(l,s));break e}}a=l=Ms(l,s),At!==4&&(At=2),zu===null?zu=[a]:zu.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var _=_C(a,l,e);R1(a,_);break e;case 1:s=l;var y=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(fa===null||!fa.has(w)))){a.flags|=65536,e&=-e,a.lanes|=e;var I=bC(a,s,e);R1(a,I);break e}}a=a.return}while(a!==null)}FC(n)}catch(E){e=E,vt===n&&n!==null&&(vt=n=n.return);continue}break}while(!0)}function MC(){var t=Nh.current;return Nh.current=Ch,t===null?Ch:t}function Gb(){(At===0||At===3||At===2)&&(At=4),Rt===null||!(mo&268435455)&&!(hm&268435455)||Qi(Rt,zt)}function Rh(t,e){var n=Pe;Pe|=2;var r=MC();(Rt!==t||zt!==e)&&(ti=null,ao(t,e));do try{ZF();break}catch(i){DC(t,i)}while(!0);if(Ib(),Pe=n,Nh.current=r,vt!==null)throw Error(X(261));return Rt=null,zt=0,At}function ZF(){for(;vt!==null;)LC(vt)}function eV(){for(;vt!==null&&!AL();)LC(vt)}function LC(t){var e=UC(t.alternate,t,Nn);t.memoizedProps=t.pendingProps,e===null?FC(t):vt=e,Bb.current=null}function FC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=GF(n,e),n!==null){n.flags&=32767,vt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{At=6,vt=null;return}}else if(n=HF(n,e,Nn),n!==null){vt=n;return}if(e=e.sibling,e!==null){vt=e;return}vt=e=t}while(e!==null);At===0&&(At=5)}function za(t,e,n){var r=Me,i=er.transition;try{er.transition=null,Me=1,tV(t,e,n,r)}finally{er.transition=i,Me=r}return null}function tV(t,e,n,r){do xs();while(ra!==null);if(Pe&6)throw Error(X(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(X(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(RL(t,a),t===Rt&&(vt=Rt=null,zt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_d||(_d=!0,BC(gh,function(){return xs(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=er.transition,er.transition=null;var o=Me;Me=1;var s=Pe;Pe|=4,Bb.current=null,YF(t,n),jC(n,t),wF(jy),yh=!!Ny,jy=Ny=null,t.current=n,QF(n),TL(),Pe=s,Me=o,er.transition=a}else t.current=n;if(_d&&(_d=!1,ra=t,$h=i),a=t.pendingLanes,a===0&&(fa=null),IL(n.stateNode),An(t,pt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(jh)throw jh=!1,t=Zy,Zy=null,t;return $h&1&&t.tag!==0&&xs(),a=t.pendingLanes,a&1?t===e0?Wu++:(Wu=0,e0=t):Wu=0,Pa(),null}function xs(){if(ra!==null){var t=_k($h),e=er.transition,n=Me;try{if(er.transition=null,Me=16>t?16:t,ra===null)var r=!1;else{if(t=ra,ra=null,$h=0,Pe&6)throw Error(X(331));var i=Pe;for(Pe|=4,re=t.current;re!==null;){var a=re,o=a.child;if(re.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(re=u;re!==null;){var c=re;switch(c.tag){case 0:case 11:case 15:Bu(8,c,a)}var f=c.child;if(f!==null)f.return=c,re=f;else for(;re!==null;){c=re;var h=c.sibling,p=c.return;if(kC(c),c===u){re=null;break}if(h!==null){h.return=p,re=h;break}re=p}}}var m=a.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}re=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,re=o;else e:for(;re!==null;){if(a=re,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Bu(9,a,a.return)}var _=a.sibling;if(_!==null){_.return=a.return,re=_;break e}re=a.return}}var y=t.current;for(re=y;re!==null;){o=re;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,re=w;else e:for(o=y;re!==null;){if(s=re,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:dm(9,s)}}catch(E){ft(s,s.return,E)}if(s===o){re=null;break e}var I=s.sibling;if(I!==null){I.return=s.return,re=I;break e}re=s.return}}if(Pe=i,Pa(),jr&&typeof jr.onPostCommitFiberRoot=="function")try{jr.onPostCommitFiberRoot(im,t)}catch{}r=!0}return r}finally{Me=n,er.transition=e}}return!1}function nS(t,e,n){e=Ms(n,e),e=_C(t,e,1),t=ca(t,e,1),e=mn(),t!==null&&(pf(t,1,e),An(t,e))}function ft(t,e,n){if(t.tag===3)nS(t,t,n);else for(;e!==null;){if(e.tag===3){nS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fa===null||!fa.has(r))){t=Ms(n,t),t=bC(e,t,1),e=ca(e,t,1),t=mn(),e!==null&&(pf(e,1,t),An(e,t));break}}e=e.return}}function nV(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=mn(),t.pingedLanes|=t.suspendedLanes&n,Rt===t&&(zt&n)===n&&(At===4||At===3&&(zt&130023424)===zt&&500>pt()-Wb?ao(t,0):zb|=n),An(t,e)}function VC(t,e){e===0&&(t.mode&1?(e=ud,ud<<=1,!(ud&130023424)&&(ud=4194304)):e=1);var n=mn();t=wi(t,e),t!==null&&(pf(t,e,n),An(t,n))}function rV(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),VC(t,n)}function iV(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(e),VC(t,n)}var UC;UC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||En.current)wn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return wn=!1,qF(t,e,n);wn=!!(t.flags&131072)}else wn=!1,tt&&e.flags&1048576&&qk(e,Ah,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Jd(t,e),t=e.pendingProps;var i=js(e,sn.current);ws(e,n),i=Mb(null,e,r,t,i,n);var a=Lb();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Sn(r)?(a=!0,Eh(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Nb(e),i.updater=fm,e.stateNode=i,i._reactInternals=e,By(e,r,t,n),e=qy(null,e,r,!0,a,n)):(e.tag=0,tt&&a&&Ab(e),fn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Jd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=oV(r),t=ur(r,t),i){case 0:e=Wy(null,e,r,t,n);break e;case 1:e=H1(null,e,r,t,n);break e;case 11:e=W1(null,e,r,t,n);break e;case 14:e=q1(null,e,r,ur(r.type,t),n);break e}throw Error(X(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ur(r,i),Wy(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ur(r,i),H1(t,e,r,i,n);case 3:e:{if(SC(e),t===null)throw Error(X(387));r=e.pendingProps,a=e.memoizedState,i=a.element,Xk(t,e),Oh(e,r,null,n);var o=e.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Ms(Error(X(423)),e),e=G1(t,e,r,n,i);break e}else if(r!==i){i=Ms(Error(X(424)),e),e=G1(t,e,r,n,i);break e}else for(Dn=ua(e.stateNode.containerInfo.firstChild),Mn=e,tt=!0,hr=null,n=Yk(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($s(),r===i){e=xi(t,e,n);break e}fn(t,e,r,n)}e=e.child}return e;case 5:return Jk(e),t===null&&Fy(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,$y(r,i)?o=null:a!==null&&$y(r,a)&&(e.flags|=32),EC(t,e),fn(t,e,o,n),e.child;case 6:return t===null&&Fy(e),null;case 13:return AC(t,e,n);case 4:return jb(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Rs(e,null,r,n):fn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ur(r,i),W1(t,e,r,i,n);case 7:return fn(t,e,e.pendingProps,n),e.child;case 8:return fn(t,e,e.pendingProps.children,n),e.child;case 12:return fn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,Ge(Th,r._currentValue),r._currentValue=o,a!==null)if(br(a.value,o)){if(a.children===i.children&&!En.current){e=xi(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=pi(-1,n&-n),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Vy(a.return,n,e),s.lanes|=n;break}l=l.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(X(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),Vy(o,n,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}fn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ws(e,n),i=tr(i),r=r(i),e.flags|=1,fn(t,e,r,n),e.child;case 14:return r=e.type,i=ur(r,e.pendingProps),i=ur(r.type,i),q1(t,e,r,i,n);case 15:return wC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ur(r,i),Jd(t,e),e.tag=1,Sn(r)?(t=!0,Eh(e)):t=!1,ws(e,n),yC(e,r,i),By(e,r,i,n),qy(null,e,r,!0,t,n);case 19:return TC(t,e,n);case 22:return xC(t,e,n)}throw Error(X(156,e.tag))};function BC(t,e){return mk(t,e)}function aV(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(t,e,n,r){return new aV(t,e,n,r)}function Kb(t){return t=t.prototype,!(!t||!t.isReactComponent)}function oV(t){if(typeof t=="function")return Kb(t)?1:0;if(t!=null){if(t=t.$$typeof,t===hb)return 11;if(t===pb)return 14}return 2}function ha(t,e){var n=t.alternate;return n===null?(n=Jn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function th(t,e,n,r,i,a){var o=2;if(r=t,typeof t=="function")Kb(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ts:return oo(n.children,i,a,e);case db:o=8,i|=8;break;case dy:return t=Jn(12,n,e,i|2),t.elementType=dy,t.lanes=a,t;case hy:return t=Jn(13,n,e,i),t.elementType=hy,t.lanes=a,t;case py:return t=Jn(19,n,e,i),t.elementType=py,t.lanes=a,t;case JI:return pm(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case QI:o=10;break e;case XI:o=9;break e;case hb:o=11;break e;case pb:o=14;break e;case Hi:o=16,r=null;break e}throw Error(X(130,t==null?t:typeof t,""))}return e=Jn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function oo(t,e,n,r){return t=Jn(7,t,r,e),t.lanes=n,t}function pm(t,e,n,r){return t=Jn(22,t,r,e),t.elementType=JI,t.lanes=n,t.stateNode={isHidden:!1},t}function bv(t,e,n){return t=Jn(6,t,null,e),t.lanes=n,t}function wv(t,e,n){return e=Jn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function sV(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tv(0),this.expirationTimes=tv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tv(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Yb(t,e,n,r,i,a,o,s,l){return t=new sV(t,e,n,s,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Jn(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nb(a),t}function lV(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:es,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function zC(t){if(!t)return wa;t=t._reactInternals;e:{if(Io(t)!==t||t.tag!==1)throw Error(X(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Sn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(X(171))}if(t.tag===1){var n=t.type;if(Sn(n))return zk(t,n,e)}return e}function WC(t,e,n,r,i,a,o,s,l){return t=Yb(n,r,!0,t,i,a,o,s,l),t.context=zC(null),n=t.current,r=mn(),i=da(n),a=pi(r,i),a.callback=e??null,ca(n,a,i),t.current.lanes=i,pf(t,i,r),An(t,r),t}function mm(t,e,n,r){var i=e.current,a=mn(),o=da(i);return n=zC(n),e.context===null?e.context=n:e.pendingContext=n,e=pi(a,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ca(i,e,o),t!==null&&(vr(t,i,o,a),Yd(t,i,o)),o}function Dh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function rS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Qb(t,e){rS(t,e),(t=t.alternate)&&rS(t,e)}function uV(){return null}var qC=typeof reportError=="function"?reportError:function(t){console.error(t)};function Xb(t){this._internalRoot=t}gm.prototype.render=Xb.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(X(409));mm(t,e,null,null)};gm.prototype.unmount=Xb.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;go(function(){mm(null,t,null,null)}),e[bi]=null}};function gm(t){this._internalRoot=t}gm.prototype.unstable_scheduleHydration=function(t){if(t){var e=xk();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Yi.length&&e!==0&&e<Yi[n].priority;n++);Yi.splice(n,0,t),n===0&&Sk(t)}};function Jb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function vm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function iS(){}function cV(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=Dh(o);a.call(u)}}var o=WC(e,r,t,0,null,!1,!1,"",iS);return t._reactRootContainer=o,t[bi]=o.current,fc(t.nodeType===8?t.parentNode:t),go(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=Dh(l);s.call(u)}}var l=Yb(t,0,!1,null,null,!1,!1,"",iS);return t._reactRootContainer=l,t[bi]=l.current,fc(t.nodeType===8?t.parentNode:t),go(function(){mm(e,l,n,r)}),l}function ym(t,e,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=Dh(o);s.call(l)}}mm(e,o,t,i)}else o=cV(n,e,t,i,r);return Dh(o)}bk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Iu(e.pendingLanes);n!==0&&(vb(e,n|1),An(e,pt()),!(Pe&6)&&(Ls=pt()+500,Pa()))}break;case 13:go(function(){var r=wi(t,1);if(r!==null){var i=mn();vr(r,t,1,i)}}),Qb(t,1)}};yb=function(t){if(t.tag===13){var e=wi(t,134217728);if(e!==null){var n=mn();vr(e,t,134217728,n)}Qb(t,134217728)}};wk=function(t){if(t.tag===13){var e=da(t),n=wi(t,e);if(n!==null){var r=mn();vr(n,t,e,r)}Qb(t,e)}};xk=function(){return Me};Ek=function(t,e){var n=Me;try{return Me=t,e()}finally{Me=n}};Sy=function(t,e,n){switch(e){case"input":if(vy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=lm(r);if(!i)throw Error(X(90));ek(r),vy(r,i)}}}break;case"textarea":nk(t,n);break;case"select":e=n.value,e!=null&&vs(t,!!n.multiple,e,!1)}};uk=qb;ck=go;var fV={usingClientEntryPoint:!1,Events:[gf,as,lm,sk,lk,qb]},hu={findFiberByHostInstance:Qa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dV={bundleType:hu.bundleType,version:hu.version,rendererPackageName:hu.rendererPackageName,rendererConfig:hu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ni.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=hk(t),t===null?null:t.stateNode},findFiberByHostInstance:hu.findFiberByHostInstance||uV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bd.isDisabled&&bd.supportsFiber)try{im=bd.inject(dV),jr=bd}catch{}}Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fV;Un.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jb(e))throw Error(X(200));return lV(t,e,null,n)};Un.createRoot=function(t,e){if(!Jb(t))throw Error(X(299));var n=!1,r="",i=qC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Yb(t,1,!1,null,null,n,!1,r,i),t[bi]=e.current,fc(t.nodeType===8?t.parentNode:t),new Xb(e)};Un.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=hk(e),t=t===null?null:t.stateNode,t};Un.flushSync=function(t){return go(t)};Un.hydrate=function(t,e,n){if(!vm(e))throw Error(X(200));return ym(null,t,e,!0,n)};Un.hydrateRoot=function(t,e,n){if(!Jb(t))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=qC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=WC(e,null,t,1,n??null,i,!1,a,o),t[bi]=e.current,fc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new gm(e)};Un.render=function(t,e,n){if(!vm(e))throw Error(X(200));return ym(null,t,e,!1,n)};Un.unmountComponentAtNode=function(t){if(!vm(t))throw Error(X(40));return t._reactRootContainer?(go(function(){ym(null,null,t,!1,function(){t._reactRootContainer=null,t[bi]=null})}),!0):!1};Un.unstable_batchedUpdates=qb;Un.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!vm(n))throw Error(X(200));if(t==null||t._reactInternals===void 0)throw Error(X(38));return ym(t,e,n,!1,r)};Un.version="18.3.1-next-f1338f8080-20240426";function HC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(HC)}catch(t){console.error(t)}}HC(),HI.exports=Un;var hV=HI.exports,aS=hV;cy.createRoot=aS.createRoot,cy.hydrateRoot=aS.hydrateRoot;let pV={data:""},mV=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||pV,gV=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,vV=/\/\*[^]*?\*\/|  +/g,oS=/\n+/g,Xi=(t,e)=>{let n="",r="",i="";for(let a in t){let o=t[a];a[0]=="@"?a[1]=="i"?n=a+" "+o+";":r+=a[1]=="f"?Xi(o,a):a+"{"+Xi(o,a[1]=="k"?"":e)+"}":typeof o=="object"?r+=Xi(o,e?e.replace(/([^,])+/g,s=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,s):s?s+" "+l:l)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Xi.p?Xi.p(a,o):a+":"+o+";")}return n+(e&&i?e+"{"+i+"}":i)+r},Zr={},GC=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+GC(t[n]);return e}return t},yV=(t,e,n,r,i)=>{let a=GC(t),o=Zr[a]||(Zr[a]=(l=>{let u=0,c=11;for(;u<l.length;)c=101*c+l.charCodeAt(u++)>>>0;return"go"+c})(a));if(!Zr[o]){let l=a!==t?t:(u=>{let c,f,h=[{}];for(;c=gV.exec(u.replace(vV,""));)c[4]?h.shift():c[3]?(f=c[3].replace(oS," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][c[1]]=c[2].replace(oS," ").trim();return h[0]})(t);Zr[o]=Xi(i?{["@keyframes "+o]:l}:l,n?"":"."+o)}let s=n&&Zr.g?Zr.g:null;return n&&(Zr.g=Zr[o]),((l,u,c,f)=>{f?u.data=u.data.replace(f,l):u.data.indexOf(l)===-1&&(u.data=c?l+u.data:u.data+l)})(Zr[o],e,r,s),o},_V=(t,e,n)=>t.reduce((r,i,a)=>{let o=e[a];if(o&&o.call){let s=o(n),l=s&&s.props&&s.props.className||/^go/.test(s)&&s;o=l?"."+l:s&&typeof s=="object"?s.props?"":Xi(s,""):s===!1?"":s}return r+i+(o??"")},"");function _m(t){let e=this||{},n=t.call?t(e.p):t;return yV(n.unshift?n.raw?_V(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,mV(e.target),e.g,e.o,e.k)}let KC,r0,i0;_m.bind({g:1});let Ei=_m.bind({k:1});function bV(t,e,n,r){Xi.p=e,KC=t,r0=n,i0=r}function Oa(t,e){let n=this||{};return function(){let r=arguments;function i(a,o){let s=Object.assign({},a),l=s.className||i.className;n.p=Object.assign({theme:r0&&r0()},s),n.o=/ *go\d+/.test(l),s.className=_m.apply(n,r)+(l?" "+l:"");let u=t;return t[0]&&(u=s.as||t,delete s.as),i0&&u[0]&&i0(s),KC(u,s)}return i}}var wV=t=>typeof t=="function",Mh=(t,e)=>wV(t)?t(e):t,xV=(()=>{let t=0;return()=>(++t).toString()})(),YC=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),EV=20,Zb="default",QC=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:r}=e;return QC(t,{type:t.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=e;return{...t,toasts:t.toasts.map(o=>o.id===i||i===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let a=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+a}))}}},nh=[],XC={toasts:[],pausedAt:void 0,settings:{toastLimit:EV}},Cr={},JC=(t,e=Zb)=>{Cr[e]=QC(Cr[e]||XC,t),nh.forEach(([n,r])=>{n===e&&r(Cr[e])})},ZC=t=>Object.keys(Cr).forEach(e=>JC(t,e)),SV=t=>Object.keys(Cr).find(e=>Cr[e].toasts.some(n=>n.id===t)),bm=(t=Zb)=>e=>{JC(e,t)},AV={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},TV=(t={},e=Zb)=>{let[n,r]=M.useState(Cr[e]||XC),i=M.useRef(Cr[e]);M.useEffect(()=>(i.current!==Cr[e]&&r(Cr[e]),nh.push([e,r]),()=>{let o=nh.findIndex(([s])=>s===e);o>-1&&nh.splice(o,1)}),[e]);let a=n.toasts.map(o=>{var s,l,u;return{...t,...t[o.type],...o,removeDelay:o.removeDelay||((s=t[o.type])==null?void 0:s.removeDelay)||(t==null?void 0:t.removeDelay),duration:o.duration||((l=t[o.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||AV[o.type],style:{...t.style,...(u=t[o.type])==null?void 0:u.style,...o.style}}});return{...n,toasts:a}},PV=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||xV()}),yf=t=>(e,n)=>{let r=PV(e,t,n);return bm(r.toasterId||SV(r.id))({type:2,toast:r}),r.id},jt=(t,e)=>yf("blank")(t,e);jt.error=yf("error");jt.success=yf("success");jt.loading=yf("loading");jt.custom=yf("custom");jt.dismiss=(t,e)=>{let n={type:3,toastId:t};e?bm(e)(n):ZC(n)};jt.dismissAll=t=>jt.dismiss(void 0,t);jt.remove=(t,e)=>{let n={type:4,toastId:t};e?bm(e)(n):ZC(n)};jt.removeAll=t=>jt.remove(void 0,t);jt.promise=(t,e,n)=>{let r=jt.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let a=e.success?Mh(e.success,i):void 0;return a?jt.success(a,{id:r,...n,...n==null?void 0:n.success}):jt.dismiss(r),i}).catch(i=>{let a=e.error?Mh(e.error,i):void 0;a?jt.error(a,{id:r,...n,...n==null?void 0:n.error}):jt.dismiss(r)}),t};var OV=1e3,IV=(t,e="default")=>{let{toasts:n,pausedAt:r}=TV(t,e),i=M.useRef(new Map).current,a=M.useCallback((f,h=OV)=>{if(i.has(f))return;let p=setTimeout(()=>{i.delete(f),o({type:4,toastId:f})},h);i.set(f,p)},[]);M.useEffect(()=>{if(r)return;let f=Date.now(),h=n.map(p=>{if(p.duration===1/0)return;let m=(p.duration||0)+p.pauseDuration-(f-p.createdAt);if(m<0){p.visible&&jt.dismiss(p.id);return}return setTimeout(()=>jt.dismiss(p.id,e),m)});return()=>{h.forEach(p=>p&&clearTimeout(p))}},[n,r,e]);let o=M.useCallback(bm(e),[e]),s=M.useCallback(()=>{o({type:5,time:Date.now()})},[o]),l=M.useCallback((f,h)=>{o({type:1,toast:{id:f,height:h}})},[o]),u=M.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),c=M.useCallback((f,h)=>{let{reverseOrder:p=!1,gutter:m=8,defaultPosition:g}=h||{},v=n.filter(w=>(w.position||g)===(f.position||g)&&w.height),_=v.findIndex(w=>w.id===f.id),y=v.filter((w,I)=>I<_&&w.visible).length;return v.filter(w=>w.visible).slice(...p?[y+1]:[0,y]).reduce((w,I)=>w+(I.height||0)+m,0)},[n]);return M.useEffect(()=>{n.forEach(f=>{if(f.dismissed)a(f.id,f.removeDelay);else{let h=i.get(f.id);h&&(clearTimeout(h),i.delete(f.id))}})},[n,a]),{toasts:n,handlers:{updateHeight:l,startPause:s,endPause:u,calculateOffset:c}}},kV=Ei`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,CV=Ei`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,NV=Ei`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,jV=Oa("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${kV} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${CV} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${NV} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,$V=Ei`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,RV=Oa("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${$V} 1s linear infinite;
`,DV=Ei`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,MV=Ei`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,LV=Oa("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${DV} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${MV} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,FV=Oa("div")`
  position: absolute;
`,VV=Oa("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,UV=Ei`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,BV=Oa("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${UV} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,zV=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?M.createElement(BV,null,e):e:n==="blank"?null:M.createElement(VV,null,M.createElement(RV,{...r}),n!=="loading"&&M.createElement(FV,null,n==="error"?M.createElement(jV,{...r}):M.createElement(LV,{...r})))},WV=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,qV=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,HV="0%{opacity:0;} 100%{opacity:1;}",GV="0%{opacity:1;} 100%{opacity:0;}",KV=Oa("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,YV=Oa("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,QV=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=YC()?[HV,GV]:[WV(n),qV(n)];return{animation:e?`${Ei(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ei(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},XV=M.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?QV(t.position||e||"top-center",t.visible):{opacity:0},a=M.createElement(zV,{toast:t}),o=M.createElement(YV,{...t.ariaProps},Mh(t.message,t));return M.createElement(KV,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:a,message:o}):M.createElement(M.Fragment,null,a,o))});bV(M.createElement);var JV=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let a=M.useCallback(o=>{if(o){let s=()=>{let l=o.getBoundingClientRect().height;r(t,l)};s(),new MutationObserver(s).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return M.createElement("div",{ref:a,className:e,style:n},i)},ZV=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:YC()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},e4=_m`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,wd=16,t4=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,toasterId:a,containerStyle:o,containerClassName:s})=>{let{toasts:l,handlers:u}=IV(n,a);return M.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:wd,left:wd,right:wd,bottom:wd,pointerEvents:"none",...o},className:s,onMouseEnter:u.startPause,onMouseLeave:u.endPause},l.map(c=>{let f=c.position||e,h=u.calculateOffset(c,{reverseOrder:t,gutter:r,defaultPosition:e}),p=ZV(f,h);return M.createElement(JV,{id:c.id,key:c.id,onHeightUpdate:u.updateHeight,className:c.visible?e4:"",style:p},c.type==="custom"?Mh(c.message,c):i?i(c):M.createElement(XV,{toast:c,position:f}))}))};const n4={},sS=t=>{let e;const n=new Set,r=(c,f)=>{const h=typeof c=="function"?c(e):c;if(!Object.is(h,e)){const p=e;e=f??(typeof h!="object"||h===null)?h:Object.assign({},e,h),n.forEach(m=>m(e,p))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(n4?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=e=t(r,i,l);return l},r4=t=>t?sS(t):sS;var eN={exports:{}},tN={},nN={exports:{}},rN={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fs=M;function i4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var a4=typeof Object.is=="function"?Object.is:i4,o4=Fs.useState,s4=Fs.useEffect,l4=Fs.useLayoutEffect,u4=Fs.useDebugValue;function c4(t,e){var n=e(),r=o4({inst:{value:n,getSnapshot:e}}),i=r[0].inst,a=r[1];return l4(function(){i.value=n,i.getSnapshot=e,xv(i)&&a({inst:i})},[t,n,e]),s4(function(){return xv(i)&&a({inst:i}),t(function(){xv(i)&&a({inst:i})})},[t]),u4(n),n}function xv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!a4(t,n)}catch{return!0}}function f4(t,e){return e()}var d4=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f4:c4;rN.useSyncExternalStore=Fs.useSyncExternalStore!==void 0?Fs.useSyncExternalStore:d4;nN.exports=rN;var h4=nN.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wm=M,p4=h4;function m4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var g4=typeof Object.is=="function"?Object.is:m4,v4=p4.useSyncExternalStore,y4=wm.useRef,_4=wm.useEffect,b4=wm.useMemo,w4=wm.useDebugValue;tN.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var a=y4(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=b4(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&o.hasValue){var m=o.value;if(i(m,p))return f=m}return f=p}if(m=f,g4(c,p))return m;var g=r(p);return i!==void 0&&i(m,g)?(c=p,m):(c=p,f=g)}var u=!1,c,f,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,r,i]);var s=v4(t,a[0],a[1]);return _4(function(){o.hasValue=!0,o.value=s},[s]),w4(s),s};eN.exports=tN;var x4=eN.exports;const E4=Re(x4),iN={},{useDebugValue:S4}=R,{useSyncExternalStoreWithSelector:A4}=E4;let lS=!1;const T4=t=>t;function P4(t,e=T4,n){(iN?"production":void 0)!=="production"&&n&&!lS&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),lS=!0);const r=A4(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return S4(r),r}const O4=t=>{(iN?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?r4(t):t,n=(r,i)=>P4(e,r,i);return Object.assign(n,e),n},I4=t=>O4,k4={};function C4(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var a;const o=l=>l===null?null:JSON.parse(l,void 0),s=(a=n.getItem(i))!=null?a:null;return s instanceof Promise?s.then(o):o(s)},setItem:(i,a)=>n.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>n.removeItem(i)}}const bc=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return bc(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return bc(r)(n)}}}},N4=(t,e)=>(n,r,i)=>{let a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:v=>v,version:0,merge:(v,_)=>({..._,...v}),...e},o=!1;const s=new Set,l=new Set;let u;try{u=a.getStorage()}catch{}if(!u)return t((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...v)},r,i);const c=bc(a.serialize),f=()=>{const v=a.partialize({...r()});let _;const y=c({state:v,version:a.version}).then(w=>u.setItem(a.name,w)).catch(w=>{_=w});if(_)throw _;return y},h=i.setState;i.setState=(v,_)=>{h(v,_),f()};const p=t((...v)=>{n(...v),f()},r,i);let m;const g=()=>{var v;if(!u)return;o=!1,s.forEach(y=>y(r()));const _=((v=a.onRehydrateStorage)==null?void 0:v.call(a,r()))||void 0;return bc(u.getItem.bind(u))(a.name).then(y=>{if(y)return a.deserialize(y)}).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==a.version){if(a.migrate)return a.migrate(y.state,y.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return y.state}).then(y=>{var w;return m=a.merge(y,(w=r())!=null?w:p),n(m,!0),f()}).then(()=>{_==null||_(m,void 0),o=!0,l.forEach(y=>y(m))}).catch(y=>{_==null||_(void 0,y)})};return i.persist={setOptions:v=>{a={...a,...v},v.getStorage&&(u=v.getStorage())},clearStorage:()=>{u==null||u.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:v=>(s.add(v),()=>{s.delete(v)}),onFinishHydration:v=>(l.add(v),()=>{l.delete(v)})},g(),m||p},j4=(t,e)=>(n,r,i)=>{let a={storage:C4(()=>localStorage),partialize:g=>g,version:0,merge:(g,v)=>({...v,...g}),...e},o=!1;const s=new Set,l=new Set;let u=a.storage;if(!u)return t((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...g)},r,i);const c=()=>{const g=a.partialize({...r()});return u.setItem(a.name,{state:g,version:a.version})},f=i.setState;i.setState=(g,v)=>{f(g,v),c()};const h=t((...g)=>{n(...g),c()},r,i);i.getInitialState=()=>h;let p;const m=()=>{var g,v;if(!u)return;o=!1,s.forEach(y=>{var w;return y((w=r())!=null?w:h)});const _=((v=a.onRehydrateStorage)==null?void 0:v.call(a,(g=r())!=null?g:h))||void 0;return bc(u.getItem.bind(u))(a.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==a.version){if(a.migrate)return[!0,a.migrate(y.state,y.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var w;const[I,E]=y;if(p=a.merge(E,(w=r())!=null?w:h),n(p,!0),I)return c()}).then(()=>{_==null||_(p,void 0),p=r(),o=!0,l.forEach(y=>y(p))}).catch(y=>{_==null||_(void 0,y)})};return i.persist={setOptions:g=>{a={...a,...g},g.storage&&(u=g.storage)},clearStorage:()=>{u==null||u.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>m(),hasHydrated:()=>o,onHydrate:g=>(s.add(g),()=>{s.delete(g)}),onFinishHydration:g=>(l.add(g),()=>{l.delete(g)})},a.skipHydration||m(),p||h},$4=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((k4?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),N4(t,e)):j4(t,e),R4=$4,D4=(t,e)=>e.some(n=>t instanceof n);let uS,cS;function M4(){return uS||(uS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function L4(){return cS||(cS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aN=new WeakMap,a0=new WeakMap,oN=new WeakMap,Ev=new WeakMap,ew=new WeakMap;function F4(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(pa(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&aN.set(n,t)}).catch(()=>{}),ew.set(e,t),e}function V4(t){if(a0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});a0.set(t,e)}let o0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return a0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||oN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function U4(t){o0=t(o0)}function B4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Sv(this),e,...n);return oN.set(r,e.sort?e.sort():[e]),pa(r)}:L4().includes(t)?function(...e){return t.apply(Sv(this),e),pa(aN.get(this))}:function(...e){return pa(t.apply(Sv(this),e))}}function z4(t){return typeof t=="function"?B4(t):(t instanceof IDBTransaction&&V4(t),D4(t,M4())?new Proxy(t,o0):t)}function pa(t){if(t instanceof IDBRequest)return F4(t);if(Ev.has(t))return Ev.get(t);const e=z4(t);return e!==t&&(Ev.set(t,e),ew.set(e,t)),e}const Sv=t=>ew.get(t);function sN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),s=pa(o);return r&&o.addEventListener("upgradeneeded",l=>{r(pa(o.result),l.oldVersion,l.newVersion,pa(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const W4=["get","getKey","getAll","getAllKeys","count"],q4=["put","add","delete","clear"],Av=new Map;function fS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Av.get(e))return Av.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=q4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||W4.includes(n)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return Av.set(e,a),a}U4(t=>({...t,get:(e,n,r)=>fS(e,n)||t.get(e,n,r),has:(e,n)=>!!fS(e,n)||t.has(e,n)}));class H4{constructor(){Yg(this,"db",null)}async init(){this.db=await sN("foodlog-km",1,{upgrade(e){e.objectStoreNames.contains("foods")||e.createObjectStore("foods",{keyPath:"id"}).createIndex("by-category","category"),e.objectStoreNames.contains("entries")||e.createObjectStore("entries",{keyPath:"id"}).createIndex("by-user-date",["userId","dateISO"]),e.objectStoreNames.contains("users")||e.createObjectStore("users",{keyPath:"id"}),e.objectStoreNames.contains("settings")||e.createObjectStore("settings",{keyPath:"key"})}})}ensureDB(){if(!this.db)throw new Error("Database not initialized. Call init() first.");return this.db}async getAllFoods(){return await this.ensureDB().getAll("foods")}async getFood(e){return await this.ensureDB().get("foods",e)}async addFood(e){await this.ensureDB().add("foods",e)}async updateFood(e){await this.ensureDB().put("foods",e)}async deleteFood(e){await this.ensureDB().delete("foods",e)}async searchFoods(e){return(await this.ensureDB().getAll("foods")).filter(i=>i.name.toLowerCase().includes(e.toLowerCase())||i.category.toLowerCase().includes(e.toLowerCase()))}async getAllEntries(){return await this.ensureDB().getAll("entries")}async getEntry(e){return await this.ensureDB().get("entries",e)}async getEntriesForUser(e){return await this.ensureDB().getAllFromIndex("entries","by-user-date",IDBKeyRange.only(e))}async getEntriesForDate(e,n){return await this.ensureDB().getAllFromIndex("entries","by-user-date",IDBKeyRange.only([e,n]))}async addEntry(e){await this.ensureDB().add("entries",e)}async updateEntry(e){await this.ensureDB().put("entries",e)}async deleteEntry(e){await this.ensureDB().delete("entries",e)}async getAllUsers(){return await this.ensureDB().getAll("users")}async updateUser(e){await this.ensureDB().put("users",e)}async getSetting(e){const r=await this.ensureDB().get("settings",e);return r==null?void 0:r.value}async setSetting(e,n){await this.ensureDB().put("settings",{key:e,value:n})}async exportBackup(){const[e,n,r,i]=await Promise.all([this.getAllFoods(),this.getAllEntries(),this.getAllUsers(),this.getSetting("app_settings")]),a=r.filter(o=>o&&o.id&&o.name&&o.goals&&typeof o.goals.protein_g=="number"&&typeof o.goals.carbs_g=="number"&&typeof o.goals.fat_g=="number"&&typeof o.goals.kcal=="number"&&typeof o.goals.water_ml=="number");return console.log(`📊 Backup: ${e.length} alimentos, ${n.length} entradas, ${a.length} usuários válidos`),{foods:e,entries:n,users:a,settings:i||{theme:"light",language:"pt",defaultUnit:"g"},version:"1.0.0",timestamp:new Date().toISOString()}}async importBackup(e){const r=this.ensureDB().transaction(["foods","entries","users","settings"],"readwrite");await r.objectStore("foods").clear(),await r.objectStore("entries").clear(),await r.objectStore("users").clear(),await r.objectStore("settings").clear();for(const i of e.foods)await r.objectStore("foods").add(i);for(const i of e.entries)await r.objectStore("entries").add(i);for(const i of e.users)await r.objectStore("users").add(i);await r.objectStore("settings").add({key:"app_settings",value:e.settings}),await r.done}async cleanDuplicateFoods(){const e=this.ensureDB(),n=await e.getAll("foods"),r=new Map;for(const o of n){const s=`${o.name.toLowerCase()}-${(o.category||"sem-categoria").toLowerCase()}`;r.has(s)||r.set(s,[]),r.get(s).push(o)}let i=0,a=0;for(const[,o]of r)if(o.length>1){const s=o.slice(1);for(const l of s)await e.delete("foods",l.id),i++;a++}else a++;return console.log(`🧹 Limpeza de alimentos: ${i} duplicatas removidas, ${a} mantidos`),{removed:i,kept:a}}async cleanDuplicateEntries(){const e=this.ensureDB(),n=await e.getAll("entries"),r=new Map;for(const o of n){const s=`${o.userId}-${o.dateISO}-${o.foodId}-${o.qty}-${o.unit}`;r.has(s)||r.set(s,[]),r.get(s).push(o)}let i=0,a=0;for(const[,o]of r)if(o.length>1){const s=o.slice(1);for(const l of s)await e.delete("entries",l.id),i++;a++}else a++;return console.log(`🧹 Limpeza de entradas: ${i} duplicatas removidas, ${a} mantidas`),{removed:i,kept:a}}async cleanAllDuplicates(){console.log("🧹 Iniciando limpeza de duplicações...");const e=await this.cleanDuplicateFoods(),n=await this.cleanDuplicateEntries();return console.log("✅ Limpeza de duplicações concluída"),{foods:e,entries:n}}async cleanDuplicatesBeforeSync(){console.log("🧹 Limpando duplicatas antes da sincronização...");const e=await this.cleanDuplicateFoods(),n=await this.cleanDuplicateEntries();return console.log(`✅ Limpeza concluída: ${e.removed} alimentos e ${n.removed} entradas duplicadas removidas`),{foodsRemoved:e.removed,entriesRemoved:n.removed}}}const le=new H4;var dS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},G4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],s=t[n++],l=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},uN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,s=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=a>>2,f=(a&3)<<4|s>>4;let h=(s&15)<<2|u>>6,p=u&63;l||(p=64,o||(h=64)),r.push(n[c],n[f],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):G4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||s==null||u==null||f==null)throw new K4;const h=a<<2|s>>4;if(r.push(h),u!==64){const p=s<<4&240|u>>2;if(r.push(p),f!==64){const m=u<<6&192|f;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class K4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Y4=function(t){const e=lN(t);return uN.encodeByteArray(e,!0)},Lh=function(t){return Y4(t).replace(/\./g,"")},cN=function(t){try{return uN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4=()=>Q4().__FIREBASE_DEFAULTS__,J4=()=>{if(typeof process>"u"||typeof dS>"u")return;const t=dS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Z4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&cN(t[1]);return e&&JSON.parse(e)},xm=()=>{try{return X4()||J4()||Z4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},fN=t=>{var e,n;return(n=(e=xm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},eU=t=>{const e=fN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},dN=()=>{var t;return(t=xm())===null||t===void 0?void 0:t.config},hN=t=>{var e;return(e=xm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nU(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Lh(JSON.stringify(n)),Lh(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function iU(){var t;const e=(t=xm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oU(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function sU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lU(){const t=ln();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function uU(){return!iU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cU(){try{return typeof indexedDB=="object"}catch{return!1}}function fU(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dU="FirebaseError";class ji extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=dU,Object.setPrototypeOf(this,ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_f.prototype.create)}}class _f{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?hU(a,r):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new ji(i,s,r)}}function hU(t,e){return t.replace(pU,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const pU=/\{\$([^}]+)}/g;function mU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],o=e[i];if(hS(a)&&hS(o)){if(!Fh(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function hS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function gU(t,e){const n=new vU(t,e);return n.subscribe.bind(n)}class vU{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");yU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Tv),i.error===void 0&&(i.error=Tv),i.complete===void 0&&(i.complete=Tv);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yU(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Tv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(t){return t&&t._delegate?t._delegate:t}class vo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new tU;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wU(e))try{this.getOrInitializeService({instanceIdentifier:Wa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Wa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wa){return this.instances.has(e)}getOptions(e=Wa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);r===s&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:bU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wa){return this.component?this.component.multipleInstances?e:Wa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bU(t){return t===Wa?void 0:t}function wU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _U(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Se||(Se={}));const EU={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},SU=Se.INFO,AU={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},TU=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=AU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tw{constructor(e){this.name=e,this._logLevel=SU,this._logHandler=TU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(OU(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function OU(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const s0="@firebase/app",pS="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si=new tw("@firebase/app"),IU="@firebase/app-compat",kU="@firebase/analytics-compat",CU="@firebase/analytics",NU="@firebase/app-check-compat",jU="@firebase/app-check",$U="@firebase/auth",RU="@firebase/auth-compat",DU="@firebase/database",MU="@firebase/data-connect",LU="@firebase/database-compat",FU="@firebase/functions",VU="@firebase/functions-compat",UU="@firebase/installations",BU="@firebase/installations-compat",zU="@firebase/messaging",WU="@firebase/messaging-compat",qU="@firebase/performance",HU="@firebase/performance-compat",GU="@firebase/remote-config",KU="@firebase/remote-config-compat",YU="@firebase/storage",QU="@firebase/storage-compat",XU="@firebase/firestore",JU="@firebase/vertexai-preview",ZU="@firebase/firestore-compat",eB="firebase",tB="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0="[DEFAULT]",nB={[s0]:"fire-core",[IU]:"fire-core-compat",[CU]:"fire-analytics",[kU]:"fire-analytics-compat",[jU]:"fire-app-check",[NU]:"fire-app-check-compat",[$U]:"fire-auth",[RU]:"fire-auth-compat",[DU]:"fire-rtdb",[MU]:"fire-data-connect",[LU]:"fire-rtdb-compat",[FU]:"fire-fn",[VU]:"fire-fn-compat",[UU]:"fire-iid",[BU]:"fire-iid-compat",[zU]:"fire-fcm",[WU]:"fire-fcm-compat",[qU]:"fire-perf",[HU]:"fire-perf-compat",[GU]:"fire-rc",[KU]:"fire-rc-compat",[YU]:"fire-gcs",[QU]:"fire-gcs-compat",[XU]:"fire-fst",[ZU]:"fire-fst-compat",[JU]:"fire-vertex","fire-js":"fire-js",[eB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=new Map,rB=new Map,u0=new Map;function mS(t,e){try{t.container.addComponent(e)}catch(n){Si.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Vs(t){const e=t.name;if(u0.has(e))return Si.debug(`There were multiple attempts to register component ${e}.`),!1;u0.set(e,t);for(const n of Vh.values())mS(n,t);for(const n of rB.values())mS(n,t);return!0}function nw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function si(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ma=new _f("app","Firebase",iB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ma.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al=tB;function pN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:l0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ma.create("bad-app-name",{appName:String(i)});if(n||(n=dN()),!n)throw ma.create("no-options");const a=Vh.get(i);if(a){if(Fh(n,a.options)&&Fh(r,a.config))return a;throw ma.create("duplicate-app",{appName:i})}const o=new xU(i);for(const l of u0.values())o.addComponent(l);const s=new aB(n,r,o);return Vh.set(i,s),s}function mN(t=l0){const e=Vh.get(t);if(!e&&t===l0&&dN())return pN();if(!e)throw ma.create("no-app",{appName:t});return e}function ga(t,e,n){var r;let i=(r=nB[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const s=[`Unable to register library "${i}" with version "${e}":`];a&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Si.warn(s.join(" "));return}Vs(new vo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oB="firebase-heartbeat-database",sB=1,wc="firebase-heartbeat-store";let Pv=null;function gN(){return Pv||(Pv=sN(oB,sB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wc)}catch(n){console.warn(n)}}}}).catch(t=>{throw ma.create("idb-open",{originalErrorMessage:t.message})})),Pv}async function lB(t){try{const n=(await gN()).transaction(wc),r=await n.objectStore(wc).get(vN(t));return await n.done,r}catch(e){if(e instanceof ji)Si.warn(e.message);else{const n=ma.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Si.warn(n.message)}}}async function gS(t,e){try{const r=(await gN()).transaction(wc,"readwrite");await r.objectStore(wc).put(e,vN(t)),await r.done}catch(n){if(n instanceof ji)Si.warn(n.message);else{const r=ma.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Si.warn(r.message)}}}function vN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uB=1024,cB=30*24*60*60*1e3;class fB{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hB(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=vS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=cB}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Si.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=vS(),{heartbeatsToSend:r,unsentEntries:i}=dB(this._heartbeatsCache.heartbeats),a=Lh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Si.warn(n),""}}}function vS(){return new Date().toISOString().substring(0,10)}function dB(t,e=uB){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),yS(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),yS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class hB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cU()?fU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await lB(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return gS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return gS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function yS(t){return Lh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pB(t){Vs(new vo("platform-logger",e=>new PU(e),"PRIVATE")),Vs(new vo("heartbeat",e=>new fB(e),"PRIVATE")),ga(s0,pS,t),ga(s0,pS,"esm2017"),ga("fire-js","")}pB("");var _S=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var so,yN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,A){function T(){}T.prototype=A.prototype,S.D=A.prototype,S.prototype=new T,S.prototype.constructor=S,S.C=function(k,C,j){for(var N=Array(arguments.length-2),U=2;U<arguments.length;U++)N[U-2]=arguments[U];return A.prototype[C].apply(k,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,A,T){T||(T=0);var k=Array(16);if(typeof A=="string")for(var C=0;16>C;++C)k[C]=A.charCodeAt(T++)|A.charCodeAt(T++)<<8|A.charCodeAt(T++)<<16|A.charCodeAt(T++)<<24;else for(C=0;16>C;++C)k[C]=A[T++]|A[T++]<<8|A[T++]<<16|A[T++]<<24;A=S.g[0],T=S.g[1],C=S.g[2];var j=S.g[3],N=A+(j^T&(C^j))+k[0]+3614090360&4294967295;A=T+(N<<7&4294967295|N>>>25),N=j+(C^A&(T^C))+k[1]+3905402710&4294967295,j=A+(N<<12&4294967295|N>>>20),N=C+(T^j&(A^T))+k[2]+606105819&4294967295,C=j+(N<<17&4294967295|N>>>15),N=T+(A^C&(j^A))+k[3]+3250441966&4294967295,T=C+(N<<22&4294967295|N>>>10),N=A+(j^T&(C^j))+k[4]+4118548399&4294967295,A=T+(N<<7&4294967295|N>>>25),N=j+(C^A&(T^C))+k[5]+1200080426&4294967295,j=A+(N<<12&4294967295|N>>>20),N=C+(T^j&(A^T))+k[6]+2821735955&4294967295,C=j+(N<<17&4294967295|N>>>15),N=T+(A^C&(j^A))+k[7]+4249261313&4294967295,T=C+(N<<22&4294967295|N>>>10),N=A+(j^T&(C^j))+k[8]+1770035416&4294967295,A=T+(N<<7&4294967295|N>>>25),N=j+(C^A&(T^C))+k[9]+2336552879&4294967295,j=A+(N<<12&4294967295|N>>>20),N=C+(T^j&(A^T))+k[10]+4294925233&4294967295,C=j+(N<<17&4294967295|N>>>15),N=T+(A^C&(j^A))+k[11]+2304563134&4294967295,T=C+(N<<22&4294967295|N>>>10),N=A+(j^T&(C^j))+k[12]+1804603682&4294967295,A=T+(N<<7&4294967295|N>>>25),N=j+(C^A&(T^C))+k[13]+4254626195&4294967295,j=A+(N<<12&4294967295|N>>>20),N=C+(T^j&(A^T))+k[14]+2792965006&4294967295,C=j+(N<<17&4294967295|N>>>15),N=T+(A^C&(j^A))+k[15]+1236535329&4294967295,T=C+(N<<22&4294967295|N>>>10),N=A+(C^j&(T^C))+k[1]+4129170786&4294967295,A=T+(N<<5&4294967295|N>>>27),N=j+(T^C&(A^T))+k[6]+3225465664&4294967295,j=A+(N<<9&4294967295|N>>>23),N=C+(A^T&(j^A))+k[11]+643717713&4294967295,C=j+(N<<14&4294967295|N>>>18),N=T+(j^A&(C^j))+k[0]+3921069994&4294967295,T=C+(N<<20&4294967295|N>>>12),N=A+(C^j&(T^C))+k[5]+3593408605&4294967295,A=T+(N<<5&4294967295|N>>>27),N=j+(T^C&(A^T))+k[10]+38016083&4294967295,j=A+(N<<9&4294967295|N>>>23),N=C+(A^T&(j^A))+k[15]+3634488961&4294967295,C=j+(N<<14&4294967295|N>>>18),N=T+(j^A&(C^j))+k[4]+3889429448&4294967295,T=C+(N<<20&4294967295|N>>>12),N=A+(C^j&(T^C))+k[9]+568446438&4294967295,A=T+(N<<5&4294967295|N>>>27),N=j+(T^C&(A^T))+k[14]+3275163606&4294967295,j=A+(N<<9&4294967295|N>>>23),N=C+(A^T&(j^A))+k[3]+4107603335&4294967295,C=j+(N<<14&4294967295|N>>>18),N=T+(j^A&(C^j))+k[8]+1163531501&4294967295,T=C+(N<<20&4294967295|N>>>12),N=A+(C^j&(T^C))+k[13]+2850285829&4294967295,A=T+(N<<5&4294967295|N>>>27),N=j+(T^C&(A^T))+k[2]+4243563512&4294967295,j=A+(N<<9&4294967295|N>>>23),N=C+(A^T&(j^A))+k[7]+1735328473&4294967295,C=j+(N<<14&4294967295|N>>>18),N=T+(j^A&(C^j))+k[12]+2368359562&4294967295,T=C+(N<<20&4294967295|N>>>12),N=A+(T^C^j)+k[5]+4294588738&4294967295,A=T+(N<<4&4294967295|N>>>28),N=j+(A^T^C)+k[8]+2272392833&4294967295,j=A+(N<<11&4294967295|N>>>21),N=C+(j^A^T)+k[11]+1839030562&4294967295,C=j+(N<<16&4294967295|N>>>16),N=T+(C^j^A)+k[14]+4259657740&4294967295,T=C+(N<<23&4294967295|N>>>9),N=A+(T^C^j)+k[1]+2763975236&4294967295,A=T+(N<<4&4294967295|N>>>28),N=j+(A^T^C)+k[4]+1272893353&4294967295,j=A+(N<<11&4294967295|N>>>21),N=C+(j^A^T)+k[7]+4139469664&4294967295,C=j+(N<<16&4294967295|N>>>16),N=T+(C^j^A)+k[10]+3200236656&4294967295,T=C+(N<<23&4294967295|N>>>9),N=A+(T^C^j)+k[13]+681279174&4294967295,A=T+(N<<4&4294967295|N>>>28),N=j+(A^T^C)+k[0]+3936430074&4294967295,j=A+(N<<11&4294967295|N>>>21),N=C+(j^A^T)+k[3]+3572445317&4294967295,C=j+(N<<16&4294967295|N>>>16),N=T+(C^j^A)+k[6]+76029189&4294967295,T=C+(N<<23&4294967295|N>>>9),N=A+(T^C^j)+k[9]+3654602809&4294967295,A=T+(N<<4&4294967295|N>>>28),N=j+(A^T^C)+k[12]+3873151461&4294967295,j=A+(N<<11&4294967295|N>>>21),N=C+(j^A^T)+k[15]+530742520&4294967295,C=j+(N<<16&4294967295|N>>>16),N=T+(C^j^A)+k[2]+3299628645&4294967295,T=C+(N<<23&4294967295|N>>>9),N=A+(C^(T|~j))+k[0]+4096336452&4294967295,A=T+(N<<6&4294967295|N>>>26),N=j+(T^(A|~C))+k[7]+1126891415&4294967295,j=A+(N<<10&4294967295|N>>>22),N=C+(A^(j|~T))+k[14]+2878612391&4294967295,C=j+(N<<15&4294967295|N>>>17),N=T+(j^(C|~A))+k[5]+4237533241&4294967295,T=C+(N<<21&4294967295|N>>>11),N=A+(C^(T|~j))+k[12]+1700485571&4294967295,A=T+(N<<6&4294967295|N>>>26),N=j+(T^(A|~C))+k[3]+2399980690&4294967295,j=A+(N<<10&4294967295|N>>>22),N=C+(A^(j|~T))+k[10]+4293915773&4294967295,C=j+(N<<15&4294967295|N>>>17),N=T+(j^(C|~A))+k[1]+2240044497&4294967295,T=C+(N<<21&4294967295|N>>>11),N=A+(C^(T|~j))+k[8]+1873313359&4294967295,A=T+(N<<6&4294967295|N>>>26),N=j+(T^(A|~C))+k[15]+4264355552&4294967295,j=A+(N<<10&4294967295|N>>>22),N=C+(A^(j|~T))+k[6]+2734768916&4294967295,C=j+(N<<15&4294967295|N>>>17),N=T+(j^(C|~A))+k[13]+1309151649&4294967295,T=C+(N<<21&4294967295|N>>>11),N=A+(C^(T|~j))+k[4]+4149444226&4294967295,A=T+(N<<6&4294967295|N>>>26),N=j+(T^(A|~C))+k[11]+3174756917&4294967295,j=A+(N<<10&4294967295|N>>>22),N=C+(A^(j|~T))+k[2]+718787259&4294967295,C=j+(N<<15&4294967295|N>>>17),N=T+(j^(C|~A))+k[9]+3951481745&4294967295,S.g[0]=S.g[0]+A&4294967295,S.g[1]=S.g[1]+(C+(N<<21&4294967295|N>>>11))&4294967295,S.g[2]=S.g[2]+C&4294967295,S.g[3]=S.g[3]+j&4294967295}r.prototype.u=function(S,A){A===void 0&&(A=S.length);for(var T=A-this.blockSize,k=this.B,C=this.h,j=0;j<A;){if(C==0)for(;j<=T;)i(this,S,j),j+=this.blockSize;if(typeof S=="string"){for(;j<A;)if(k[C++]=S.charCodeAt(j++),C==this.blockSize){i(this,k),C=0;break}}else for(;j<A;)if(k[C++]=S[j++],C==this.blockSize){i(this,k),C=0;break}}this.h=C,this.o+=A},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var A=1;A<S.length-8;++A)S[A]=0;var T=8*this.o;for(A=S.length-8;A<S.length;++A)S[A]=T&255,T/=256;for(this.u(S),S=Array(16),A=T=0;4>A;++A)for(var k=0;32>k;k+=8)S[T++]=this.g[A]>>>k&255;return S};function a(S,A){var T=s;return Object.prototype.hasOwnProperty.call(T,S)?T[S]:T[S]=A(S)}function o(S,A){this.h=A;for(var T=[],k=!0,C=S.length-1;0<=C;C--){var j=S[C]|0;k&&j==A||(T[C]=j,k=!1)}this.g=T}var s={};function l(S){return-128<=S&&128>S?a(S,function(A){return new o([A|0],0>A?-1:0)}):new o([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return v(u(-S));for(var A=[],T=1,k=0;S>=T;k++)A[k]=S/T|0,T*=4294967296;return new o(A,0)}function c(S,A){if(S.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(S.charAt(0)=="-")return v(c(S.substring(1),A));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=u(Math.pow(A,8)),k=f,C=0;C<S.length;C+=8){var j=Math.min(8,S.length-C),N=parseInt(S.substring(C,C+j),A);8>j?(j=u(Math.pow(A,j)),k=k.j(j).add(u(N))):(k=k.j(T),k=k.add(u(N)))}return k}var f=l(0),h=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(g(this))return-v(this).m();for(var S=0,A=1,T=0;T<this.g.length;T++){var k=this.i(T);S+=(0<=k?k:4294967296+k)*A,A*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(m(this))return"0";if(g(this))return"-"+v(this).toString(S);for(var A=u(Math.pow(S,6)),T=this,k="";;){var C=I(T,A).g;T=_(T,C.j(A));var j=((0<T.g.length?T.g[0]:T.h)>>>0).toString(S);if(T=C,m(T))return j+k;for(;6>j.length;)j="0"+j;k=j+k}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function m(S){if(S.h!=0)return!1;for(var A=0;A<S.g.length;A++)if(S.g[A]!=0)return!1;return!0}function g(S){return S.h==-1}t.l=function(S){return S=_(this,S),g(S)?-1:m(S)?0:1};function v(S){for(var A=S.g.length,T=[],k=0;k<A;k++)T[k]=~S.g[k];return new o(T,~S.h).add(h)}t.abs=function(){return g(this)?v(this):this},t.add=function(S){for(var A=Math.max(this.g.length,S.g.length),T=[],k=0,C=0;C<=A;C++){var j=k+(this.i(C)&65535)+(S.i(C)&65535),N=(j>>>16)+(this.i(C)>>>16)+(S.i(C)>>>16);k=N>>>16,j&=65535,N&=65535,T[C]=N<<16|j}return new o(T,T[T.length-1]&-2147483648?-1:0)};function _(S,A){return S.add(v(A))}t.j=function(S){if(m(this)||m(S))return f;if(g(this))return g(S)?v(this).j(v(S)):v(v(this).j(S));if(g(S))return v(this.j(v(S)));if(0>this.l(p)&&0>S.l(p))return u(this.m()*S.m());for(var A=this.g.length+S.g.length,T=[],k=0;k<2*A;k++)T[k]=0;for(k=0;k<this.g.length;k++)for(var C=0;C<S.g.length;C++){var j=this.i(k)>>>16,N=this.i(k)&65535,U=S.i(C)>>>16,D=S.i(C)&65535;T[2*k+2*C]+=N*D,y(T,2*k+2*C),T[2*k+2*C+1]+=j*D,y(T,2*k+2*C+1),T[2*k+2*C+1]+=N*U,y(T,2*k+2*C+1),T[2*k+2*C+2]+=j*U,y(T,2*k+2*C+2)}for(k=0;k<A;k++)T[k]=T[2*k+1]<<16|T[2*k];for(k=A;k<2*A;k++)T[k]=0;return new o(T,0)};function y(S,A){for(;(S[A]&65535)!=S[A];)S[A+1]+=S[A]>>>16,S[A]&=65535,A++}function w(S,A){this.g=S,this.h=A}function I(S,A){if(m(A))throw Error("division by zero");if(m(S))return new w(f,f);if(g(S))return A=I(v(S),A),new w(v(A.g),v(A.h));if(g(A))return A=I(S,v(A)),new w(v(A.g),A.h);if(30<S.g.length){if(g(S)||g(A))throw Error("slowDivide_ only works with positive integers.");for(var T=h,k=A;0>=k.l(S);)T=E(T),k=E(k);var C=P(T,1),j=P(k,1);for(k=P(k,2),T=P(T,2);!m(k);){var N=j.add(k);0>=N.l(S)&&(C=C.add(T),j=N),k=P(k,1),T=P(T,1)}return A=_(S,C.j(A)),new w(C,A)}for(C=f;0<=S.l(A);){for(T=Math.max(1,Math.floor(S.m()/A.m())),k=Math.ceil(Math.log(T)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),j=u(T),N=j.j(A);g(N)||0<N.l(S);)T-=k,j=u(T),N=j.j(A);m(j)&&(j=h),C=C.add(j),S=_(S,N)}return new w(C,S)}t.A=function(S){return I(this,S).h},t.and=function(S){for(var A=Math.max(this.g.length,S.g.length),T=[],k=0;k<A;k++)T[k]=this.i(k)&S.i(k);return new o(T,this.h&S.h)},t.or=function(S){for(var A=Math.max(this.g.length,S.g.length),T=[],k=0;k<A;k++)T[k]=this.i(k)|S.i(k);return new o(T,this.h|S.h)},t.xor=function(S){for(var A=Math.max(this.g.length,S.g.length),T=[],k=0;k<A;k++)T[k]=this.i(k)^S.i(k);return new o(T,this.h^S.h)};function E(S){for(var A=S.g.length+1,T=[],k=0;k<A;k++)T[k]=S.i(k)<<1|S.i(k-1)>>>31;return new o(T,S.h)}function P(S,A){var T=A>>5;A%=32;for(var k=S.g.length-T,C=[],j=0;j<k;j++)C[j]=0<A?S.i(j+T)>>>A|S.i(j+T+1)<<32-A:S.i(j+T);return new o(C,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,yN=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,so=o}).apply(typeof _S<"u"?_S:typeof self<"u"?self:typeof window<"u"?window:{});var xd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _N,Cu,bN,rh,c0,wN,xN,EN;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,b,O){return d==Array.prototype||d==Object.prototype||(d[b]=O.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof xd=="object"&&xd];for(var b=0;b<d.length;++b){var O=d[b];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var r=n(this);function i(d,b){if(b)e:{var O=r;d=d.split(".");for(var $=0;$<d.length-1;$++){var L=d[$];if(!(L in O))break e;O=O[L]}d=d[d.length-1],$=O[d],b=b($),b!=$&&b!=null&&e(O,d,{configurable:!0,writable:!0,value:b})}}function a(d,b){d instanceof String&&(d+="");var O=0,$=!1,L={next:function(){if(!$&&O<d.length){var B=O++;return{value:b(B,d[B]),done:!1}}return $=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(d){return d||function(){return a(this,function(b,O){return O})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function l(d){var b=typeof d;return b=b!="object"?b:d?Array.isArray(d)?"array":b:"null",b=="array"||b=="object"&&typeof d.length=="number"}function u(d){var b=typeof d;return b=="object"&&d!=null||b=="function"}function c(d,b,O){return d.call.apply(d.bind,arguments)}function f(d,b,O){if(!d)throw Error();if(2<arguments.length){var $=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,$),d.apply(b,L)}}return function(){return d.apply(b,arguments)}}function h(d,b,O){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,h.apply(null,arguments)}function p(d,b){var O=Array.prototype.slice.call(arguments,1);return function(){var $=O.slice();return $.push.apply($,arguments),d.apply(this,$)}}function m(d,b){function O(){}O.prototype=b.prototype,d.aa=b.prototype,d.prototype=new O,d.prototype.constructor=d,d.Qb=function($,L,B){for(var Z=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)Z[Ue-2]=arguments[Ue];return b.prototype[L].apply($,Z)}}function g(d){const b=d.length;if(0<b){const O=Array(b);for(let $=0;$<b;$++)O[$]=d[$];return O}return[]}function v(d,b){for(let O=1;O<arguments.length;O++){const $=arguments[O];if(l($)){const L=d.length||0,B=$.length||0;d.length=L+B;for(let Z=0;Z<B;Z++)d[L+Z]=$[Z]}else d.push($)}}class _{constructor(b,O){this.i=b,this.j=O,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function y(d){return/^[\s\xa0]*$/.test(d)}function w(){var d=s.navigator;return d&&(d=d.userAgent)?d:""}function I(d){return I[" "](d),d}I[" "]=function(){};var E=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function P(d,b,O){for(const $ in d)b.call(O,d[$],$,d)}function S(d,b){for(const O in d)b.call(void 0,d[O],O,d)}function A(d){const b={};for(const O in d)b[O]=d[O];return b}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(d,b){let O,$;for(let L=1;L<arguments.length;L++){$=arguments[L];for(O in $)d[O]=$[O];for(let B=0;B<T.length;B++)O=T[B],Object.prototype.hasOwnProperty.call($,O)&&(d[O]=$[O])}}function C(d){var b=1;d=d.split(":");const O=[];for(;0<b&&d.length;)O.push(d.shift()),b--;return d.length&&O.push(d.join(":")),O}function j(d){s.setTimeout(()=>{throw d},0)}function N(){var d=z;let b=null;return d.g&&(b=d.g,d.g=d.g.next,d.g||(d.h=null),b.next=null),b}class U{constructor(){this.h=this.g=null}add(b,O){const $=D.get();$.set(b,O),this.h?this.h.next=$:this.g=$,this.h=$}}var D=new _(()=>new F,d=>d.reset());class F{constructor(){this.next=this.g=this.h=null}set(b,O){this.h=b,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let q,V=!1,z=new U,Y=()=>{const d=s.Promise.resolve(void 0);q=()=>{d.then(ee)}};var ee=()=>{for(var d;d=N();){try{d.h.call(d.g)}catch(O){j(O)}var b=D;b.j(d),100>b.h&&(b.h++,d.next=b.g,b.g=d)}V=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(d,b){this.type=d,this.g=this.target=b,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var Ee=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var d=!1,b=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const O=()=>{};s.addEventListener("test",O,b),s.removeEventListener("test",O,b)}catch{}return d}();function je(d,b){if(ne.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var O=this.type=d.type,$=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=b,b=d.relatedTarget){if(E){e:{try{I(b.nodeName);var L=!0;break e}catch{}L=!1}L||(b=null)}}else O=="mouseover"?b=d.fromElement:O=="mouseout"&&(b=d.toElement);this.relatedTarget=b,$?(this.clientX=$.clientX!==void 0?$.clientX:$.pageX,this.clientY=$.clientY!==void 0?$.clientY:$.pageY,this.screenX=$.screenX||0,this.screenY=$.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:rt[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&je.aa.h.call(this)}}m(je,ne);var rt={2:"touch",3:"pen",4:"mouse"};je.prototype.h=function(){je.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Mt="closure_listenable_"+(1e6*Math.random()|0),Gt=0;function te(d,b,O,$,L){this.listener=d,this.proxy=null,this.src=b,this.type=O,this.capture=!!$,this.ha=L,this.key=++Gt,this.da=this.fa=!1}function de(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function me(d){this.src=d,this.g={},this.h=0}me.prototype.add=function(d,b,O,$,L){var B=d.toString();d=this.g[B],d||(d=this.g[B]=[],this.h++);var Z=ze(d,b,$,L);return-1<Z?(b=d[Z],O||(b.fa=!1)):(b=new te(b,this.src,B,!!$,L),b.fa=O,d.push(b)),b};function G(d,b){var O=b.type;if(O in d.g){var $=d.g[O],L=Array.prototype.indexOf.call($,b,void 0),B;(B=0<=L)&&Array.prototype.splice.call($,L,1),B&&(de(b),d.g[O].length==0&&(delete d.g[O],d.h--))}}function ze(d,b,O,$){for(var L=0;L<d.length;++L){var B=d[L];if(!B.da&&B.listener==b&&B.capture==!!O&&B.ha==$)return L}return-1}var be="closure_lm_"+(1e6*Math.random()|0),it={};function ut(d,b,O,$,L){if(Array.isArray(b)){for(var B=0;B<b.length;B++)ut(d,b[B],O,$,L);return null}return O=Hl(O),d&&d[Mt]?d.K(b,O,u($)?!!$.capture:!1,L):Kt(d,b,O,!1,$,L)}function Kt(d,b,O,$,L,B){if(!b)throw Error("Invalid event type");var Z=u(L)?!!L.capture:!!L,Ue=$a(d);if(Ue||(d[be]=Ue=new me(d)),O=Ue.add(b,O,$,Z,B),O.proxy)return O;if($=Sr(),O.proxy=$,$.src=d,$.listener=O,d.addEventListener)Ee||(L=Z),L===void 0&&(L=!1),d.addEventListener(b.toString(),$,L);else if(d.attachEvent)d.attachEvent(Ar(b.toString()),$);else if(d.addListener&&d.removeListener)d.addListener($);else throw Error("addEventListener and attachEvent are unavailable.");return O}function Sr(){function d(O){return b.call(d.src,d.listener,O)}const b=Qr;return d}function Yr(d,b,O,$,L){if(Array.isArray(b))for(var B=0;B<b.length;B++)Yr(d,b[B],O,$,L);else $=u($)?!!$.capture:!!$,O=Hl(O),d&&d[Mt]?(d=d.i,b=String(b).toString(),b in d.g&&(B=d.g[b],O=ze(B,O,$,L),-1<O&&(de(B[O]),Array.prototype.splice.call(B,O,1),B.length==0&&(delete d.g[b],d.h--)))):d&&(d=$a(d))&&(b=d.g[b.toString()],d=-1,b&&(d=ze(b,O,$,L)),(O=-1<d?b[d]:null)&&Mi(O))}function Mi(d){if(typeof d!="number"&&d&&!d.da){var b=d.src;if(b&&b[Mt])G(b.i,d);else{var O=d.type,$=d.proxy;b.removeEventListener?b.removeEventListener(O,$,d.capture):b.detachEvent?b.detachEvent(Ar(O),$):b.addListener&&b.removeListener&&b.removeListener($),(O=$a(b))?(G(O,d),O.h==0&&(O.src=null,b[be]=null)):de(d)}}}function Ar(d){return d in it?it[d]:it[d]="on"+d}function Qr(d,b){if(d.da)d=!0;else{b=new je(b,this);var O=d.listener,$=d.ha||d.src;d.fa&&Mi(d),d=O.call($,b)}return d}function $a(d){return d=d[be],d instanceof me?d:null}var Mo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hl(d){return typeof d=="function"?d:(d[Mo]||(d[Mo]=function(b){return d.handleEvent(b)}),d[Mo])}function Yt(){Q.call(this),this.i=new me(this),this.M=this,this.F=null}m(Yt,Q),Yt.prototype[Mt]=!0,Yt.prototype.removeEventListener=function(d,b,O,$){Yr(this,d,b,O,$)};function un(d,b){var O,$=d.F;if($)for(O=[];$;$=$.F)O.push($);if(d=d.M,$=b.type||b,typeof b=="string")b=new ne(b,d);else if(b instanceof ne)b.target=b.target||d;else{var L=b;b=new ne($,d),k(b,L)}if(L=!0,O)for(var B=O.length-1;0<=B;B--){var Z=b.g=O[B];L=Uf(Z,$,!0,b)&&L}if(Z=b.g=d,L=Uf(Z,$,!0,b)&&L,L=Uf(Z,$,!1,b)&&L,O)for(B=0;B<O.length;B++)Z=b.g=O[B],L=Uf(Z,$,!1,b)&&L}Yt.prototype.N=function(){if(Yt.aa.N.call(this),this.i){var d=this.i,b;for(b in d.g){for(var O=d.g[b],$=0;$<O.length;$++)de(O[$]);delete d.g[b],d.h--}}this.F=null},Yt.prototype.K=function(d,b,O,$){return this.i.add(String(d),b,!1,O,$)},Yt.prototype.L=function(d,b,O,$){return this.i.add(String(d),b,!0,O,$)};function Uf(d,b,O,$){if(b=d.i.g[String(b)],!b)return!0;b=b.concat();for(var L=!0,B=0;B<b.length;++B){var Z=b[B];if(Z&&!Z.da&&Z.capture==O){var Ue=Z.listener,Lt=Z.ha||Z.src;Z.fa&&G(d.i,Z),L=Ue.call(Lt,$)!==!1&&L}}return L&&!$.defaultPrevented}function nE(d,b,O){if(typeof d=="function")O&&(d=h(d,O));else if(d&&typeof d.handleEvent=="function")d=h(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:s.setTimeout(d,b||0)}function rE(d){d.g=nE(()=>{d.g=null,d.i&&(d.i=!1,rE(d))},d.l);const b=d.h;d.h=null,d.m.apply(null,b)}class pM extends Q{constructor(b,O){super(),this.m=b,this.l=O,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:rE(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gl(d){Q.call(this),this.h=d,this.g={}}m(Gl,Q);var iE=[];function aE(d){P(d.g,function(b,O){this.g.hasOwnProperty(O)&&Mi(b)},d),d.g={}}Gl.prototype.N=function(){Gl.aa.N.call(this),aE(this)},Gl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jg=s.JSON.stringify,mM=s.JSON.parse,gM=class{stringify(d){return s.JSON.stringify(d,void 0)}parse(d){return s.JSON.parse(d,void 0)}};function $g(){}$g.prototype.h=null;function oE(d){return d.h||(d.h=d.i())}function sE(){}var Kl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Rg(){ne.call(this,"d")}m(Rg,ne);function Dg(){ne.call(this,"c")}m(Dg,ne);var Ra={},lE=null;function Bf(){return lE=lE||new Yt}Ra.La="serverreachability";function uE(d){ne.call(this,Ra.La,d)}m(uE,ne);function Yl(d){const b=Bf();un(b,new uE(b))}Ra.STAT_EVENT="statevent";function cE(d,b){ne.call(this,Ra.STAT_EVENT,d),this.stat=b}m(cE,ne);function cn(d){const b=Bf();un(b,new cE(b,d))}Ra.Ma="timingevent";function fE(d,b){ne.call(this,Ra.Ma,d),this.size=b}m(fE,ne);function Ql(d,b){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){d()},b)}function Xl(){this.g=!0}Xl.prototype.xa=function(){this.g=!1};function vM(d,b,O,$,L,B){d.info(function(){if(d.g)if(B)for(var Z="",Ue=B.split("&"),Lt=0;Lt<Ue.length;Lt++){var Oe=Ue[Lt].split("=");if(1<Oe.length){var Qt=Oe[0];Oe=Oe[1];var Xt=Qt.split("_");Z=2<=Xt.length&&Xt[1]=="type"?Z+(Qt+"="+Oe+"&"):Z+(Qt+"=redacted&")}}else Z=null;else Z=B;return"XMLHTTP REQ ("+$+") [attempt "+L+"]: "+b+`
`+O+`
`+Z})}function yM(d,b,O,$,L,B,Z){d.info(function(){return"XMLHTTP RESP ("+$+") [ attempt "+L+"]: "+b+`
`+O+`
`+B+" "+Z})}function Lo(d,b,O,$){d.info(function(){return"XMLHTTP TEXT ("+b+"): "+bM(d,O)+($?" "+$:"")})}function _M(d,b){d.info(function(){return"TIMEOUT: "+b})}Xl.prototype.info=function(){};function bM(d,b){if(!d.g)return b;if(!b)return null;try{var O=JSON.parse(b);if(O){for(d=0;d<O.length;d++)if(Array.isArray(O[d])){var $=O[d];if(!(2>$.length)){var L=$[1];if(Array.isArray(L)&&!(1>L.length)){var B=L[0];if(B!="noop"&&B!="stop"&&B!="close")for(var Z=1;Z<L.length;Z++)L[Z]=""}}}}return jg(O)}catch{return b}}var zf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},dE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Mg;function Wf(){}m(Wf,$g),Wf.prototype.g=function(){return new XMLHttpRequest},Wf.prototype.i=function(){return{}},Mg=new Wf;function Li(d,b,O,$){this.j=d,this.i=b,this.l=O,this.R=$||1,this.U=new Gl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new hE}function hE(){this.i=null,this.g="",this.h=!1}var pE={},Lg={};function Fg(d,b,O){d.L=1,d.v=Kf(Xr(b)),d.m=O,d.P=!0,mE(d,null)}function mE(d,b){d.F=Date.now(),qf(d),d.A=Xr(d.v);var O=d.A,$=d.R;Array.isArray($)||($=[String($)]),IE(O.i,"t",$),d.C=0,O=d.j.J,d.h=new hE,d.g=GE(d.j,O?b:null,!d.m),0<d.O&&(d.M=new pM(h(d.Y,d,d.g),d.O)),b=d.U,O=d.g,$=d.ca;var L="readystatechange";Array.isArray(L)||(L&&(iE[0]=L.toString()),L=iE);for(var B=0;B<L.length;B++){var Z=ut(O,L[B],$||b.handleEvent,!1,b.h||b);if(!Z)break;b.g[Z.key]=Z}b=d.H?A(d.H):{},d.m?(d.u||(d.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,b)):(d.u="GET",d.g.ea(d.A,d.u,null,b)),Yl(),vM(d.i,d.u,d.A,d.l,d.R,d.m)}Li.prototype.ca=function(d){d=d.target;const b=this.M;b&&Jr(d)==3?b.j():this.Y(d)},Li.prototype.Y=function(d){try{if(d==this.g)e:{const Xt=Jr(this.g);var b=this.g.Ba();const Uo=this.g.Z();if(!(3>Xt)&&(Xt!=3||this.g&&(this.h.h||this.g.oa()||DE(this.g)))){this.J||Xt!=4||b==7||(b==8||0>=Uo?Yl(3):Yl(2)),Vg(this);var O=this.g.Z();this.X=O;t:if(gE(this)){var $=DE(this.g);d="";var L=$.length,B=Jr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Da(this),Jl(this);var Z="";break t}this.h.i=new s.TextDecoder}for(b=0;b<L;b++)this.h.h=!0,d+=this.h.i.decode($[b],{stream:!(B&&b==L-1)});$.length=0,this.h.g+=d,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=O==200,yM(this.i,this.u,this.A,this.l,this.R,Xt,O),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,Lt=this.g;if((Ue=Lt.g?Lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Ue)){var Oe=Ue;break t}}Oe=null}if(O=Oe)Lo(this.i,this.l,O,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ug(this,O);else{this.o=!1,this.s=3,cn(12),Da(this),Jl(this);break e}}if(this.P){O=!0;let or;for(;!this.J&&this.C<Z.length;)if(or=wM(this,Z),or==Lg){Xt==4&&(this.s=4,cn(14),O=!1),Lo(this.i,this.l,null,"[Incomplete Response]");break}else if(or==pE){this.s=4,cn(15),Lo(this.i,this.l,Z,"[Invalid Chunk]"),O=!1;break}else Lo(this.i,this.l,or,null),Ug(this,or);if(gE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xt!=4||Z.length!=0||this.h.h||(this.s=1,cn(16),O=!1),this.o=this.o&&O,!O)Lo(this.i,this.l,Z,"[Invalid Chunked Response]"),Da(this),Jl(this);else if(0<Z.length&&!this.W){this.W=!0;var Qt=this.j;Qt.g==this&&Qt.ba&&!Qt.M&&(Qt.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),Gg(Qt),Qt.M=!0,cn(11))}}else Lo(this.i,this.l,Z,null),Ug(this,Z);Xt==4&&Da(this),this.o&&!this.J&&(Xt==4?zE(this.j,this):(this.o=!1,qf(this)))}else LM(this.g),O==400&&0<Z.indexOf("Unknown SID")?(this.s=3,cn(12)):(this.s=0,cn(13)),Da(this),Jl(this)}}}catch{}finally{}};function gE(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function wM(d,b){var O=d.C,$=b.indexOf(`
`,O);return $==-1?Lg:(O=Number(b.substring(O,$)),isNaN(O)?pE:($+=1,$+O>b.length?Lg:(b=b.slice($,$+O),d.C=$+O,b)))}Li.prototype.cancel=function(){this.J=!0,Da(this)};function qf(d){d.S=Date.now()+d.I,vE(d,d.I)}function vE(d,b){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Ql(h(d.ba,d),b)}function Vg(d){d.B&&(s.clearTimeout(d.B),d.B=null)}Li.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(_M(this.i,this.A),this.L!=2&&(Yl(),cn(17)),Da(this),this.s=2,Jl(this)):vE(this,this.S-d)};function Jl(d){d.j.G==0||d.J||zE(d.j,d)}function Da(d){Vg(d);var b=d.M;b&&typeof b.ma=="function"&&b.ma(),d.M=null,aE(d.U),d.g&&(b=d.g,d.g=null,b.abort(),b.ma())}function Ug(d,b){try{var O=d.j;if(O.G!=0&&(O.g==d||Bg(O.h,d))){if(!d.K&&Bg(O.h,d)&&O.G==3){try{var $=O.Da.g.parse(b)}catch{$=null}if(Array.isArray($)&&$.length==3){var L=$;if(L[0]==0){e:if(!O.u){if(O.g)if(O.g.F+3e3<d.F)ed(O),Jf(O);else break e;Hg(O),cn(18)}}else O.za=L[1],0<O.za-O.T&&37500>L[2]&&O.F&&O.v==0&&!O.C&&(O.C=Ql(h(O.Za,O),6e3));if(1>=bE(O.h)&&O.ca){try{O.ca()}catch{}O.ca=void 0}}else La(O,11)}else if((d.K||O.g==d)&&ed(O),!y(b))for(L=O.Da.g.parse(b),b=0;b<L.length;b++){let Oe=L[b];if(O.T=Oe[0],Oe=Oe[1],O.G==2)if(Oe[0]=="c"){O.K=Oe[1],O.ia=Oe[2];const Qt=Oe[3];Qt!=null&&(O.la=Qt,O.j.info("VER="+O.la));const Xt=Oe[4];Xt!=null&&(O.Aa=Xt,O.j.info("SVER="+O.Aa));const Uo=Oe[5];Uo!=null&&typeof Uo=="number"&&0<Uo&&($=1.5*Uo,O.L=$,O.j.info("backChannelRequestTimeoutMs_="+$)),$=O;const or=d.g;if(or){const nd=or.g?or.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(nd){var B=$.h;B.g||nd.indexOf("spdy")==-1&&nd.indexOf("quic")==-1&&nd.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(zg(B,B.h),B.h=null))}if($.D){const Kg=or.g?or.g.getResponseHeader("X-HTTP-Session-Id"):null;Kg&&($.ya=Kg,Ye($.I,$.D,Kg))}}O.G=3,O.l&&O.l.ua(),O.ba&&(O.R=Date.now()-d.F,O.j.info("Handshake RTT: "+O.R+"ms")),$=O;var Z=d;if($.qa=HE($,$.J?$.ia:null,$.W),Z.K){wE($.h,Z);var Ue=Z,Lt=$.L;Lt&&(Ue.I=Lt),Ue.B&&(Vg(Ue),qf(Ue)),$.g=Z}else UE($);0<O.i.length&&Zf(O)}else Oe[0]!="stop"&&Oe[0]!="close"||La(O,7);else O.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?La(O,7):qg(O):Oe[0]!="noop"&&O.l&&O.l.ta(Oe),O.v=0)}}Yl(4)}catch{}}var xM=class{constructor(d,b){this.g=d,this.map=b}};function yE(d){this.l=d||10,s.PerformanceNavigationTiming?(d=s.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _E(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function bE(d){return d.h?1:d.g?d.g.size:0}function Bg(d,b){return d.h?d.h==b:d.g?d.g.has(b):!1}function zg(d,b){d.g?d.g.add(b):d.h=b}function wE(d,b){d.h&&d.h==b?d.h=null:d.g&&d.g.has(b)&&d.g.delete(b)}yE.prototype.cancel=function(){if(this.i=xE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function xE(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let b=d.i;for(const O of d.g.values())b=b.concat(O.D);return b}return g(d.i)}function EM(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var b=[],O=d.length,$=0;$<O;$++)b.push(d[$]);return b}b=[],O=0;for($ in d)b[O++]=d[$];return b}function SM(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var b=[];d=d.length;for(var O=0;O<d;O++)b.push(O);return b}b=[],O=0;for(const $ in d)b[O++]=$;return b}}}function EE(d,b){if(d.forEach&&typeof d.forEach=="function")d.forEach(b,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,b,void 0);else for(var O=SM(d),$=EM(d),L=$.length,B=0;B<L;B++)b.call(void 0,$[B],O&&O[B],d)}var SE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function AM(d,b){if(d){d=d.split("&");for(var O=0;O<d.length;O++){var $=d[O].indexOf("="),L=null;if(0<=$){var B=d[O].substring(0,$);L=d[O].substring($+1)}else B=d[O];b(B,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Ma(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Ma){this.h=d.h,Hf(this,d.j),this.o=d.o,this.g=d.g,Gf(this,d.s),this.l=d.l;var b=d.i,O=new tu;O.i=b.i,b.g&&(O.g=new Map(b.g),O.h=b.h),AE(this,O),this.m=d.m}else d&&(b=String(d).match(SE))?(this.h=!1,Hf(this,b[1]||"",!0),this.o=Zl(b[2]||""),this.g=Zl(b[3]||"",!0),Gf(this,b[4]),this.l=Zl(b[5]||"",!0),AE(this,b[6]||"",!0),this.m=Zl(b[7]||"")):(this.h=!1,this.i=new tu(null,this.h))}Ma.prototype.toString=function(){var d=[],b=this.j;b&&d.push(eu(b,TE,!0),":");var O=this.g;return(O||b=="file")&&(d.push("//"),(b=this.o)&&d.push(eu(b,TE,!0),"@"),d.push(encodeURIComponent(String(O)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.s,O!=null&&d.push(":",String(O))),(O=this.l)&&(this.g&&O.charAt(0)!="/"&&d.push("/"),d.push(eu(O,O.charAt(0)=="/"?OM:PM,!0))),(O=this.i.toString())&&d.push("?",O),(O=this.m)&&d.push("#",eu(O,kM)),d.join("")};function Xr(d){return new Ma(d)}function Hf(d,b,O){d.j=O?Zl(b,!0):b,d.j&&(d.j=d.j.replace(/:$/,""))}function Gf(d,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);d.s=b}else d.s=null}function AE(d,b,O){b instanceof tu?(d.i=b,CM(d.i,d.h)):(O||(b=eu(b,IM)),d.i=new tu(b,d.h))}function Ye(d,b,O){d.i.set(b,O)}function Kf(d){return Ye(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Zl(d,b){return d?b?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function eu(d,b,O){return typeof d=="string"?(d=encodeURI(d).replace(b,TM),O&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function TM(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var TE=/[#\/\?@]/g,PM=/[#\?:]/g,OM=/[#\?]/g,IM=/[#\?@]/g,kM=/#/g;function tu(d,b){this.h=this.g=null,this.i=d||null,this.j=!!b}function Fi(d){d.g||(d.g=new Map,d.h=0,d.i&&AM(d.i,function(b,O){d.add(decodeURIComponent(b.replace(/\+/g," ")),O)}))}t=tu.prototype,t.add=function(d,b){Fi(this),this.i=null,d=Fo(this,d);var O=this.g.get(d);return O||this.g.set(d,O=[]),O.push(b),this.h+=1,this};function PE(d,b){Fi(d),b=Fo(d,b),d.g.has(b)&&(d.i=null,d.h-=d.g.get(b).length,d.g.delete(b))}function OE(d,b){return Fi(d),b=Fo(d,b),d.g.has(b)}t.forEach=function(d,b){Fi(this),this.g.forEach(function(O,$){O.forEach(function(L){d.call(b,L,$,this)},this)},this)},t.na=function(){Fi(this);const d=Array.from(this.g.values()),b=Array.from(this.g.keys()),O=[];for(let $=0;$<b.length;$++){const L=d[$];for(let B=0;B<L.length;B++)O.push(b[$])}return O},t.V=function(d){Fi(this);let b=[];if(typeof d=="string")OE(this,d)&&(b=b.concat(this.g.get(Fo(this,d))));else{d=Array.from(this.g.values());for(let O=0;O<d.length;O++)b=b.concat(d[O])}return b},t.set=function(d,b){return Fi(this),this.i=null,d=Fo(this,d),OE(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[b]),this.h+=1,this},t.get=function(d,b){return d?(d=this.V(d),0<d.length?String(d[0]):b):b};function IE(d,b,O){PE(d,b),0<O.length&&(d.i=null,d.g.set(Fo(d,b),g(O)),d.h+=O.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],b=Array.from(this.g.keys());for(var O=0;O<b.length;O++){var $=b[O];const B=encodeURIComponent(String($)),Z=this.V($);for($=0;$<Z.length;$++){var L=B;Z[$]!==""&&(L+="="+encodeURIComponent(String(Z[$]))),d.push(L)}}return this.i=d.join("&")};function Fo(d,b){return b=String(b),d.j&&(b=b.toLowerCase()),b}function CM(d,b){b&&!d.j&&(Fi(d),d.i=null,d.g.forEach(function(O,$){var L=$.toLowerCase();$!=L&&(PE(this,$),IE(this,L,O))},d)),d.j=b}function NM(d,b){const O=new Xl;if(s.Image){const $=new Image;$.onload=p(Vi,O,"TestLoadImage: loaded",!0,b,$),$.onerror=p(Vi,O,"TestLoadImage: error",!1,b,$),$.onabort=p(Vi,O,"TestLoadImage: abort",!1,b,$),$.ontimeout=p(Vi,O,"TestLoadImage: timeout",!1,b,$),s.setTimeout(function(){$.ontimeout&&$.ontimeout()},1e4),$.src=d}else b(!1)}function jM(d,b){const O=new Xl,$=new AbortController,L=setTimeout(()=>{$.abort(),Vi(O,"TestPingServer: timeout",!1,b)},1e4);fetch(d,{signal:$.signal}).then(B=>{clearTimeout(L),B.ok?Vi(O,"TestPingServer: ok",!0,b):Vi(O,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(L),Vi(O,"TestPingServer: error",!1,b)})}function Vi(d,b,O,$,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),$(O)}catch{}}function $M(){this.g=new gM}function RM(d,b,O){const $=O||"";try{EE(d,function(L,B){let Z=L;u(L)&&(Z=jg(L)),b.push($+B+"="+encodeURIComponent(Z))})}catch(L){throw b.push($+"type="+encodeURIComponent("_badmap")),L}}function Yf(d){this.l=d.Ub||null,this.j=d.eb||!1}m(Yf,$g),Yf.prototype.g=function(){return new Qf(this.l,this.j)},Yf.prototype.i=function(d){return function(){return d}}({});function Qf(d,b){Yt.call(this),this.D=d,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(Qf,Yt),t=Qf.prototype,t.open=function(d,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=b,this.readyState=1,ru(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(b.body=d),(this.D||s).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,nu(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,ru(this)),this.g&&(this.readyState=3,ru(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;kE(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function kE(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var b=d.value?d.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!d.done}))&&(this.response=this.responseText+=b)}d.done?nu(this):ru(this),this.readyState==3&&kE(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,nu(this))},t.Qa=function(d){this.g&&(this.response=d,nu(this))},t.ga=function(){this.g&&nu(this)};function nu(d){d.readyState=4,d.l=null,d.j=null,d.v=null,ru(d)}t.setRequestHeader=function(d,b){this.u.append(d,b)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],b=this.h.entries();for(var O=b.next();!O.done;)O=O.value,d.push(O[0]+": "+O[1]),O=b.next();return d.join(`\r
`)};function ru(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Qf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function CE(d){let b="";return P(d,function(O,$){b+=$,b+=":",b+=O,b+=`\r
`}),b}function Wg(d,b,O){e:{for($ in O){var $=!1;break e}$=!0}$||(O=CE(O),typeof d=="string"?O!=null&&encodeURIComponent(String(O)):Ye(d,b,O))}function ct(d){Yt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(ct,Yt);var DM=/^https?$/i,MM=["POST","PUT"];t=ct.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,b,O,$){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);b=b?b.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mg.g(),this.v=this.o?oE(this.o):oE(Mg),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(b,String(d),!0),this.B=!1}catch(B){NE(this,B);return}if(d=O||"",O=new Map(this.headers),$)if(Object.getPrototypeOf($)===Object.prototype)for(var L in $)O.set(L,$[L]);else if(typeof $.keys=="function"&&typeof $.get=="function")for(const B of $.keys())O.set(B,$.get(B));else throw Error("Unknown input type for opt_headers: "+String($));$=Array.from(O.keys()).find(B=>B.toLowerCase()=="content-type"),L=s.FormData&&d instanceof s.FormData,!(0<=Array.prototype.indexOf.call(MM,b,void 0))||$||L||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,Z]of O)this.g.setRequestHeader(B,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{RE(this),this.u=!0,this.g.send(d),this.u=!1}catch(B){NE(this,B)}};function NE(d,b){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=b,d.m=5,jE(d),Xf(d)}function jE(d){d.A||(d.A=!0,un(d,"complete"),un(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,un(this,"complete"),un(this,"abort"),Xf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xf(this,!0)),ct.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?$E(this):this.bb())},t.bb=function(){$E(this)};function $E(d){if(d.h&&typeof o<"u"&&(!d.v[1]||Jr(d)!=4||d.Z()!=2)){if(d.u&&Jr(d)==4)nE(d.Ea,0,d);else if(un(d,"readystatechange"),Jr(d)==4){d.h=!1;try{const Z=d.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var O;if(!(O=b)){var $;if($=Z===0){var L=String(d.D).match(SE)[1]||null;!L&&s.self&&s.self.location&&(L=s.self.location.protocol.slice(0,-1)),$=!DM.test(L?L.toLowerCase():"")}O=$}if(O)un(d,"complete"),un(d,"success");else{d.m=6;try{var B=2<Jr(d)?d.g.statusText:""}catch{B=""}d.l=B+" ["+d.Z()+"]",jE(d)}}finally{Xf(d)}}}}function Xf(d,b){if(d.g){RE(d);const O=d.g,$=d.v[0]?()=>{}:null;d.g=null,d.v=null,b||un(d,"ready");try{O.onreadystatechange=$}catch{}}}function RE(d){d.I&&(s.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Jr(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Jr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var b=this.g.responseText;return d&&b.indexOf(d)==0&&(b=b.substring(d.length)),mM(b)}};function DE(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function LM(d){const b={};d=(d.g&&2<=Jr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let $=0;$<d.length;$++){if(y(d[$]))continue;var O=C(d[$]);const L=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const B=b[L]||[];b[L]=B,B.push(O)}S(b,function($){return $.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function iu(d,b,O){return O&&O.internalChannelParams&&O.internalChannelParams[d]||b}function ME(d){this.Aa=0,this.i=[],this.j=new Xl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=iu("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=iu("baseRetryDelayMs",5e3,d),this.cb=iu("retryDelaySeedMs",1e4,d),this.Wa=iu("forwardChannelMaxRetries",2,d),this.wa=iu("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new yE(d&&d.concurrentRequestLimit),this.Da=new $M,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ME.prototype,t.la=8,t.G=1,t.connect=function(d,b,O,$){cn(0),this.W=d,this.H=b||{},O&&$!==void 0&&(this.H.OSID=O,this.H.OAID=$),this.F=this.X,this.I=HE(this,null,this.W),Zf(this)};function qg(d){if(LE(d),d.G==3){var b=d.U++,O=Xr(d.I);if(Ye(O,"SID",d.K),Ye(O,"RID",b),Ye(O,"TYPE","terminate"),au(d,O),b=new Li(d,d.j,b),b.L=2,b.v=Kf(Xr(O)),O=!1,s.navigator&&s.navigator.sendBeacon)try{O=s.navigator.sendBeacon(b.v.toString(),"")}catch{}!O&&s.Image&&(new Image().src=b.v,O=!0),O||(b.g=GE(b.j,null),b.g.ea(b.v)),b.F=Date.now(),qf(b)}qE(d)}function Jf(d){d.g&&(Gg(d),d.g.cancel(),d.g=null)}function LE(d){Jf(d),d.u&&(s.clearTimeout(d.u),d.u=null),ed(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&s.clearTimeout(d.s),d.s=null)}function Zf(d){if(!_E(d.h)&&!d.s){d.s=!0;var b=d.Ga;q||Y(),V||(q(),V=!0),z.add(b,d),d.B=0}}function FM(d,b){return bE(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=b.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Ql(h(d.Ga,d,b),WE(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const L=new Li(this,this.j,d);let B=this.o;if(this.S&&(B?(B=A(B),k(B,this.S)):B=this.S),this.m!==null||this.O||(L.H=B,B=null),this.P)e:{for(var b=0,O=0;O<this.i.length;O++){t:{var $=this.i[O];if("__data__"in $.map&&($=$.map.__data__,typeof $=="string")){$=$.length;break t}$=void 0}if($===void 0)break;if(b+=$,4096<b){b=O;break e}if(b===4096||O===this.i.length-1){b=O+1;break e}}b=1e3}else b=1e3;b=VE(this,L,b),O=Xr(this.I),Ye(O,"RID",d),Ye(O,"CVER",22),this.D&&Ye(O,"X-HTTP-Session-Id",this.D),au(this,O),B&&(this.O?b="headers="+encodeURIComponent(String(CE(B)))+"&"+b:this.m&&Wg(O,this.m,B)),zg(this.h,L),this.Ua&&Ye(O,"TYPE","init"),this.P?(Ye(O,"$req",b),Ye(O,"SID","null"),L.T=!0,Fg(L,O,null)):Fg(L,O,b),this.G=2}}else this.G==3&&(d?FE(this,d):this.i.length==0||_E(this.h)||FE(this))};function FE(d,b){var O;b?O=b.l:O=d.U++;const $=Xr(d.I);Ye($,"SID",d.K),Ye($,"RID",O),Ye($,"AID",d.T),au(d,$),d.m&&d.o&&Wg($,d.m,d.o),O=new Li(d,d.j,O,d.B+1),d.m===null&&(O.H=d.o),b&&(d.i=b.D.concat(d.i)),b=VE(d,O,1e3),O.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),zg(d.h,O),Fg(O,$,b)}function au(d,b){d.H&&P(d.H,function(O,$){Ye(b,$,O)}),d.l&&EE({},function(O,$){Ye(b,$,O)})}function VE(d,b,O){O=Math.min(d.i.length,O);var $=d.l?h(d.l.Na,d.l,d):null;e:{var L=d.i;let B=-1;for(;;){const Z=["count="+O];B==-1?0<O?(B=L[0].g,Z.push("ofs="+B)):B=0:Z.push("ofs="+B);let Ue=!0;for(let Lt=0;Lt<O;Lt++){let Oe=L[Lt].g;const Qt=L[Lt].map;if(Oe-=B,0>Oe)B=Math.max(0,L[Lt].g-100),Ue=!1;else try{RM(Qt,Z,"req"+Oe+"_")}catch{$&&$(Qt)}}if(Ue){$=Z.join("&");break e}}}return d=d.i.splice(0,O),b.D=d,$}function UE(d){if(!d.g&&!d.u){d.Y=1;var b=d.Fa;q||Y(),V||(q(),V=!0),z.add(b,d),d.v=0}}function Hg(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Ql(h(d.Fa,d),WE(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,BE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Ql(h(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,cn(10),Jf(this),BE(this))};function Gg(d){d.A!=null&&(s.clearTimeout(d.A),d.A=null)}function BE(d){d.g=new Li(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var b=Xr(d.qa);Ye(b,"RID","rpc"),Ye(b,"SID",d.K),Ye(b,"AID",d.T),Ye(b,"CI",d.F?"0":"1"),!d.F&&d.ja&&Ye(b,"TO",d.ja),Ye(b,"TYPE","xmlhttp"),au(d,b),d.m&&d.o&&Wg(b,d.m,d.o),d.L&&(d.g.I=d.L);var O=d.g;d=d.ia,O.L=1,O.v=Kf(Xr(b)),O.m=null,O.P=!0,mE(O,d)}t.Za=function(){this.C!=null&&(this.C=null,Jf(this),Hg(this),cn(19))};function ed(d){d.C!=null&&(s.clearTimeout(d.C),d.C=null)}function zE(d,b){var O=null;if(d.g==b){ed(d),Gg(d),d.g=null;var $=2}else if(Bg(d.h,b))O=b.D,wE(d.h,b),$=1;else return;if(d.G!=0){if(b.o)if($==1){O=b.m?b.m.length:0,b=Date.now()-b.F;var L=d.B;$=Bf(),un($,new fE($,O)),Zf(d)}else UE(d);else if(L=b.s,L==3||L==0&&0<b.X||!($==1&&FM(d,b)||$==2&&Hg(d)))switch(O&&0<O.length&&(b=d.h,b.i=b.i.concat(O)),L){case 1:La(d,5);break;case 4:La(d,10);break;case 3:La(d,6);break;default:La(d,2)}}}function WE(d,b){let O=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(O*=2),O*b}function La(d,b){if(d.j.info("Error code "+b),b==2){var O=h(d.fb,d),$=d.Xa;const L=!$;$=new Ma($||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Hf($,"https"),Kf($),L?NM($.toString(),O):jM($.toString(),O)}else cn(2);d.G=0,d.l&&d.l.sa(b),qE(d),LE(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),cn(2)):(this.j.info("Failed to ping google.com"),cn(1))};function qE(d){if(d.G=0,d.ka=[],d.l){const b=xE(d.h);(b.length!=0||d.i.length!=0)&&(v(d.ka,b),v(d.ka,d.i),d.h.i.length=0,g(d.i),d.i.length=0),d.l.ra()}}function HE(d,b,O){var $=O instanceof Ma?Xr(O):new Ma(O);if($.g!="")b&&($.g=b+"."+$.g),Gf($,$.s);else{var L=s.location;$=L.protocol,b=b?b+"."+L.hostname:L.hostname,L=+L.port;var B=new Ma(null);$&&Hf(B,$),b&&(B.g=b),L&&Gf(B,L),O&&(B.l=O),$=B}return O=d.D,b=d.ya,O&&b&&Ye($,O,b),Ye($,"VER",d.la),au(d,$),$}function GE(d,b,O){if(b&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=d.Ca&&!d.pa?new ct(new Yf({eb:O})):new ct(d.pa),b.Ha(d.J),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function KE(){}t=KE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function td(){}td.prototype.g=function(d,b){return new On(d,b)};function On(d,b){Yt.call(this),this.g=new ME(b),this.l=d,this.h=b&&b.messageUrlParams||null,d=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(d?d["X-WebChannel-Content-Type"]=b.messageContentType:d={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(d?d["X-WebChannel-Client-Profile"]=b.va:d={"X-WebChannel-Client-Profile":b.va}),this.g.S=d,(d=b&&b.Sb)&&!y(d)&&(this.g.m=d),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!y(b)&&(this.g.D=b,d=this.h,d!==null&&b in d&&(d=this.h,b in d&&delete d[b])),this.j=new Vo(this)}m(On,Yt),On.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},On.prototype.close=function(){qg(this.g)},On.prototype.o=function(d){var b=this.g;if(typeof d=="string"){var O={};O.__data__=d,d=O}else this.u&&(O={},O.__data__=jg(d),d=O);b.i.push(new xM(b.Ya++,d)),b.G==3&&Zf(b)},On.prototype.N=function(){this.g.l=null,delete this.j,qg(this.g),delete this.g,On.aa.N.call(this)};function YE(d){Rg.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var b=d.__sm__;if(b){e:{for(const O in b){d=O;break e}d=void 0}(this.i=d)&&(d=this.i,b=b!==null&&d in b?b[d]:void 0),this.data=b}else this.data=d}m(YE,Rg);function QE(){Dg.call(this),this.status=1}m(QE,Dg);function Vo(d){this.g=d}m(Vo,KE),Vo.prototype.ua=function(){un(this.g,"a")},Vo.prototype.ta=function(d){un(this.g,new YE(d))},Vo.prototype.sa=function(d){un(this.g,new QE)},Vo.prototype.ra=function(){un(this.g,"b")},td.prototype.createWebChannel=td.prototype.g,On.prototype.send=On.prototype.o,On.prototype.open=On.prototype.m,On.prototype.close=On.prototype.close,EN=function(){return new td},xN=function(){return Bf()},wN=Ra,c0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zf.NO_ERROR=0,zf.TIMEOUT=8,zf.HTTP_ERROR=6,rh=zf,dE.COMPLETE="complete",bN=dE,sE.EventType=Kl,Kl.OPEN="a",Kl.CLOSE="b",Kl.ERROR="c",Kl.MESSAGE="d",Yt.prototype.listen=Yt.prototype.K,Cu=sE,ct.prototype.listenOnce=ct.prototype.L,ct.prototype.getLastError=ct.prototype.Ka,ct.prototype.getLastErrorCode=ct.prototype.Ba,ct.prototype.getStatus=ct.prototype.Z,ct.prototype.getResponseJson=ct.prototype.Oa,ct.prototype.getResponseText=ct.prototype.oa,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Ha,_N=ct}).apply(typeof xd<"u"?xd:typeof self<"u"?self:typeof window<"u"?window:{});const bS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tl="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=new tw("@firebase/firestore");function pu(){return yo.logLevel}function oe(t,...e){if(yo.logLevel<=Se.DEBUG){const n=e.map(rw);yo.debug(`Firestore (${Tl}): ${t}`,...n)}}function Ai(t,...e){if(yo.logLevel<=Se.ERROR){const n=e.map(rw);yo.error(`Firestore (${Tl}): ${t}`,...n)}}function Us(t,...e){if(yo.logLevel<=Se.WARN){const n=e.map(rw);yo.warn(`Firestore (${Tl}): ${t}`,...n)}}function rw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(t="Unexpected state"){const e=`FIRESTORE (${Tl}) INTERNAL ASSERTION FAILED: `+t;throw Ai(e),new Error(e)}function Le(t,e){t||pe()}function ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends ji{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(nn.UNAUTHENTICATED))}shutdown(){}}class gB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class vB{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Le(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let a=new va;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new va,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=a;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new va)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Le(typeof r.accessToken=="string"),new SN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string"),new nn(e)}}class yB{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class _B{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new yB(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wB{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Le(this.o===void 0);const r=a=>{a.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.R;return this.R=a.token,oe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Le(typeof n.token=="string"),this.R=n.token,new bB(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xB(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=xB(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%e.length))}return r}}function ke(t,e){return t<e?-1:t>e?1:0}function Bs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ae(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Pt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ge(e)}static min(){return new ge(new Pt(0,0))}static max(){return new ge(new Pt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,n,r){n===void 0?n=0:n>e.length&&pe(),r===void 0?r=e.length-n:r>e.length-n&&pe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return xc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=e.get(i),o=n.get(i);if(a<o)return-1;if(a>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ze extends xc{construct(e,n,r){return new Ze(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ze(n)}static emptyPath(){return new Ze([])}}const EB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends xc{construct(e,n,r){return new Bt(e,n,r)}static isValidIdentifier(e){return EB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Bt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new ae(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new ae(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ae(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new ae(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(n)}static emptyPath(){return new Bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.path=e}static fromPath(e){return new se(Ze.fromString(e))}static fromName(e){return new se(Ze.fromString(e).popFirst(5))}static empty(){return new se(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new Ze(e.slice()))}}function SB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ge.fromTimestamp(r===1e9?new Pt(n+1,0):new Pt(n,r));return new xa(i,se.empty(),e)}function AB(t){return new xa(t.readTime,t.key,-1)}class xa{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new xa(ge.min(),se.empty(),-1)}static max(){return new xa(ge.max(),se.empty(),-1)}}function TB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=se.comparator(t.documentKey,e.documentKey),n!==0?n:ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wf(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==PB)throw t;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new K((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):K.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):K.reject(n)}static resolve(e){return new K((n,r)=>{n(e)})}static reject(e){return new K((n,r)=>{r(e)})}static waitFor(e){return new K((n,r)=>{let i=0,a=0,o=!1;e.forEach(s=>{++i,s.next(()=>{++a,o&&a===i&&n()},l=>r(l))}),o=!0,a===i&&n()})}static or(e){let n=K.resolve(!1);for(const r of e)n=n.next(i=>i?K.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new K((r,i)=>{const a=e.length,o=new Array(a);let s=0;for(let l=0;l<a;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++s,s===a&&r(o)},c=>i(c))}})}static doWhile(e,n){return new K((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function IB(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}iw.oe=-1;function Em(t){return t==null}function Uh(t){return t===0&&1/t==-1/0}function kB(t){return typeof t=="number"&&Number.isInteger(t)&&!Uh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Pl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function TN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){this.comparator=e,this.root=n||Ut.EMPTY}insert(e,n){return new lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ed(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ed(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ed(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ed(this.root,e,this.comparator,!0)}}class Ed{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ut{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Ut.RED,this.left=i??Ut.EMPTY,this.right=a??Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Ut(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ut.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pe();const e=this.left.check();if(e!==this.right.check())throw pe();return e+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw pe()}get value(){throw pe()}get color(){throw pe()}get left(){throw pe()}get right(){throw pe()}copy(e,n,r,i,a){return this}insert(e,n,r){return new Ut(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xS(this.data.getIterator())}getIteratorFrom(e){return new xS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Wt(this.comparator);return n.data=e,n}}class xS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new mr([])}unionWith(e){let n=new Wt(Bt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new mr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bs(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new PN("Invalid base64 string: "+a):a}}(e);return new Ht(n)}static fromUint8Array(e){const n=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new Ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const CB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ea(t){if(Le(!!t),typeof t=="string"){let e=0;const n=CB.exec(t);if(Le(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ht(t.seconds),nanos:ht(t.nanos)}}function ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function _o(t){return typeof t=="string"?Ht.fromBase64String(t):Ht.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ow(t){const e=t.mapValue.fields.__previous_value__;return aw(e)?ow(e):e}function Ec(t){const e=Ea(t.mapValue.fields.__local_write_time__.timestampValue);return new Pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(e,n,r,i,a,o,s,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u}}class Sc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Sc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Sc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd={mapValue:{}};function bo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?aw(t)?4:$B(t)?9007199254740991:jB(t)?10:11:pe()}function Ur(t,e){if(t===e)return!0;const n=bo(t);if(n!==bo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ec(t).isEqual(Ec(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=Ea(i.timestampValue),s=Ea(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return _o(i.bytesValue).isEqual(_o(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return ht(i.geoPointValue.latitude)===ht(a.geoPointValue.latitude)&&ht(i.geoPointValue.longitude)===ht(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return ht(i.integerValue)===ht(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=ht(i.doubleValue),s=ht(a.doubleValue);return o===s?Uh(o)===Uh(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return Bs(t.arrayValue.values||[],e.arrayValue.values||[],Ur);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(wS(o)!==wS(s))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(s[l]===void 0||!Ur(o[l],s[l])))return!1;return!0}(t,e);default:return pe()}}function Ac(t,e){return(t.values||[]).find(n=>Ur(n,e))!==void 0}function zs(t,e){if(t===e)return 0;const n=bo(t),r=bo(e);if(n!==r)return ke(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(t.booleanValue,e.booleanValue);case 2:return function(a,o){const s=ht(a.integerValue||a.doubleValue),l=ht(o.integerValue||o.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return ES(t.timestampValue,e.timestampValue);case 4:return ES(Ec(t),Ec(e));case 5:return ke(t.stringValue,e.stringValue);case 6:return function(a,o){const s=_o(a),l=_o(o);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const s=a.split("/"),l=o.split("/");for(let u=0;u<s.length&&u<l.length;u++){const c=ke(s[u],l[u]);if(c!==0)return c}return ke(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const s=ke(ht(a.latitude),ht(o.latitude));return s!==0?s:ke(ht(a.longitude),ht(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return SS(t.arrayValue,e.arrayValue);case 10:return function(a,o){var s,l,u,c;const f=a.fields||{},h=o.fields||{},p=(s=f.value)===null||s===void 0?void 0:s.arrayValue,m=(l=h.value)===null||l===void 0?void 0:l.arrayValue,g=ke(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0);return g!==0?g:SS(p,m)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===Sd.mapValue&&o===Sd.mapValue)return 0;if(a===Sd.mapValue)return 1;if(o===Sd.mapValue)return-1;const s=a.fields||{},l=Object.keys(s),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const h=ke(l[f],c[f]);if(h!==0)return h;const p=zs(s[l[f]],u[c[f]]);if(p!==0)return p}return ke(l.length,c.length)}(t.mapValue,e.mapValue);default:throw pe()}}function ES(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ke(t,e);const n=Ea(t),r=Ea(e),i=ke(n.seconds,r.seconds);return i!==0?i:ke(n.nanos,r.nanos)}function SS(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=zs(n[i],r[i]);if(a)return a}return ke(n.length,r.length)}function Ws(t){return f0(t)}function f0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ea(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return _o(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=f0(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${f0(n.fields[o])}`;return i+"}"}(t.mapValue):pe()}function AS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function d0(t){return!!t&&"integerValue"in t}function sw(t){return!!t&&"arrayValue"in t}function TS(t){return!!t&&"nullValue"in t}function PS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ih(t){return!!t&&"mapValue"in t}function jB(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function qu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Pl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=qu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=qu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function $B(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.value=e}static empty(){return new Qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ih(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=qu(n)}setAll(e){let n=Bt.emptyPath(),r={},i=[];e.forEach((o,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}o?r[s.lastSegment()]=qu(o):i.push(s.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());ih(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ur(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ih(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Pl(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Qn(qu(this.value))}}function ON(t){const e=[];return Pl(t.fields,(n,r)=>{const i=new Bt([n]);if(ih(r)){const a=ON(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new mr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,n,r,i,a,o,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(e){return new an(e,0,ge.min(),ge.min(),ge.min(),Qn.empty(),0)}static newFoundDocument(e,n,r,i){return new an(e,1,n,ge.min(),r,i,0)}static newNoDocument(e,n){return new an(e,2,n,ge.min(),ge.min(),Qn.empty(),0)}static newUnknownDocument(e,n){return new an(e,3,n,ge.min(),ge.min(),Qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n){this.position=e,this.inclusive=n}}function OS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?r=se.comparator(se.fromName(o.referenceValue),n.key):r=zs(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function IS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ur(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n="asc"){this.field=e,this.dir=n}}function RB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{}class yt extends IN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new MB(e,n,r):n==="array-contains"?new VB(e,r):n==="in"?new UB(e,r):n==="not-in"?new BB(e,r):n==="array-contains-any"?new zB(e,r):new yt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new LB(e,r):new FB(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(zs(n,this.value)):n!==null&&bo(this.value)===bo(n)&&this.matchesComparison(zs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wr extends IN{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new wr(e,n)}matches(e){return kN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function kN(t){return t.op==="and"}function CN(t){return DB(t)&&kN(t)}function DB(t){for(const e of t.filters)if(e instanceof wr)return!1;return!0}function h0(t){if(t instanceof yt)return t.field.canonicalString()+t.op.toString()+Ws(t.value);if(CN(t))return t.filters.map(e=>h0(e)).join(",");{const e=t.filters.map(n=>h0(n)).join(",");return`${t.op}(${e})`}}function NN(t,e){return t instanceof yt?function(r,i){return i instanceof yt&&r.op===i.op&&r.field.isEqual(i.field)&&Ur(r.value,i.value)}(t,e):t instanceof wr?function(r,i){return i instanceof wr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,o,s)=>a&&NN(o,i.filters[s]),!0):!1}(t,e):void pe()}function jN(t){return t instanceof yt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ws(n.value)}`}(t):t instanceof wr?function(n){return n.op.toString()+" {"+n.getFilters().map(jN).join(" ,")+"}"}(t):"Filter"}class MB extends yt{constructor(e,n,r){super(e,n,r),this.key=se.fromName(r.referenceValue)}matches(e){const n=se.comparator(e.key,this.key);return this.matchesComparison(n)}}class LB extends yt{constructor(e,n){super(e,"in",n),this.keys=$N("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class FB extends yt{constructor(e,n){super(e,"not-in",n),this.keys=$N("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function $N(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>se.fromName(r.referenceValue))}class VB extends yt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return sw(n)&&Ac(n.arrayValue,this.value)}}class UB extends yt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ac(this.value.arrayValue,n)}}class BB extends yt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ac(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ac(this.value.arrayValue,n)}}class zB extends yt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!sw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ac(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(e,n=null,r=[],i=[],a=null,o=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ue=null}}function kS(t,e=null,n=[],r=[],i=null,a=null,o=null){return new WB(t,e,n,r,i,a,o)}function lw(t){const e=ye(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>h0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Em(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ws(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ws(r)).join(",")),e.ue=n}return e.ue}function uw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!RB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!NN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!IS(t.startAt,e.startAt)&&IS(t.endAt,e.endAt)}function p0(t){return se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,n=null,r=[],i=[],a=null,o="F",s=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function qB(t,e,n,r,i,a,o,s){return new Ol(t,e,n,r,i,a,o,s)}function cw(t){return new Ol(t)}function CS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function RN(t){return t.collectionGroup!==null}function Hu(t){const e=ye(t);if(e.ce===null){e.ce=[];const n=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new Wt(Bt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Tc(a,r))}),n.has(Bt.keyField().canonicalString())||e.ce.push(new Tc(Bt.keyField(),r))}return e.ce}function Rr(t){const e=ye(t);return e.le||(e.le=HB(e,Hu(t))),e.le}function HB(t,e){if(t.limitType==="F")return kS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Tc(i.field,a)});const n=t.endAt?new Bh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Bh(t.startAt.position,t.startAt.inclusive):null;return kS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function m0(t,e){const n=t.filters.concat([e]);return new Ol(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function g0(t,e,n){return new Ol(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Sm(t,e){return uw(Rr(t),Rr(e))&&t.limitType===e.limitType}function DN(t){return`${lw(Rr(t))}|lt:${t.limitType}`}function Qo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>jN(i)).join(", ")}]`),Em(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ws(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ws(i)).join(",")),`Target(${r})`}(Rr(t))}; limitType=${t.limitType})`}function Am(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):se.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of Hu(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,s,l){const u=OS(o,s,l);return o.inclusive?u<=0:u<0}(r.startAt,Hu(r),i)||r.endAt&&!function(o,s,l){const u=OS(o,s,l);return o.inclusive?u>=0:u>0}(r.endAt,Hu(r),i))}(t,e)}function GB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function MN(t){return(e,n)=>{let r=!1;for(const i of Hu(t)){const a=KB(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function KB(t,e,n){const r=t.field.isKeyField()?se.comparator(e.key,n.key):function(a,o,s){const l=o.data.field(a),u=s.data.field(a);return l!==null&&u!==null?zs(l,u):pe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Pl(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return TN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YB=new lt(se.comparator);function Ti(){return YB}const LN=new lt(se.comparator);function Nu(...t){let e=LN;for(const n of t)e=e.insert(n.key,n);return e}function FN(t){let e=LN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Za(){return Gu()}function VN(){return Gu()}function Gu(){return new Il(t=>t.toString(),(t,e)=>t.isEqual(e))}const QB=new lt(se.comparator),XB=new Wt(se.comparator);function xe(...t){let e=XB;for(const n of t)e=e.add(n);return e}const JB=new Wt(ke);function ZB(){return JB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uh(e)?"-0":e}}function UN(t){return{integerValue:""+t}}function e3(t,e){return kB(e)?UN(e):fw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(){this._=void 0}}function t3(t,e,n){return t instanceof Pc?function(i,a){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&aw(a)&&(a=ow(a)),a&&(o.fields.__previous_value__=a),{mapValue:o}}(n,e):t instanceof Oc?zN(t,e):t instanceof Ic?WN(t,e):function(i,a){const o=BN(i,a),s=NS(o)+NS(i.Pe);return d0(o)&&d0(i.Pe)?UN(s):fw(i.serializer,s)}(t,e)}function n3(t,e,n){return t instanceof Oc?zN(t,e):t instanceof Ic?WN(t,e):n}function BN(t,e){return t instanceof zh?function(r){return d0(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Pc extends Tm{}class Oc extends Tm{constructor(e){super(),this.elements=e}}function zN(t,e){const n=qN(e);for(const r of t.elements)n.some(i=>Ur(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ic extends Tm{constructor(e){super(),this.elements=e}}function WN(t,e){let n=qN(e);for(const r of t.elements)n=n.filter(i=>!Ur(i,r));return{arrayValue:{values:n}}}class zh extends Tm{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function NS(t){return ht(t.integerValue||t.doubleValue)}function qN(t){return sw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e,n){this.field=e,this.transform=n}}function i3(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Oc&&i instanceof Oc||r instanceof Ic&&i instanceof Ic?Bs(r.elements,i.elements,Ur):r instanceof zh&&i instanceof zh?Ur(r.Pe,i.Pe):r instanceof Pc&&i instanceof Pc}(t.transform,e.transform)}class a3{constructor(e,n){this.version=e,this.transformResults=n}}class Dr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Dr}static exists(e){return new Dr(void 0,e)}static updateTime(e){return new Dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ah(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Pm{}function HN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new dw(t.key,Dr.none()):new Ef(t.key,t.data,Dr.none());{const n=t.data,r=Qn.empty();let i=new Wt(Bt.comparator);for(let a of e.fields)if(!i.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new ko(t.key,r,new mr(i.toArray()),Dr.none())}}function o3(t,e,n){t instanceof Ef?function(i,a,o){const s=i.value.clone(),l=$S(i.fieldTransforms,a,o.transformResults);s.setAll(l),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof ko?function(i,a,o){if(!ah(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=$S(i.fieldTransforms,a,o.transformResults),l=a.data;l.setAll(GN(i)),l.setAll(s),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ku(t,e,n,r){return t instanceof Ef?function(a,o,s,l){if(!ah(a.precondition,o))return s;const u=a.value.clone(),c=RS(a.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ko?function(a,o,s,l){if(!ah(a.precondition,o))return s;const u=RS(a.fieldTransforms,l,o),c=o.data;return c.setAll(GN(a)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(a,o,s){return ah(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,n)}function s3(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=BN(r.transform,i||null);a!=null&&(n===null&&(n=Qn.empty()),n.set(r.field,a))}return n||null}function jS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Bs(r,i,(a,o)=>i3(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ef extends Pm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ko extends Pm{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function GN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function $S(t,e,n){const r=new Map;Le(t.length===n.length);for(let i=0;i<n.length;i++){const a=t[i],o=a.transform,s=e.data.field(a.field);r.set(a.field,n3(o,s,n[i]))}return r}function RS(t,e,n){const r=new Map;for(const i of t){const a=i.transform,o=n.data.field(i.field);r.set(i.field,t3(a,o,e))}return r}class dw extends Pm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class l3 extends Pm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&o3(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ku(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ku(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=VN();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=n.has(i.key)?null:s;const l=HN(o,s);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ge.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xe())}isEqual(e){return this.batchId===e.batchId&&Bs(this.mutations,e.mutations,(n,r)=>jS(n,r))&&Bs(this.baseMutations,e.baseMutations,(n,r)=>jS(n,r))}}class hw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Le(e.mutations.length===r.length);let i=function(){return QB}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new hw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt,Te;function d3(t){switch(t){default:return pe();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function KN(t){if(t===void 0)return Ai("GRPC error has no .code"),H.UNKNOWN;switch(t){case mt.OK:return H.OK;case mt.CANCELLED:return H.CANCELLED;case mt.UNKNOWN:return H.UNKNOWN;case mt.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case mt.INTERNAL:return H.INTERNAL;case mt.UNAVAILABLE:return H.UNAVAILABLE;case mt.UNAUTHENTICATED:return H.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case mt.NOT_FOUND:return H.NOT_FOUND;case mt.ALREADY_EXISTS:return H.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return H.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case mt.ABORTED:return H.ABORTED;case mt.OUT_OF_RANGE:return H.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return H.UNIMPLEMENTED;case mt.DATA_LOSS:return H.DATA_LOSS;default:return pe()}}(Te=mt||(mt={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3=new so([4294967295,4294967295],0);function DS(t){const e=h3().encode(t),n=new yN;return n.update(e),new Uint8Array(n.digest())}function MS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new so([n,r],0),new so([i,a],0)]}class pw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ju(`Invalid padding: ${n}`);if(r<0)throw new ju(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ju(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ju(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=so.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(so.fromNumber(r)));return i.compare(p3)===1&&(i=new so([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=DS(e),[r,i]=MS(n);for(let a=0;a<this.hashCount;a++){const o=this.Ee(r,i,a);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new pw(a,i,n);return r.forEach(s=>o.insert(s)),o}insert(e){if(this.Ie===0)return;const n=DS(e),[r,i]=MS(n);for(let a=0;a<this.hashCount;a++){const o=this.Ee(r,i,a);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ju extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Sf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Om(ge.min(),i,new lt(ke),Ti(),xe())}}class Sf{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Sf(r,n,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class YN{constructor(e,n){this.targetId=e,this.me=n}}class QN{constructor(e,n,r=Ht.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class LS{constructor(){this.fe=0,this.ge=VS(),this.pe=Ht.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=xe(),n=xe(),r=xe();return this.ge.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:pe()}}),new Sf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=VS()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Le(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class m3{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ti(),this.qe=FS(),this.Qe=new lt(ke)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:pe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const a=i.target;if(p0(a))if(r===0){const o=new se(a.path);this.Ue(n,o,an.newNoDocument(o,ge.min()))}else Le(r===1);else{const o=this.Ye(n);if(o!==r){const s=this.Ze(e),l=s?this.Xe(s,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let o,s;try{o=_o(r).toUint8Array()}catch(l){if(l instanceof PN)return Us("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new pw(o,i,a)}catch(l){return Us(l instanceof ju?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.Ie===0?null:s}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const o=this.Le.tt(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(s)||(this.Ue(n,a,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((a,o)=>{const s=this.Je(o);if(s){if(a.current&&p0(s.target)){const l=new se(s.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,an.newNoDocument(l,e))}a.be&&(n.set(o,a.ve()),a.Ce())}});let r=xe();this.qe.forEach((a,o)=>{let s=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(a))}),this.ke.forEach((a,o)=>o.setReadTime(e));const i=new Om(e,n,this.Qe,this.ke,r);return this.ke=Ti(),this.qe=FS(),this.Qe=new lt(ke),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new LS,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Wt(ke),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new LS),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function FS(){return new lt(se.comparator)}function VS(){return new lt(se.comparator)}const g3={asc:"ASCENDING",desc:"DESCENDING"},v3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},y3={and:"AND",or:"OR"};class _3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function v0(t,e){return t.useProto3Json||Em(e)?e:{value:e}}function Wh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function b3(t,e){return Wh(t,e.toTimestamp())}function Mr(t){return Le(!!t),ge.fromTimestamp(function(n){const r=Ea(n);return new Pt(r.seconds,r.nanos)}(t))}function mw(t,e){return y0(t,e).canonicalString()}function y0(t,e){const n=function(i){return new Ze(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function JN(t){const e=Ze.fromString(t);return Le(rj(e)),e}function _0(t,e){return mw(t.databaseId,e.path)}function Ov(t,e){const n=JN(e);if(n.get(1)!==t.databaseId.projectId)throw new ae(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ae(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new se(ej(n))}function ZN(t,e){return mw(t.databaseId,e)}function w3(t){const e=JN(t);return e.length===4?Ze.emptyPath():ej(e)}function b0(t){return new Ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ej(t){return Le(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function US(t,e,n){return{name:_0(t,e),fields:n.value.mapValue.fields}}function x3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:pe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(u,c){return u.useProto3Json?(Le(c===void 0||typeof c=="string"),Ht.fromBase64String(c||"")):(Le(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Ht.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,s=o&&function(u){const c=u.code===void 0?H.UNKNOWN:KN(u.code);return new ae(c,u.message||"")}(o);n=new QN(r,i,a,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ov(t,r.document.name),a=Mr(r.document.updateTime),o=r.document.createTime?Mr(r.document.createTime):ge.min(),s=new Qn({mapValue:{fields:r.document.fields}}),l=an.newFoundDocument(i,a,o,s),u=r.targetIds||[],c=r.removedTargetIds||[];n=new oh(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ov(t,r.document),a=r.readTime?Mr(r.readTime):ge.min(),o=an.newNoDocument(i,a),s=r.removedTargetIds||[];n=new oh([],s,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ov(t,r.document),a=r.removedTargetIds||[];n=new oh([],a,i,null)}else{if(!("filter"in e))return pe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new f3(i,a),s=r.targetId;n=new YN(s,o)}}return n}function E3(t,e){let n;if(e instanceof Ef)n={update:US(t,e.key,e.value)};else if(e instanceof dw)n={delete:_0(t,e.key)};else if(e instanceof ko)n={update:US(t,e.key,e.data),updateMask:N3(e.fieldMask)};else{if(!(e instanceof l3))return pe();n={verify:_0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,o){const s=o.transform;if(s instanceof Pc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Oc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Ic)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof zh)return{fieldPath:o.field.canonicalString(),increment:s.Pe};throw pe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:b3(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:pe()}(t,e.precondition)),n}function S3(t,e){return t&&t.length>0?(Le(e!==void 0),t.map(n=>function(i,a){let o=i.updateTime?Mr(i.updateTime):Mr(a);return o.isEqual(ge.min())&&(o=Mr(a)),new a3(o,i.transformResults||[])}(n,e))):[]}function A3(t,e){return{documents:[ZN(t,e.path)]}}function T3(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ZN(t,i);const a=function(u){if(u.length!==0)return nj(wr.create(u,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const o=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:Xo(h.field),direction:I3(h.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=v0(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function P3(t){let e=w3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Le(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let a=[];n.where&&(a=function(f){const h=tj(f);return h instanceof wr&&CN(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(h=>function(m){return new Tc(Jo(m.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let s=null;n.limit&&(s=function(f){let h;return h=typeof f=="object"?f.value:f,Em(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new Bh(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,p=f.values||[];return new Bh(p,h)}(n.endAt)),qB(e,i,o,a,s,"F",l,u)}function O3(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function tj(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Jo(n.unaryFilter.field);return yt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Jo(n.unaryFilter.field);return yt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Jo(n.unaryFilter.field);return yt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Jo(n.unaryFilter.field);return yt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return pe()}}(t):t.fieldFilter!==void 0?function(n){return yt.create(Jo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return wr.create(n.compositeFilter.filters.map(r=>tj(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return pe()}}(n.compositeFilter.op))}(t):pe()}function I3(t){return g3[t]}function k3(t){return v3[t]}function C3(t){return y3[t]}function Xo(t){return{fieldPath:t.canonicalString()}}function Jo(t){return Bt.fromServerFormat(t.fieldPath)}function nj(t){return t instanceof yt?function(n){if(n.op==="=="){if(PS(n.value))return{unaryFilter:{field:Xo(n.field),op:"IS_NAN"}};if(TS(n.value))return{unaryFilter:{field:Xo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(PS(n.value))return{unaryFilter:{field:Xo(n.field),op:"IS_NOT_NAN"}};if(TS(n.value))return{unaryFilter:{field:Xo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xo(n.field),op:k3(n.op),value:n.value}}}(t):t instanceof wr?function(n){const r=n.getFilters().map(i=>nj(i));return r.length===1?r[0]:{compositeFilter:{op:C3(n.op),filters:r}}}(t):pe()}function N3(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function rj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n,r,i,a=ge.min(),o=ge.min(),s=Ht.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new ia(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ia(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e){this.ct=e}}function $3(t){const e=P3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?g0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(){this.un=new D3}addToCollectionParentIndex(e,n){return this.un.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(xa.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(xa.min())}updateCollectionGroup(e,n,r){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}}class D3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Wt(Ze.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Wt(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new qs(0)}static kn(){return new qs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(){this.changes=new Il(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?K.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ku(r.mutation,i,mr.empty(),Pt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,xe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=xe()){const i=Za();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let o=Nu();return a.forEach((s,l)=>{o=o.insert(s,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Za();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,xe()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,s)=>{n.set(o,s)})})}computeViews(e,n,r,i){let a=Ti();const o=Gu(),s=function(){return Gu()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof ko)?a=a.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Ku(c.mutation,u,c.mutation.getFieldMask(),Pt.now())):o.set(u.key,mr.empty())}),this.recalculateAndSaveOverlays(e,a).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var f;return s.set(u,new L3(c,(f=o.get(u))!==null&&f!==void 0?f:null))}),s))}recalculateAndSaveOverlays(e,n){const r=Gu();let i=new lt((o,s)=>o-s),a=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const s of o)s.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||mr.empty();c=s.applyToLocalView(u,c),r.set(l,c);const f=(i.get(s.batchId)||xe()).add(l);i=i.insert(s.batchId,f)})}).next(()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,c=l.value,f=VN();c.forEach(h=>{if(!a.has(h)){const p=HN(n.get(h),r.get(h));p!==null&&f.set(h,p),a=a.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return K.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return se.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):RN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):K.resolve(Za());let s=-1,l=a;return o.next(u=>K.forEach(u,(c,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),a.get(c)?K.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,l,u,xe())).next(c=>({batchId:s,changes:FN(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new se(n)).next(r=>{let i=Nu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let o=Nu();return this.indexManager.getCollectionParents(e,a).next(s=>K.forEach(s,l=>{const u=function(f,h){return new Ol(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(o=>{a.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,an.newInvalidDocument(c)))});let s=Nu();return o.forEach((l,u)=>{const c=a.get(l);c!==void 0&&Ku(c.mutation,u,mr.empty(),Pt.now()),Am(n,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return K.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Mr(i.createTime)}}(n)),K.resolve()}getNamedQuery(e,n){return K.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:$3(i.bundledQuery),readTime:Mr(i.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(){this.overlays=new lt(se.comparator),this.Ir=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Za();return K.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.ht(e,n,a)}),K.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(r)),K.resolve()}getOverlaysForCollection(e,n,r){const i=Za(),a=n.length+1,o=new se(n.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>r&&i.set(l.getKey(),l)}return K.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new lt((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=a.get(u.largestBatchId);c===null&&(c=Za(),a=a.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const s=Za(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>s.set(u,c)),!(s.size()>=i)););return K.resolve(s)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new c3(n,r));let a=this.Ir.get(n);a===void 0&&(a=xe(),this.Ir.set(n,a)),this.Ir.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(){this.Tr=new Wt(kt.Er),this.dr=new Wt(kt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new kt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new kt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new se(new Ze([])),r=new kt(n,e),i=new kt(n,e+1),a=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),a.push(o.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new se(new Ze([])),r=new kt(n,e),i=new kt(n,e+1);let a=xe();return this.dr.forEachInRange([r,i],o=>{a=a.add(o.key)}),a}containsKey(e){const n=new kt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class kt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return se.comparator(e.key,n.key)||ke(e.wr,n.wr)}static Ar(e,n){return ke(e.wr,n.wr)||se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Wt(kt.Er)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new u3(a,n,r,i);this.mutationQueue.push(o);for(const s of i)this.br=this.br.add(new kt(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return K.resolve(o)}lookupMutationBatch(e,n){return K.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),a=i<0?0:i;return K.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new kt(n,0),i=new kt(n,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([r,i],o=>{const s=this.Dr(o.wr);a.push(s)}),K.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Wt(ke);return n.forEach(i=>{const a=new kt(i,0),o=new kt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,o],s=>{r=r.add(s.wr)})}),K.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;se.isDocumentKey(a)||(a=a.child(""));const o=new kt(new se(a),0);let s=new Wt(ke);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.wr)),!0)},o),K.resolve(this.Cr(s))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Le(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return K.forEach(n.mutations,i=>{const a=new kt(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new kt(n,0),i=this.br.firstAfterOrEqual(r);return K.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e){this.Mr=e,this.docs=function(){return new lt(se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return K.resolve(r?r.document.mutableCopy():an.newInvalidDocument(n))}getEntries(e,n){let r=Ti();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():an.newInvalidDocument(i))}),K.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Ti();const o=n.path,s=new se(o.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||TB(AB(c),r)<=0||(i.has(c.key)||Am(n,c))&&(a=a.insert(c.key,c.mutableCopy()))}return K.resolve(a)}getAllFromCollectionGroup(e,n,r,i){pe()}Or(e,n){return K.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new q3(this)}getSize(e){return K.resolve(this.size)}}class q3 extends M3{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),K.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e){this.persistence=e,this.Nr=new Il(n=>lw(n),uw),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.Lr=0,this.Br=new gw,this.targetCount=0,this.kr=qs.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),K.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new qs(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.Kn(n),K.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.Nr.forEach((o,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.Nr.delete(o),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),K.waitFor(a).next(()=>i)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return K.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),K.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),K.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),K.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return K.resolve(r)}containsKey(e,n){return K.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e,n){this.qr={},this.overlays={},this.Qr=new iw(0),this.Kr=!1,this.Kr=!0,this.$r=new B3,this.referenceDelegate=e(this),this.Ur=new H3(this),this.indexManager=new R3,this.remoteDocumentCache=function(i){return new W3(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new j3(n),this.Gr=new V3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new U3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new z3(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){oe("MemoryPersistence","Starting transaction:",e);const i=new K3(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(e,n){return K.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class K3 extends OB{constructor(e){super(),this.currentSequenceNumber=e}}class vw{constructor(e){this.persistence=e,this.Jr=new gw,this.Yr=null}static Zr(e){return new vw(e)}get Xr(){if(this.Yr)return this.Yr;throw pe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),K.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),K.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.Xr,r=>{const i=se.fromPath(r);return this.ei(e,i).next(a=>{a||n.removeEntry(i,ge.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return K.or([()=>K.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=xe(),i=xe();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new yw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return uU()?8:IB(ln())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.Yi(e,n).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.Zi(e,n,i,r).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new Y3;return this.Xi(e,n,o).next(s=>{if(a.result=s,this.zi)return this.es(e,n,o,s.size)})}).next(()=>a.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(pu()<=Se.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",Qo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),K.resolve()):(pu()<=Se.DEBUG&&oe("QueryEngine","Query:",Qo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(pu()<=Se.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",Qo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rr(n))):K.resolve())}Yi(e,n){if(CS(n))return K.resolve(null);let r=Rr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=g0(n,null,"F"),r=Rr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const o=xe(...a);return this.Ji.getDocuments(e,o).next(s=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,s);return this.ns(n,u,o,l.readTime)?this.Yi(e,g0(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return CS(n)||i.isEqual(ge.min())?K.resolve(null):this.Ji.getDocuments(e,r).next(a=>{const o=this.ts(n,a);return this.ns(n,o,r,i)?K.resolve(null):(pu()<=Se.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Qo(n)),this.rs(e,o,n,SB(i,-1)).next(s=>s))})}ts(e,n){let r=new Wt(MN(e));return n.forEach((i,a)=>{Am(e,a)&&(r=r.add(a))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,n,r){return pu()<=Se.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Qo(n)),this.Ji.getDocumentsMatchingQuery(e,n,xa.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new lt(ke),this._s=new Il(a=>lw(a),uw),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new F3(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function J3(t,e,n,r){return new X3(t,e,n,r)}async function ij(t,e){const n=ye(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const o=[],s=[];let l=xe();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of a){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:s}))})})}function Z3(t,e){const n=ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.cs.newChangeBuffer({trackRemovals:!0});return function(s,l,u,c){const f=u.batch,h=f.keys();let p=K.resolve();return h.forEach(m=>{p=p.next(()=>c.getEntry(l,m)).next(g=>{const v=u.docVersions.get(m);Le(v!==null),g.version.compareTo(v)<0&&(f.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),c.addEntry(g)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(l,f))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=xe();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function aj(t){const e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function e6(t,e){const n=ye(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const s=[];e.targetChanges.forEach((c,f)=>{const h=i.get(f);if(!h)return;s.push(n.Ur.removeMatchingKeys(a,c.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(a,c.addedDocuments,f)));let p=h.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Ht.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(f,p),function(g,v,_){return g.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(h,p,c)&&s.push(n.Ur.updateTargetData(a,p))});let l=Ti(),u=xe();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(a,c))}),s.push(t6(a,o,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(ge.min())){const c=n.Ur.getLastRemoteSnapshotVersion(a).next(f=>n.Ur.setTargetsMetadata(a,a.currentSequenceNumber,r));s.push(c)}return K.waitFor(s).next(()=>o.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(n.os=i,a))}function t6(t,e,n){let r=xe(),i=xe();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let o=Ti();return n.forEach((s,l)=>{const u=a.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(ge.min())?(e.removeEntry(s,l.readTime),o=o.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(s,l)):oe("LocalStore","Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function n6(t,e){const n=ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function r6(t,e){const n=ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(a=>a?(i=a,K.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new ia(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function w0(t,e,n){const r=ye(t),i=r.os.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!xf(o))throw o;oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function BS(t,e,n){const r=ye(t);let i=ge.min(),a=xe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const f=ye(l),h=f._s.get(c);return h!==void 0?K.resolve(f.os.get(h)):f.Ur.getTargetData(u,c)}(r,o,Rr(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,s.targetId).next(l=>{a=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ge.min(),n?a:xe())).next(s=>(i6(r,GB(e),s),{documents:s,Ts:a})))}function i6(t,e,n){let r=t.us.get(e)||ge.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.us.set(e,r)}class zS{constructor(){this.activeTargetIds=ZB()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class a6{constructor(){this.so=new zS,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new zS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ad=null;function Iv(){return Ad===null?Ad=function(){return 268435456+Math.round(2147483648*Math.random())}():Ad++,"0x"+Ad.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class u6 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(n,r,i,a,o){const s=Iv(),l=this.xo(n,r.toUriEncodedString());oe("RestConnection",`Sending RPC '${n}' ${s}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,a,o),this.No(n,l,u,i).then(c=>(oe("RestConnection",`Received RPC '${n}' ${s}: `,c),c),c=>{throw Us("RestConnection",`RPC '${n}' ${s} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,a,o,s){return this.Mo(n,r,i,a,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Tl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,o)=>n[o]=a),i&&i.headers.forEach((a,o)=>n[o]=a)}xo(n,r){const i=s6[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const a=Iv();return new Promise((o,s)=>{const l=new _N;l.setWithCredentials(!0),l.listenOnce(bN.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case rh.NO_ERROR:const c=l.getResponseJson();oe(en,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(c)),o(c);break;case rh.TIMEOUT:oe(en,`RPC '${e}' ${a} timed out`),s(new ae(H.DEADLINE_EXCEEDED,"Request time out"));break;case rh.HTTP_ERROR:const f=l.getStatus();if(oe(en,`RPC '${e}' ${a} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const m=function(v){const _=v.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(_)>=0?_:H.UNKNOWN}(p.status);s(new ae(m,p.message))}else s(new ae(H.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new ae(H.UNAVAILABLE,"Connection failed."));break;default:pe()}}finally{oe(en,`RPC '${e}' ${a} completed.`)}});const u=JSON.stringify(i);oe(en,`RPC '${e}' ${a} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=Iv(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=EN(),s=xN(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=a.join("");oe(en,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=o.createWebChannel(c,l);let h=!1,p=!1;const m=new l6({Io:v=>{p?oe(en,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(oe(en,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),oe(en,`RPC '${e}' stream ${i} sending:`,v),f.send(v))},To:()=>f.close()}),g=(v,_,y)=>{v.listen(_,w=>{try{y(w)}catch(I){setTimeout(()=>{throw I},0)}})};return g(f,Cu.EventType.OPEN,()=>{p||(oe(en,`RPC '${e}' stream ${i} transport opened.`),m.yo())}),g(f,Cu.EventType.CLOSE,()=>{p||(p=!0,oe(en,`RPC '${e}' stream ${i} transport closed`),m.So())}),g(f,Cu.EventType.ERROR,v=>{p||(p=!0,Us(en,`RPC '${e}' stream ${i} transport errored:`,v),m.So(new ae(H.UNAVAILABLE,"The operation could not be completed")))}),g(f,Cu.EventType.MESSAGE,v=>{var _;if(!p){const y=v.data[0];Le(!!y);const w=y,I=w.error||((_=w[0])===null||_===void 0?void 0:_.error);if(I){oe(en,`RPC '${e}' stream ${i} received error:`,I);const E=I.status;let P=function(T){const k=mt[T];if(k!==void 0)return KN(k)}(E),S=I.message;P===void 0&&(P=H.INTERNAL,S="Unknown error status: "+E+" with message "+I.message),p=!0,m.So(new ae(P,S)),f.close()}else oe(en,`RPC '${e}' stream ${i} received:`,y),m.bo(y)}}),g(s,wN.STAT_EVENT,v=>{v.stat===c0.PROXY?oe(en,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===c0.NOPROXY&&oe(en,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.wo()},0),m}}function kv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(t){return new _3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e,n,r=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&oe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(e,n,r,i,a,o,s,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new oj(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(Ai(n.toString()),Ai("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ae(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class c6 extends sj{constructor(e,n,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=x3(this.serializer,e),r=function(a){if(!("targetChange"in a))return ge.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?ge.min():o.readTime?Mr(o.readTime):ge.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=b0(this.serializer),n.addTarget=function(a,o){let s;const l=o.target;if(s=p0(l)?{documents:A3(a,l)}:{query:T3(a,l)._t},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=XN(a,o.resumeToken);const u=v0(a,o.expectedCount);u!==null&&(s.expectedCount=u)}else if(o.snapshotVersion.compareTo(ge.min())>0){s.readTime=Wh(a,o.snapshotVersion.toTimestamp());const u=v0(a,o.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const r=O3(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=b0(this.serializer),n.removeTarget=e,this.a_(n)}}class f6 extends sj{constructor(e,n,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Le(!!e.streamToken),this.lastStreamToken=e.streamToken,Le(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Le(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=S3(e.writeResults,e.commitTime),r=Mr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=b0(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>E3(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ae(H.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Mo(e,y0(n,r),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ae(H.UNKNOWN,a.toString())})}Lo(e,n,r,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Lo(e,y0(n,r),i,o,s,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ae(H.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class h6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ai(n),this.D_=!1):oe("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(o=>{r.enqueueAndForget(async()=>{Co(this)&&(oe("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ye(l);u.L_.add(4),await Af(u),u.q_.set("Unknown"),u.L_.delete(4),await km(u)}(this))})}),this.q_=new h6(r,i)}}async function km(t){if(Co(t))for(const e of t.B_)await e(!0)}async function Af(t){for(const e of t.B_)await e(!1)}function lj(t,e){const n=ye(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),xw(n)?ww(n):kl(n).r_()&&bw(n,e))}function _w(t,e){const n=ye(t),r=kl(n);n.N_.delete(e),r.r_()&&uj(n,e),n.N_.size===0&&(r.r_()?r.o_():Co(n)&&n.q_.set("Unknown"))}function bw(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}kl(t).A_(e)}function uj(t,e){t.Q_.xe(e),kl(t).R_(e)}function ww(t){t.Q_=new m3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),kl(t).start(),t.q_.v_()}function xw(t){return Co(t)&&!kl(t).n_()&&t.N_.size>0}function Co(t){return ye(t).L_.size===0}function cj(t){t.Q_=void 0}async function m6(t){t.q_.set("Online")}async function g6(t){t.N_.forEach((e,n)=>{bw(t,e)})}async function v6(t,e){cj(t),xw(t)?(t.q_.M_(e),ww(t)):t.q_.set("Unknown")}async function y6(t,e,n){if(t.q_.set("Online"),e instanceof QN&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const s of a.targetIds)i.N_.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i.N_.delete(s),i.Q_.removeTarget(s))}(t,e)}catch(r){oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await qh(t,r)}else if(e instanceof oh?t.Q_.Ke(e):e instanceof YN?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ge.min()))try{const r=await aj(t.localStore);n.compareTo(r)>=0&&await function(a,o){const s=a.Q_.rt(o);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=a.N_.get(u);c&&a.N_.set(u,c.withResumeToken(l.resumeToken,o))}}),s.targetMismatches.forEach((l,u)=>{const c=a.N_.get(l);if(!c)return;a.N_.set(l,c.withResumeToken(Ht.EMPTY_BYTE_STRING,c.snapshotVersion)),uj(a,l);const f=new ia(c.target,l,u,c.sequenceNumber);bw(a,f)}),a.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){oe("RemoteStore","Failed to raise snapshot:",r),await qh(t,r)}}async function qh(t,e,n){if(!xf(e))throw e;t.L_.add(1),await Af(t),t.q_.set("Offline"),n||(n=()=>aj(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{oe("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await km(t)})}function fj(t,e){return e().catch(n=>qh(t,n,e))}async function Cm(t){const e=ye(t),n=Sa(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;_6(e);)try{const i=await n6(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,b6(e,i)}catch(i){await qh(e,i)}dj(e)&&hj(e)}function _6(t){return Co(t)&&t.O_.length<10}function b6(t,e){t.O_.push(e);const n=Sa(t);n.r_()&&n.V_&&n.m_(e.mutations)}function dj(t){return Co(t)&&!Sa(t).n_()&&t.O_.length>0}function hj(t){Sa(t).start()}async function w6(t){Sa(t).p_()}async function x6(t){const e=Sa(t);for(const n of t.O_)e.m_(n.mutations)}async function E6(t,e,n){const r=t.O_.shift(),i=hw.from(r,e,n);await fj(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Cm(t)}async function S6(t,e){e&&Sa(t).V_&&await async function(r,i){if(function(o){return d3(o)&&o!==H.ABORTED}(i.code)){const a=r.O_.shift();Sa(r).s_(),await fj(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Cm(r)}}(t,e),dj(t)&&hj(t)}async function qS(t,e){const n=ye(t);n.asyncQueue.verifyOperationInProgress(),oe("RemoteStore","RemoteStore received new credentials");const r=Co(n);n.L_.add(3),await Af(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await km(n)}async function A6(t,e){const n=ye(t);e?(n.L_.delete(2),await km(n)):e||(n.L_.add(2),await Af(n),n.q_.set("Unknown"))}function kl(t){return t.K_||(t.K_=function(n,r,i){const a=ye(n);return a.w_(),new c6(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:m6.bind(null,t),Ro:g6.bind(null,t),mo:v6.bind(null,t),d_:y6.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),xw(t)?ww(t):t.q_.set("Unknown")):(await t.K_.stop(),cj(t))})),t.K_}function Sa(t){return t.U_||(t.U_=function(n,r,i){const a=ye(n);return a.w_(),new f6(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:w6.bind(null,t),mo:S6.bind(null,t),f_:x6.bind(null,t),g_:E6.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Cm(t)):(await t.U_.stop(),t.O_.length>0&&(oe("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new va,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,s=new Ew(e,n,o,i,a);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sw(t,e){if(Ai("AsyncQueue",`${e}: ${t}`),xf(t))return new ae(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e){this.comparator=e?(n,r)=>e(n,r)||se.comparator(n.key,r.key):(n,r)=>se.comparator(n.key,r.key),this.keyedMap=Nu(),this.sortedSet=new lt(this.comparator)}static emptySet(e){return new Es(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Es)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Es;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(){this.W_=new lt(se.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):pe():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Hs{constructor(e,n,r,i,a,o,s,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,a){const o=[];return n.forEach(s=>{o.push({type:0,doc:s})}),new Hs(e,n,Es.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class P6{constructor(){this.queries=GS(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ye(n),a=i.queries;i.queries=GS(),a.forEach((o,s)=>{for(const l of s.j_)l.onError(r)})})(this,new ae(H.ABORTED,"Firestore shutting down"))}}function GS(){return new Il(t=>DN(t),Sm)}async function pj(t,e){const n=ye(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.H_()&&e.J_()&&(r=2):(a=new T6,r=e.J_()?0:1);try{switch(r){case 0:a.z_=await n.onListen(i,!0);break;case 1:a.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const s=Sw(o,`Initialization of query '${Qo(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,a),a.j_.push(e),e.Z_(n.onlineState),a.z_&&e.X_(a.z_)&&Aw(n)}async function mj(t,e){const n=ye(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const o=a.j_.indexOf(e);o>=0&&(a.j_.splice(o,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function O6(t,e){const n=ye(t);let r=!1;for(const i of e){const a=i.query,o=n.queries.get(a);if(o){for(const s of o.j_)s.X_(i)&&(r=!0);o.z_=i}}r&&Aw(n)}function I6(t,e,n){const r=ye(t),i=r.queries.get(e);if(i)for(const a of i.j_)a.onError(n);r.queries.delete(e)}function Aw(t){t.Y_.forEach(e=>{e.next()})}var x0,KS;(KS=x0||(x0={})).ea="default",KS.Cache="cache";class gj{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Hs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Hs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==x0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(e){this.key=e}}class yj{constructor(e){this.key=e}}class k6{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=xe(),this.mutatedKeys=xe(),this.Aa=MN(e),this.Ra=new Es(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new HS,i=n?n.Ra:this.Ra;let a=n?n.mutatedKeys:this.mutatedKeys,o=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const h=i.get(c),p=Am(this.query,f)?f:null,m=!!h&&this.mutatedKeys.has(h.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;h&&p?h.data.isEqual(p.data)?m!==g&&(r.track({type:3,doc:p}),v=!0):this.ga(h,p)||(r.track({type:2,doc:p}),v=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(s=!0)):!h&&p?(r.track({type:0,doc:p}),v=!0):h&&!p&&(r.track({type:1,doc:h}),v=!0,(l||u)&&(s=!0)),v&&(p?(o=o.add(p),a=g?a.add(c):a.delete(c)):(o=o.delete(c),a=a.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{Ra:o,fa:r,ns:s,mutatedKeys:a}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((c,f)=>function(p,m){const g=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe()}};return g(p)-g(m)}(c.type,f.type)||this.Aa(c.doc,f.doc)),this.pa(r),i=i!=null&&i;const s=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new Hs(this.query,e.Ra,a,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new HS,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=xe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new yj(r))}),this.da.forEach(r=>{e.has(r)||n.push(new vj(r))}),n}ba(e){this.Ta=e.Ts,this.da=xe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Hs.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class C6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class N6{constructor(e){this.key=e,this.va=!1}}class j6{constructor(e,n,r,i,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Il(s=>DN(s),Sm),this.Ma=new Map,this.xa=new Set,this.Oa=new lt(se.comparator),this.Na=new Map,this.La=new gw,this.Ba={},this.ka=new Map,this.qa=qs.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function $6(t,e,n=!0){const r=Sj(t);let i;const a=r.Fa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await _j(r,e,n,!0),i}async function R6(t,e){const n=Sj(t);await _j(n,e,!0,!1)}async function _j(t,e,n,r){const i=await r6(t.localStore,Rr(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let s;return r&&(s=await D6(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&lj(t.remoteStore,i),s}async function D6(t,e,n,r,i){t.Ka=(f,h,p)=>async function(g,v,_,y){let w=v.view.ma(_);w.ns&&(w=await BS(g.localStore,v.query,!1).then(({documents:S})=>v.view.ma(S,w)));const I=y&&y.targetChanges.get(v.targetId),E=y&&y.targetMismatches.get(v.targetId)!=null,P=v.view.applyChanges(w,g.isPrimaryClient,I,E);return QS(g,v.targetId,P.wa),P.snapshot}(t,f,h,p);const a=await BS(t.localStore,e,!0),o=new k6(e,a.Ts),s=o.ma(a.documents),l=Sf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(s,t.isPrimaryClient,l);QS(t,n,u.wa);const c=new C6(e,n,o);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function M6(t,e,n){const r=ye(t),i=r.Fa.get(e),a=r.Ma.get(i.targetId);if(a.length>1)return r.Ma.set(i.targetId,a.filter(o=>!Sm(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await w0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&_w(r.remoteStore,i.targetId),E0(r,i.targetId)}).catch(wf)):(E0(r,i.targetId),await w0(r.localStore,i.targetId,!0))}async function L6(t,e){const n=ye(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),_w(n.remoteStore,r.targetId))}async function F6(t,e,n){const r=H6(t);try{const i=await function(o,s){const l=ye(o),u=Pt.now(),c=s.reduce((p,m)=>p.add(m.key),xe());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=Ti(),g=xe();return l.cs.getEntries(p,c).next(v=>{m=v,m.forEach((_,y)=>{y.isValidDocument()||(g=g.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(v=>{f=v;const _=[];for(const y of s){const w=s3(y,f.get(y.key).overlayedDocument);w!=null&&_.push(new ko(y.key,w,ON(w.value.mapValue),Dr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,_,s)}).next(v=>{h=v;const _=v.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(p,v.batchId,_)})}).then(()=>({batchId:h.batchId,changes:FN(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new lt(ke)),u=u.insert(s,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await Tf(r,i.changes),await Cm(r.remoteStore)}catch(i){const a=Sw(i,"Failed to persist write");n.reject(a)}}async function bj(t,e){const n=ye(t);try{const r=await e6(n.localStore,e);e.targetChanges.forEach((i,a)=>{const o=n.Na.get(a);o&&(Le(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Le(o.va):i.removedDocuments.size>0&&(Le(o.va),o.va=!1))}),await Tf(n,r,e)}catch(r){await wf(r)}}function YS(t,e,n){const r=ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((a,o)=>{const s=o.view.Z_(e);s.snapshot&&i.push(s.snapshot)}),function(o,s){const l=ye(o);l.onlineState=s;let u=!1;l.queries.forEach((c,f)=>{for(const h of f.j_)h.Z_(s)&&(u=!0)}),u&&Aw(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function V6(t,e,n){const r=ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),a=i&&i.key;if(a){let o=new lt(se.comparator);o=o.insert(a,an.newNoDocument(a,ge.min()));const s=xe().add(a),l=new Om(ge.min(),new Map,new lt(ke),o,s);await bj(r,l),r.Oa=r.Oa.remove(a),r.Na.delete(e),Tw(r)}else await w0(r.localStore,e,!1).then(()=>E0(r,e,n)).catch(wf)}async function U6(t,e){const n=ye(t),r=e.batch.batchId;try{const i=await Z3(n.localStore,e);xj(n,r,null),wj(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Tf(n,i)}catch(i){await wf(i)}}async function B6(t,e,n){const r=ye(t);try{const i=await function(o,s){const l=ye(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,s).next(f=>(Le(f!==null),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);xj(r,e,n),wj(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Tf(r,i)}catch(i){await wf(i)}}function wj(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function xj(t,e,n){const r=ye(t);let i=r.Ba[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function E0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||Ej(t,r)})}function Ej(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(_w(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Tw(t))}function QS(t,e,n){for(const r of n)r instanceof vj?(t.La.addReference(r.key,e),z6(t,r)):r instanceof yj?(oe("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||Ej(t,r.key)):pe()}function z6(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(oe("SyncEngine","New document in limbo: "+n),t.xa.add(r),Tw(t))}function Tw(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new se(Ze.fromString(e)),r=t.qa.next();t.Na.set(r,new N6(n)),t.Oa=t.Oa.insert(n,r),lj(t.remoteStore,new ia(Rr(cw(n.path)),r,"TargetPurposeLimboResolution",iw.oe))}}async function Tf(t,e,n){const r=ye(t),i=[],a=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((s,l)=>{o.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=yw.Wi(l.targetId,u);a.push(f)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const c=ye(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>K.forEach(u,h=>K.forEach(h.$i,p=>c.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>K.forEach(h.Ui,p=>c.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!xf(f))throw f;oe("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const p=c.os.get(h),m=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(m);c.os=c.os.insert(h,g)}}}(r.localStore,a))}async function W6(t,e){const n=ye(t);if(!n.currentUser.isEqual(e)){oe("SyncEngine","User change. New user:",e.toKey());const r=await ij(n.localStore,e);n.currentUser=e,function(a,o){a.ka.forEach(s=>{s.forEach(l=>{l.reject(new ae(H.CANCELLED,o))})}),a.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Tf(n,r.hs)}}function q6(t,e){const n=ye(t),r=n.Na.get(e);if(r&&r.va)return xe().add(r.key);{let i=xe();const a=n.Ma.get(e);if(!a)return i;for(const o of a){const s=n.Fa.get(o);i=i.unionWith(s.view.Va)}return i}}function Sj(t){const e=ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=bj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=q6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=V6.bind(null,e),e.Ca.d_=O6.bind(null,e.eventManager),e.Ca.$a=I6.bind(null,e.eventManager),e}function H6(t){const e=ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=U6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=B6.bind(null,e),e}class Hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Im(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return J3(this.persistence,new Q3,e.initialUser,this.serializer)}Ga(e){return new G3(vw.Zr,this.serializer)}Wa(e){return new a6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hh.provider={build:()=>new Hh};class S0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>YS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=W6.bind(null,this.syncEngine),await A6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new P6}()}createDatastore(e){const n=Im(e.databaseInfo.databaseId),r=function(a){return new u6(a)}(e.databaseInfo);return function(a,o,s,l){return new d6(a,o,s,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,o,s){return new p6(r,i,a,o,s)}(this.localStore,this.datastore,e.asyncQueue,n=>YS(this.syncEngine,n,0),function(){return WS.D()?new WS:new o6}())}createSyncEngine(e,n){return function(i,a,o,s,l,u,c){const f=new j6(i,a,o,s,l,u);return c&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=ye(i);oe("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await Af(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}S0.provider={build:()=>new S0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ai("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=nn.UNAUTHENTICATED,this.clientId=AN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async o=>{oe("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(oe("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new va;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Sw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Cv(t,e){t.asyncQueue.verifyOperationInProgress(),oe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await ij(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function XS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await K6(t);oe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>qS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>qS(e.remoteStore,i)),t._onlineComponents=e}async function K6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){oe("FirestoreClient","Using user provided OfflineComponentProvider");try{await Cv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===H.FAILED_PRECONDITION||i.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Us("Error using user provided cache. Falling back to memory cache: "+n),await Cv(t,new Hh)}}else oe("FirestoreClient","Using default OfflineComponentProvider"),await Cv(t,new Hh);return t._offlineComponents}async function Tj(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(oe("FirestoreClient","Using user provided OnlineComponentProvider"),await XS(t,t._uninitializedComponentsProvider._online)):(oe("FirestoreClient","Using default OnlineComponentProvider"),await XS(t,new S0))),t._onlineComponents}function Y6(t){return Tj(t).then(e=>e.syncEngine)}async function A0(t){const e=await Tj(t),n=e.eventManager;return n.onListen=$6.bind(null,e.syncEngine),n.onUnlisten=M6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=R6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=L6.bind(null,e.syncEngine),n}function Q6(t,e,n={}){const r=new va;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,u){const c=new Aj({next:h=>{c.Za(),o.enqueueAndForget(()=>mj(a,f)),h.fromCache&&l.source==="server"?u.reject(new ae(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new gj(s,c,{includeMetadataChanges:!0,_a:!0});return pj(a,f)}(await A0(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pj(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(t,e,n){if(!n)throw new ae(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function X6(t,e,n,r){if(e===!0&&r===!0)throw new ae(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ZS(t){if(!se.isDocumentKey(t))throw new ae(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function eA(t){if(se.isDocumentKey(t))throw new ae(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Nm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":pe()}function mi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ae(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Nm(t);throw new ae(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ae(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}X6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Pj((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ae(H.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ae(H.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ae(H.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tA({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tA(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new mB;switch(r.type){case"firstParty":return new _B(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=JS.get(n);r&&(oe("ComponentProvider","Removing Datastore"),JS.delete(n),r.terminate())}(this),Promise.resolve()}}function J6(t,e,n,r={}){var i;const a=(t=mi(t,jm))._getSettings(),o=`${e}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==o&&Us("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),r.mockUserToken){let s,l;if(typeof r.mockUserToken=="string")s=r.mockUserToken,l=nn.MOCK_USER;else{s=nU(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ae(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new nn(u)}t._authCredentials=new gB(new SN(s,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ia(this.firestore,e,this._query)}}class Tn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ya(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tn(this.firestore,e,this._key)}}class ya extends Ia{constructor(e,n,r){super(e,n,cw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tn(this.firestore,null,new se(e))}withConverter(e){return new ya(this.firestore,e,this._path)}}function Bi(t,e,...n){if(t=gn(t),Oj("collection","path",e),t instanceof jm){const r=Ze.fromString(e,...n);return eA(r),new ya(t,null,r)}{if(!(t instanceof Tn||t instanceof ya))throw new ae(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ze.fromString(e,...n));return eA(r),new ya(t.firestore,null,r)}}function mu(t,e,...n){if(t=gn(t),arguments.length===1&&(e=AN.newId()),Oj("doc","path",e),t instanceof jm){const r=Ze.fromString(e,...n);return ZS(r),new Tn(t,null,new se(r))}{if(!(t instanceof Tn||t instanceof ya))throw new ae(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ze.fromString(e,...n));return ZS(r),new Tn(t.firestore,t instanceof ya?t.converter:null,new se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new oj(this,"async_queue_retry"),this.Vu=()=>{const r=kv();r&&oe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=kv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=kv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new va;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!xf(e))throw e;oe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(r);throw Ai("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Ew.createAndSchedule(this,e,n,r,a=>this.yu(a));return this.Tu.push(i),i}fu(){this.Eu&&pe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function rA(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class Gs extends jm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new nA,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new nA(e),this._firestoreClient=void 0,await e}}}function Z6(t,e){const n=typeof t=="object"?t:mN(),r=typeof t=="string"?t:"(default)",i=nw(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=eU("firestore");a&&J6(i,...a)}return i}function Pw(t){if(t._terminated)throw new ae(H.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||ez(t),t._firestoreClient}function ez(t){var e,n,r;const i=t._freezeSettings(),a=function(s,l,u,c){return new NB(s,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Pj(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new G6(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ks(Ht.fromBase64String(e))}catch(n){throw new ae(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ks(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tz=/^__.*__$/;class nz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ko(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ef(e,this.data,n,this.fieldTransforms)}}function Ij(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pe()}}class Nw{constructor(e,n,r,i,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Nw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Gh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Ij(this.Cu)&&tz.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class rz{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Im(e)}Qu(e,n,r,i=!1){return new Nw({Cu:e,methodName:n,qu:r,path:Bt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kj(t){const e=t._freezeSettings(),n=Im(t._databaseId);return new rz(t._databaseId,!!e.ignoreUndefinedProperties,n)}function iz(t,e,n,r,i,a={}){const o=t.Qu(a.merge||a.mergeFields?2:0,e,n,i);jj("Data must be an object, but it was:",o,r);const s=Cj(r,o);let l,u;if(a.merge)l=new mr(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){const c=[];for(const f of a.mergeFields){const h=oz(e,f,n);if(!o.contains(h))throw new ae(H.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);lz(c,h)||c.push(h)}l=new mr(c),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new nz(new Qn(s),l,u)}class jw extends Iw{_toFieldTransform(e){return new r3(e.path,new Pc)}isEqual(e){return e instanceof jw}}function az(t,e,n,r=!1){return $w(n,t.Qu(r?4:3,e))}function $w(t,e){if(Nj(t=gn(t)))return jj("Unsupported field value:",e,t),Cj(t,e);if(t instanceof Iw)return function(r,i){if(!Ij(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const a=[];let o=0;for(const s of r){let l=$w(s,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),o++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=gn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return e3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Pt.fromDate(r);return{timestampValue:Wh(i.serializer,a)}}if(r instanceof Pt){const a=new Pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Wh(i.serializer,a)}}if(r instanceof kw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ks)return{bytesValue:XN(i.serializer,r._byteString)};if(r instanceof Tn){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:mw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Cw)return function(o,s){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw s.Bu("VectorValues must only contain numeric values.");return fw(s.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Nm(r)}`)}(t,e)}function Cj(t,e){const n={};return TN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pl(t,(r,i)=>{const a=$w(i,e.Mu(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function Nj(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Pt||t instanceof kw||t instanceof Ks||t instanceof Tn||t instanceof Iw||t instanceof Cw)}function jj(t,e,n){if(!Nj(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Nm(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function oz(t,e,n){if((e=gn(e))instanceof Ow)return e._internalPath;if(typeof e=="string")return $j(t,e);throw Gh("Field path arguments must be of type string or ",t,!1,void 0,n)}const sz=new RegExp("[~\\*/\\[\\]]");function $j(t,e,n){if(e.search(sz)>=0)throw Gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ow(...e.split("."))._internalPath}catch{throw Gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Gh(t,e,n,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ae(H.INVALID_ARGUMENT,s+t+l)}function lz(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field($m("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class uz extends Rj{data(){return super.data()}}function $m(t,e){return typeof e=="string"?$j(t,e):e instanceof Ow?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ae(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rw{}class Mj extends Rw{}function zi(t,e,...n){let r=[];e instanceof Rw&&r.push(e),r=r.concat(n),function(a){const o=a.filter(l=>l instanceof Dw).length,s=a.filter(l=>l instanceof Rm).length;if(o>1||o>0&&s>0)throw new ae(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Rm extends Mj{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Rm(e,n,r)}_apply(e){const n=this._parse(e);return Lj(e._query,n),new Ia(e.firestore,e.converter,m0(e._query,n))}_parse(e){const n=kj(e.firestore);return function(a,o,s,l,u,c,f){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ae(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){aA(f,c);const p=[];for(const m of f)p.push(iA(l,a,m));h={arrayValue:{values:p}}}else h=iA(l,a,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||aA(f,c),h=az(s,o,f,c==="in"||c==="not-in");return yt.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function cz(t,e,n){const r=e,i=$m("where",t);return Rm._create(i,r,n)}class Dw extends Rw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Dw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:wr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let o=i;const s=a.getFlattenedFilters();for(const l of s)Lj(o,l),o=m0(o,l)}(e._query,n),new Ia(e.firestore,e.converter,m0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Mw extends Mj{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Mw(e,n)}_apply(e){const n=function(i,a,o){if(i.startAt!==null)throw new ae(H.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ae(H.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Tc(a,o)}(e._query,this._field,this._direction);return new Ia(e.firestore,e.converter,function(i,a){const o=i.explicitOrderBy.concat([a]);return new Ol(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Td(t,e="asc"){const n=e,r=$m("orderBy",t);return Mw._create(r,n)}function iA(t,e,n){if(typeof(n=gn(n))=="string"){if(n==="")throw new ae(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RN(e)&&n.indexOf("/")!==-1)throw new ae(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ze.fromString(n));if(!se.isDocumentKey(r))throw new ae(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return AS(t,new se(r))}if(n instanceof Tn)return AS(t,n._key);throw new ae(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nm(n)}.`)}function aA(t,e){if(!Array.isArray(t)||t.length===0)throw new ae(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Lj(t,e){const n=function(i,a){for(const o of i)for(const s of o.getFlattenedFilters())if(a.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ae(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class fz{convertValue(e,n="none"){switch(bo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_o(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw pe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Pl(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>ht(o.doubleValue));return new Cw(a)}convertGeoPoint(e){return new kw(ht(e.latitude),ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ow(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ec(e));default:return null}}convertTimestamp(e){const n=Ea(e);return new Pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ze.fromString(e);Le(rj(r));const i=new Sc(r.get(1),r.get(3)),a=new se(r.popFirst(5));return i.isEqual(n)||Ai(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dz(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fj extends Rj{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field($m("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class sh extends Fj{data(e={}){return super.data(e)}}class Vj{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new $u(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new sh(this._firestore,this._userDataWriter,r.key,r,new $u(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>{const l=new sh(i._firestore,i._userDataWriter,s.doc.key,s.doc,new $u(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>a||s.type!==3).map(s=>{const l=new sh(i._firestore,i._userDataWriter,s.doc.key,s.doc,new $u(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return s.type!==0&&(u=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),c=o.indexOf(s.doc.key)),{type:hz(s.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function hz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe()}}class Lw extends fz{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ks(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tn(this.firestore,null,n)}}function zo(t){t=mi(t,Ia);const e=mi(t.firestore,Gs),n=Pw(e),r=new Lw(e);return Dj(t._query),Q6(n,t._query).then(i=>new Vj(e,r,t,i))}function Nv(t,e,n){t=mi(t,Tn);const r=mi(t.firestore,Gs),i=dz(t.converter,e);return Uj(r,[iz(kj(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Dr.none())])}function oA(t){return Uj(mi(t.firestore,Gs),[new dw(t._key,Dr.none())])}function sA(t,...e){var n,r,i;t=gn(t);let a={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||rA(e[o])||(a=e[o],o++);const s={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(rA(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,c;if(t instanceof Tn)u=mi(t.firestore,Gs),c=cw(t._key.path),l={next:f=>{e[o]&&e[o](pz(u,t,f))},error:e[o+1],complete:e[o+2]};else{const f=mi(t,Ia);u=mi(f.firestore,Gs),c=f._query;const h=new Lw(u);l={next:p=>{e[o]&&e[o](new Vj(u,h,f,p))},error:e[o+1],complete:e[o+2]},Dj(t._query)}return function(h,p,m,g){const v=new Aj(g),_=new gj(p,v,m);return h.asyncQueue.enqueueAndForget(async()=>pj(await A0(h),_)),()=>{v.Za(),h.asyncQueue.enqueueAndForget(async()=>mj(await A0(h),_))}}(Pw(u),c,s,l)}function Uj(t,e){return function(r,i){const a=new va;return r.asyncQueue.enqueueAndForget(async()=>F6(await Y6(r),i,a)),a.promise}(Pw(t),e)}function pz(t,e,n){const r=n.docs.get(e._key),i=new Lw(t);return new Fj(t,i,e._key,r,new $u(n.hasPendingWrites,n.fromCache),e.converter)}function lA(){return new jw("serverTimestamp")}(function(e,n=!0){(function(i){Tl=i})(Al),Vs(new vo("firestore",(r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),s=new Gs(new vB(r.getProvider("auth-internal")),new wB(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ae(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sc(u.options.projectId,c)}(o,i),o);return a=Object.assign({useFetchStreams:n},a),s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),ga(bS,"4.7.3",e),ga(bS,"4.7.3","esm2017")})();function Fw(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Bj(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mz=Bj,zj=new _f("auth","Firebase",Bj());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh=new tw("@firebase/auth");function gz(t,...e){Kh.logLevel<=Se.WARN&&Kh.warn(`Auth (${Al}): ${t}`,...e)}function lh(t,...e){Kh.logLevel<=Se.ERROR&&Kh.error(`Auth (${Al}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(t,...e){throw Uw(t,...e)}function yr(t,...e){return Uw(t,...e)}function Vw(t,e,n){const r=Object.assign(Object.assign({},mz()),{[e]:n});return new _f("auth","Firebase",r).create(e,{appName:t.name})}function lo(t){return Vw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vz(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Br(t,"argument-error"),Vw(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Uw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return zj.create(t,...e)}function he(t,e,...n){if(!t)throw Uw(e,...n)}function li(t){const e="INTERNAL ASSERTION FAILED: "+t;throw lh(e),new Error(e)}function Pi(t,e){t||li(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function yz(){return uA()==="http:"||uA()==="https:"}function uA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _z(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yz()||oU()||"connection"in navigator)?navigator.onLine:!0}function bz(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Pi(n>e,"Short delay should be less than long delay!"),this.isMobile=rU()||sU()}get(){return _z()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(t,e){Pi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xz=new Pf(3e4,6e4);function zw(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Cl(t,e,n,r,i={}){return qj(t,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const s=bf(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},a);return aU()||(u.referrerPolicy="no-referrer"),Wj.fetch()(Hj(t,t.config.apiHost,n,s),u)})}async function qj(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},wz),e);try{const i=new Sz(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw Pd(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const s=a.ok?o.errorMessage:o.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Pd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Pd(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Vw(t,c,u);Br(t,c)}}catch(i){if(i instanceof ji)throw i;Br(t,"network-request-failed",{message:String(i)})}}async function Ez(t,e,n,r,i={}){const a=await Cl(t,e,n,r,i);return"mfaPendingCredential"in a&&Br(t,"multi-factor-auth-required",{_serverResponse:a}),a}function Hj(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Bw(t.config,i):`${t.config.apiScheme}://${i}`}class Sz{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(yr(this.auth,"network-request-failed")),xz.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Pd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=yr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Az(t,e){return Cl(t,"POST","/v1/accounts:delete",e)}async function Gj(t,e){return Cl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Tz(t,e=!1){const n=gn(t),r=await n.getIdToken(e),i=Ww(r);he(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Yu(jv(i.auth_time)),issuedAtTime:Yu(jv(i.iat)),expirationTime:Yu(jv(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function jv(t){return Number(t)*1e3}function Ww(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return lh("JWT malformed, contained fewer than 3 sections"),null;try{const i=cN(n);return i?JSON.parse(i):(lh("Failed to decode base64 JWT payload"),null)}catch(i){return lh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function cA(t){const e=Ww(t);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ji&&Pz(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Pz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yu(this.lastLoginAt),this.creationTime=Yu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await kc(t,Gj(n,{idToken:r}));he(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?Kj(a.providerUserInfo):[],s=kz(t.providerData,o),l=t.isAnonymous,u=!(t.email&&a.passwordHash)&&!(s!=null&&s.length),c=l?u:!1,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new P0(a.createdAt,a.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function Iz(t){const e=gn(t);await Yh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kz(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Kj(t){return t.map(e=>{var{providerId:n}=e,r=Fw(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cz(t,e){const n=await qj(t,{},async()=>{const r=bf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=Hj(t,i,"/v1/token",`key=${a}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",Wj.fetch()(o,{method:"POST",headers:s,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Nz(t,e){return Cl(t,"POST","/v2/accounts:revokeToken",zw(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){he(e.length!==0,"internal-error");const n=cA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(he(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await Cz(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new Ss;return r&&(he(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(he(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(he(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ss,this.toJSON())}_performRefresh(){return li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(t,e){he(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ui{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=Fw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Oz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new P0(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await kc(this,this.stsTokenManager.getToken(this.auth,e));return he(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Tz(this,e)}reload(){return Iz(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ui(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Yh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(si(this.auth.app))return Promise.reject(lo(this.auth));const e=await this.getIdToken();return await kc(this,Az(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,o,s,l,u,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(s=n.tenantId)!==null&&s!==void 0?s:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,y=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:w,emailVerified:I,isAnonymous:E,providerData:P,stsTokenManager:S}=n;he(w&&S,e,"internal-error");const A=Ss.fromJSON(this.name,S);he(typeof w=="string",e,"internal-error"),Wi(f,e.name),Wi(h,e.name),he(typeof I=="boolean",e,"internal-error"),he(typeof E=="boolean",e,"internal-error"),Wi(p,e.name),Wi(m,e.name),Wi(g,e.name),Wi(v,e.name),Wi(_,e.name),Wi(y,e.name);const T=new ui({uid:w,auth:e,email:h,emailVerified:I,displayName:f,isAnonymous:E,photoURL:m,phoneNumber:p,tenantId:g,stsTokenManager:A,createdAt:_,lastLoginAt:y});return P&&Array.isArray(P)&&(T.providerData=P.map(k=>Object.assign({},k))),v&&(T._redirectEventId=v),T}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ss;i.updateFromServerResponse(n);const a=new ui({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Yh(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];he(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?Kj(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),s=new Ss;s.updateFromIdToken(r);const l=new ui({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new P0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA=new Map;function ci(t){Pi(t instanceof Function,"Expected a class definition");let e=fA.get(t);return e?(Pi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,fA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Yj.type="NONE";const dA=Yj;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(t,e,n){return`firebase:${t}:${e}:${n}`}class As{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=uh(this.userKey,i.apiKey,a),this.fullPersistenceKey=uh("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ui._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new As(ci(dA),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||ci(dA);const o=uh(r,e.config.apiKey,e.name);let s=null;for(const u of n)try{const c=await u._get(o);if(c){const f=ui._fromJSON(e,c);u!==a&&(s=f),a=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new As(a,e,r):(a=l[0],s&&await a._set(o,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==a)try{await u._remove(o)}catch{}})),new As(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Zj(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Qj(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(t2(e))return"Blackberry";if(n2(e))return"Webos";if(Xj(e))return"Safari";if((e.includes("chrome/")||Jj(e))&&!e.includes("edge/"))return"Chrome";if(e2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Qj(t=ln()){return/firefox\//i.test(t)}function Xj(t=ln()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Jj(t=ln()){return/crios\//i.test(t)}function Zj(t=ln()){return/iemobile/i.test(t)}function e2(t=ln()){return/android/i.test(t)}function t2(t=ln()){return/blackberry/i.test(t)}function n2(t=ln()){return/webos/i.test(t)}function qw(t=ln()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function jz(t=ln()){var e;return qw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $z(){return lU()&&document.documentMode===10}function r2(t=ln()){return qw(t)||e2(t)||n2(t)||t2(t)||/windows phone/i.test(t)||Zj(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(t,e=[]){let n;switch(t){case"Browser":n=hA(ln());break;case"Worker":n=`${hA(ln())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Al}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,s)=>{try{const l=e(a);o(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dz(t,e={}){return Cl(t,"GET","/v2/passwordPolicy",zw(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mz=6;class Lz{constructor(e){var n,r,i,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Mz,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,o,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsUppercaseLetter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pA(this),this.idTokenSubscription=new pA(this),this.beforeStateQueue=new Rz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zj,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ci(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await As.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Gj(this,{idToken:e}),r=await ui._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(si(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===s)&&(l!=null&&l.user)&&(i=l.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Yh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(si(this.app))return Promise.reject(lo(this));const n=e?gn(e):null;return n&&he(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return si(this.app)?Promise.reject(lo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return si(this.app)?Promise.reject(lo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ci(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Dz(this),n=new Lz(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new _f("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Nz(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ci(e)||this._popupRedirectResolver;he(n,this,"argument-error"),this.redirectPersistenceManager=await As.create(this,[ci(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(s,this,"internal-error"),s.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=i2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&gz(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Dm(t){return gn(t)}class pA{constructor(e){this.auth=e,this.observer=null,this.addObserver=gU(n=>this.observer=n)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Vz(t){Hw=t}function Uz(t){return Hw.loadJS(t)}function Bz(){return Hw.gapiScript}function zz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wz(t,e){const n=nw(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Fh(a,e??{}))return i;Br(i,"already-initialized")}return n.initialize({options:e})}function qz(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ci);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Hz(t,e,n){const r=Dm(t);he(r._canInitEmulator,r,"emulator-config-failed"),he(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=a2(e),{host:o,port:s}=Gz(e),l=s===null?"":`:${s}`;r.config.emulator={url:`${a}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),Kz()}function a2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Gz(t){const e=a2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:mA(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:mA(o)}}}function mA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Kz(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return li("not implemented")}_getIdTokenResponse(e){return li("not implemented")}_linkToIdToken(e,n){return li("not implemented")}_getReauthenticationResolver(e){return li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ts(t,e){return Ez(t,"POST","/v1/accounts:signInWithIdp",zw(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yz="http://localhost";class wo extends o2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new wo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Br("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=Fw(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new wo(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ts(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ts(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ts(e,n)}buildRequest(){const e={requestUri:Yz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=bf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of extends Gw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends Of{constructor(){super("facebook.com")}static credential(e){return wo._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ji.credential(e.oauthAccessToken)}catch{return null}}}Ji.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ji.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii extends Of{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return wo._fromParams({providerId:ii.PROVIDER_ID,signInMethod:ii.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ii.credentialFromTaggedObject(e)}static credentialFromError(e){return ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ii.credential(n,r)}catch{return null}}}ii.GOOGLE_SIGN_IN_METHOD="google.com";ii.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends Of{constructor(){super("github.com")}static credential(e){return wo._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zi.credential(e.oauthAccessToken)}catch{return null}}}Zi.GITHUB_SIGN_IN_METHOD="github.com";Zi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends Of{constructor(){super("twitter.com")}static credential(e,n){return wo._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ea.credentialFromTaggedObject(e)}static credentialFromError(e){return ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ea.credential(n,r)}catch{return null}}}ea.TWITTER_SIGN_IN_METHOD="twitter.com";ea.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await ui._fromIdTokenResponse(e,r,i),o=gA(r);return new Ys({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=gA(r);return new Ys({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function gA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh extends ji{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Qh.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Qh(e,n,r,i)}}function s2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Qh._fromErrorAndOperation(t,a,e,r):a})}async function Qz(t,e,n=!1){const r=await kc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ys._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xz(t,e,n=!1){const{auth:r}=t;if(si(r.app))return Promise.reject(lo(r));const i="reauthenticate";try{const a=await kc(t,s2(r,i,e,t),n);he(a.idToken,r,"internal-error");const o=Ww(a.idToken);he(o,r,"internal-error");const{sub:s}=o;return he(t.uid===s,r,"user-mismatch"),Ys._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Br(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jz(t,e,n=!1){if(si(t.app))return Promise.reject(lo(t));const r="signIn",i=await s2(t,r,e),a=await Ys._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}function Zz(t,e,n,r){return gn(t).onIdTokenChanged(e,n,r)}function e5(t,e,n){return gn(t).beforeAuthStateChanged(e,n)}function t5(t,e,n,r){return gn(t).onAuthStateChanged(e,n,r)}function n5(t){return gn(t).signOut()}const Xh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xh,"1"),this.storage.removeItem(Xh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5=1e3,i5=10;class u2 extends l2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=r2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,s,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);$z()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,i5):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},r5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}u2.type="LOCAL";const a5=u2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2 extends l2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}c2.type="SESSION";const f2=c2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Mm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(o).map(async u=>u(n.origin,a)),l=await o5(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((s,l)=>{const u=Kw("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),s(h.data.response);break;default:clearTimeout(c),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(){return window}function l5(t){Lr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(){return typeof Lr().WorkerGlobalScope<"u"&&typeof Lr().importScripts=="function"}async function u5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function c5(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function f5(){return d2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2="firebaseLocalStorageDb",d5=1,Jh="firebaseLocalStorage",p2="fbase_key";class If{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Lm(t,e){return t.transaction([Jh],e?"readwrite":"readonly").objectStore(Jh)}function h5(){const t=indexedDB.deleteDatabase(h2);return new If(t).toPromise()}function O0(){const t=indexedDB.open(h2,d5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Jh,{keyPath:p2})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Jh)?e(r):(r.close(),await h5(),e(await O0()))})})}async function vA(t,e,n){const r=Lm(t,!0).put({[p2]:e,value:n});return new If(r).toPromise()}async function p5(t,e){const n=Lm(t,!1).get(e),r=await new If(n).toPromise();return r===void 0?null:r.value}function yA(t,e){const n=Lm(t,!0).delete(e);return new If(n).toPromise()}const m5=800,g5=3;class m2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await O0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>g5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return d2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mm._getInstance(f5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await u5(),!this.activeServiceWorker)return;this.sender=new s5(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||c5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await O0();return await vA(e,Xh,"1"),await yA(e,Xh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>vA(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>p5(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>yA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Lm(i,!1).getAll();return new If(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),m5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}m2.type="LOCAL";const v5=m2;new Pf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(t,e){return e?ci(e):(he(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw extends o2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ts(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ts(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ts(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function y5(t){return Jz(t.auth,new Yw(t),t.bypassAuthState)}function _5(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),Xz(n,new Yw(t),t.bypassAuthState)}async function b5(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),Qz(n,new Yw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:o,type:s}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return y5;case"linkViaPopup":case"linkViaRedirect":return b5;case"reauthViaPopup":case"reauthViaRedirect":return _5;default:Br(this.auth,"internal-error")}}resolve(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5=new Pf(2e3,1e4);async function x5(t,e,n){if(si(t.app))return Promise.reject(yr(t,"operation-not-supported-in-this-environment"));const r=Dm(t);vz(t,e,Gw);const i=g2(r,n);return new eo(r,"signInViaPopup",e,i).executeNotNull()}class eo extends v2{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,eo.currentPopupAction&&eo.currentPopupAction.cancel(),eo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return he(e,this.auth,"internal-error"),e}async onExecution(){Pi(this.filter.length===1,"Popup operations only handle one event");const e=Kw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,eo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,w5.get())};e()}}eo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E5="pendingRedirect",ch=new Map;class S5 extends v2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ch.get(this.auth._key());if(!e){try{const r=await A5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ch.set(this.auth._key(),e)}return this.bypassAuthState||ch.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function A5(t,e){const n=O5(e),r=P5(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function T5(t,e){ch.set(t._key(),e)}function P5(t){return ci(t._redirectPersistence)}function O5(t){return uh(E5,t.config.apiKey,t.name)}async function I5(t,e,n=!1){if(si(t.app))return Promise.reject(lo(t));const r=Dm(t),i=g2(r,e),o=await new S5(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5=10*60*1e3;class C5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!N5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!y2(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(yr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=k5&&this.cachedEventUids.clear(),this.cachedEventUids.has(_A(e))}saveEventToCache(e){this.cachedEventUids.add(_A(e)),this.lastProcessedEventTime=Date.now()}}function _A(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function y2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function N5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return y2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j5(t,e={}){return Cl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,R5=/^https?/;async function D5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await j5(t);for(const n of e)try{if(M5(n))return}catch{}Br(t,"unauthorized-domain")}function M5(t){const e=T0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!R5.test(n))return!1;if($5.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5=new Pf(3e4,6e4);function bA(){const t=Lr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function F5(t){return new Promise((e,n)=>{var r,i,a;function o(){bA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bA(),n(yr(t,"network-request-failed"))},timeout:L5.get()})}if(!((i=(r=Lr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Lr().gapi)===null||a===void 0)&&a.load)o();else{const s=zz("iframefcb");return Lr()[s]=()=>{gapi.load?o():n(yr(t,"network-request-failed"))},Uz(`${Bz()}?onload=${s}`).catch(l=>n(l))}}).catch(e=>{throw fh=null,e})}let fh=null;function V5(t){return fh=fh||F5(t),fh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U5=new Pf(5e3,15e3),B5="__/auth/iframe",z5="emulator/auth/iframe",W5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},q5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function H5(t){const e=t.config;he(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Bw(e,z5):`https://${t.config.authDomain}/${B5}`,r={apiKey:e.apiKey,appName:t.name,v:Al},i=q5.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${bf(r).slice(1)}`}async function G5(t){const e=await V5(t),n=Lr().gapi;return he(n,t,"internal-error"),e.open({where:document.body,url:H5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:W5,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=yr(t,"network-request-failed"),s=Lr().setTimeout(()=>{a(o)},U5.get());function l(){Lr().clearTimeout(s),i(r)}r.ping(l).then(l,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Y5=500,Q5=600,X5="_blank",J5="http://localhost";class wA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Z5(t,e,n,r=Y5,i=Q5){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},K5),{width:r.toString(),height:i.toString(),top:a,left:o}),u=ln().toLowerCase();n&&(s=Jj(u)?X5:n),Qj(u)&&(e=e||J5,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[p,m])=>`${h}${p}=${m},`,"");if(jz(u)&&s!=="_self")return e9(e||"",s),new wA(null);const f=window.open(e||"",s,c);he(f,t,"popup-blocked");try{f.focus()}catch{}return new wA(f)}function e9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t9="__/auth/handler",n9="emulator/auth/handler",r9=encodeURIComponent("fac");async function xA(t,e,n,r,i,a){he(t.config.authDomain,t,"auth-domain-config-required"),he(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Al,eventId:i};if(e instanceof Gw){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",mU(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))o[c]=f}if(e instanceof Of){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const s=o;for(const c of Object.keys(s))s[c]===void 0&&delete s[c];const l=await t._getAppCheckToken(),u=l?`#${r9}=${encodeURIComponent(l)}`:"";return`${i9(t)}?${bf(s).slice(1)}${u}`}function i9({config:t}){return t.emulator?Bw(t,n9):`https://${t.authDomain}/${t9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="webStorageSupport";class a9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=f2,this._completeRedirectFn=I5,this._overrideRedirectResult=T5}async _openPopup(e,n,r,i){var a;Pi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await xA(e,n,r,T0(),i);return Z5(e,o,Kw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await xA(e,n,r,T0(),i);return l5(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Pi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await G5(e),r=new C5(e);return n.register("authEvent",i=>(he(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($v,{type:$v},i=>{var a;const o=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[$v];o!==void 0&&n(!!o),Br(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=D5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return r2()||Xj()||qw()}}const o9=a9;var EA="@firebase/auth",SA="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function u9(t){Vs(new vo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=r.options;he(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:i2(t)},u=new Fz(r,i,a,l);return qz(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Vs(new vo("auth-internal",e=>{const n=Dm(e.getProvider("auth").getImmediate());return(r=>new s9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ga(EA,SA,l9(t)),ga(EA,SA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c9=5*60,f9=hN("authIdTokenMaxAge")||c9;let AA=null;const d9=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>f9)return;const i=n==null?void 0:n.token;AA!==i&&(AA=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function h9(t=mN()){const e=nw(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Wz(t,{popupRedirectResolver:o9,persistence:[v5,a5,f2]}),r=hN("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=d9(a.toString());e5(n,o,()=>o(n.currentUser)),Zz(n,s=>o(s))}}const i=fN("auth");return i&&Hz(n,`http://${i}`),n}function p9(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Vz({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=yr("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",p9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});u9("Browser");var m9="firebase",g9="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ga(m9,g9,"app");const v9={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0},_2=pN(v9),In=Z6(_2),Od=h9(_2);class y9{constructor(){Yg(this,"unsubscribe",null)}async signInWithGoogle(){try{const e=new ii,n=await x5(Od,e),r=n.user.email;return r==="bardini.kirk@gmail.com"||r==="emanuelle.joaquim@gmail.com"?(console.log("✅ Login realizado com sucesso:",n.user.displayName),!0):(console.log("❌ Email não autorizado:",r),await this.signOut(),!1)}catch(e){return console.error("Erro no login Google:",e),!1}}async signOut(){await n5(Od),this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)}getCurrentUser(){return Od.currentUser}onAuthStateChanged(e){return t5(Od,e)}cleanup(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)}async saveFood(e){const n=Date.now(),r={id:e.id,name:e.name,category:e.category,per:typeof e.per=="string"?parseFloat(e.per)||100:e.per,protein_g:e.protein_g,carbs_g:e.carbs_g,fat_g:e.fat_g,kcal:e.kcal,updatedAt:n,createdAt:e.createdAt||n};e.density_g_per_ml!==void 0&&(r.density_g_per_ml=e.density_g_per_ml),await Nv(mu(In,"foods",e.id),r)}async saveFoods(e){console.log(`🍎 Salvando ${e.length} alimentos no Firebase...`);const n=await this.loadFoods(),r=new Set(n.map(l=>l.id)),i=new Set(n.map(l=>l.name.toLowerCase()));let a=0,o=0,s=0;for(const l of e){if(!l||!l.id||!l.name){console.warn("⚠️ Alimento inválido ignorado:",l),s++;continue}if(r.has(l.id)){console.log(`🔄 Atualizando alimento existente: ${l.name}`),await this.saveFood(l),o++;continue}if(i.has(l.name.toLowerCase())){console.log(`⏭️ Pulando alimento duplicado por nome: ${l.name}`),s++;continue}console.log(`➕ Adicionando novo alimento: ${l.name}`),await this.saveFood(l),a++,r.add(l.id),i.add(l.name.toLowerCase())}console.log(`✅ Sincronização de alimentos concluída: ${a} novos, ${o} atualizados, ${s} duplicados ignorados`)}async countFoods(){const e=zi(Bi(In,"foods"));return(await zo(e)).docs.length}async countEntries(){const e=zi(Bi(In,"entries"));return(await zo(e)).docs.length}async checkSyncStatus(e,n){try{const[r,i]=await Promise.all([this.countFoods(),this.countEntries()]);console.log("📊 Verificação de sincronização:"),console.log(`   Local: ${e} alimentos, ${n} entradas`),console.log(`   Firebase: ${r} alimentos, ${i} entradas`);const a=e!==r,o=n!==i,s=a||o;let l="";return a&&o?l=`Alimentos: ${e} vs ${r}, Entradas: ${n} vs ${i}`:a?l=`Alimentos: local ${e} vs Firebase ${r}`:o?l=`Entradas: local ${n} vs Firebase ${i}`:l="Dados sincronizados",{needsSync:s,reason:l,needsFoods:a,needsEntries:o}}catch(r){return console.warn("⚠️ Erro ao verificar sincronização:",r),{needsSync:!0,reason:"Erro na verificação",needsFoods:!0,needsEntries:!0}}}async loadSelectiveData(e,n,r){const i={foods:[],entries:[]};return e?(console.log("🍎 Carregando alimentos do Firebase..."),i.foods=await this.loadFoods()):console.log("✅ Alimentos já sincronizados - usando dados locais"),n?(console.log("📝 Carregando entradas do Firebase..."),i.entries=await this.loadEntries(r)):console.log("✅ Entradas já sincronizadas - usando dados locais"),i}async loadFoods(){const e=zi(Bi(In,"foods"),Td("name")),n=await zo(e);console.log(`📦 Carregando ${n.docs.length} alimentos do Firebase...`);const r=n.docs.map(i=>{const a=i.data(),o={id:a.id,name:a.name,category:a.category,per:typeof a.per=="string"?parseFloat(a.per)||100:a.per||100,protein_g:a.protein_g||0,carbs_g:a.carbs_g||0,fat_g:a.fat_g||0,kcal:a.kcal||0,density_g_per_ml:a.density_g_per_ml,updatedAt:a.updatedAt||Date.now(),createdAt:a.createdAt||Date.now()};return console.log(`🍎 Alimento carregado: ${o.name} (per: ${o.per}, protein: ${o.protein_g})`),o});return console.log(`✅ ${r.length} alimentos carregados do Firebase`),r}async deleteFood(e){console.log(`🗑️ Deletando alimento do Firebase: ${e}`),await oA(mu(In,"foods",e)),console.log(`✅ Alimento deletado do Firebase: ${e}`)}async saveEntry(e){const n={id:e.id,userId:e.userId,dateISO:e.dateISO,foodId:e.foodId,qty:e.qty,unit:e.unit,mealType:e.mealType,protein_g:e.protein_g,carbs_g:e.carbs_g,fat_g:e.fat_g,kcal:e.kcal,water_ml:e.water_ml||0,updatedAt:lA()};e.note!==void 0&&(n.note=e.note),await Nv(mu(In,"entries",e.id),n)}async saveEntries(e){console.log(`📝 Salvando ${e.length} entradas no Firebase...`);const n=await this.loadAllEntries(),r=new Set(n.map(s=>s.id));let i=0,a=0,o=0;for(const s of e){if(!s||!s.id||!s.userId||!s.foodId){console.warn("⚠️ Entrada inválida ignorada:",s),o++;continue}if(r.has(s.id)){console.log(`🔄 Atualizando entrada existente: ${s.id}`),await this.saveEntry(s),a++;continue}console.log(`➕ Adicionando nova entrada: ${s.id}`),await this.saveEntry(s),i++,r.add(s.id)}console.log(`✅ Sincronização de entradas concluída: ${i} novas, ${a} atualizadas, ${o} inválidas ignoradas`)}async loadEntries(e){const n=zi(Bi(In,"entries"),cz("userId","==",e),Td("dateISO","desc"));return(await zo(n)).docs.map(i=>{const a=i.data();return{id:a.id,userId:a.userId,dateISO:a.dateISO,foodId:a.foodId,qty:a.qty,unit:a.unit,mealType:a.mealType,note:a.note,protein_g:a.protein_g,carbs_g:a.carbs_g,fat_g:a.fat_g,kcal:a.kcal,water_ml:a.water_ml}})}async loadAllEntries(){const e=zi(Bi(In,"entries"),Td("dateISO","desc"));return(await zo(e)).docs.map(r=>{const i=r.data();return{id:i.id,userId:i.userId,dateISO:i.dateISO,foodId:i.foodId,qty:i.qty,unit:i.unit,mealType:i.mealType,note:i.note,protein_g:i.protein_g,carbs_g:i.carbs_g,fat_g:i.fat_g,kcal:i.kcal,water_ml:i.water_ml}})}async deleteEntry(e){console.log(`🗑️ Deletando entrada do Firebase: ${e}`),await oA(mu(In,"entries",e)),console.log(`✅ Entrada deletada do Firebase: ${e}`)}async saveUsers(e){var s,l,u,c,f;console.log("👥 Salvando usuários no Firebase:",e);const n=await this.loadUsers(),r=new Set(n.map(h=>h.id));let i=0,a=0,o=0;for(const h of e){if(!h||!h.id||!h.name){console.warn("⚠️ Usuário inválido ignorado:",h),o++;continue}const p={id:h.id,name:h.name||"Usuário",goals:{protein_g:((s=h.goals)==null?void 0:s.protein_g)||0,carbs_g:((l=h.goals)==null?void 0:l.carbs_g)||0,fat_g:((u=h.goals)==null?void 0:u.fat_g)||0,kcal:((c=h.goals)==null?void 0:c.kcal)||0,water_ml:((f=h.goals)==null?void 0:f.water_ml)||0},updatedAt:lA()};r.has(h.id)?(console.log(`🔄 Atualizando usuário existente: ${h.name}`),a++):(console.log(`➕ Adicionando novo usuário: ${h.name}`),i++),await Nv(mu(In,"users",h.id),p)}console.log(`✅ Sincronização de usuários concluída: ${i} novos, ${a} atualizados, ${o} inválidos ignorados`)}async loadUsers(){const e=zi(Bi(In,"users"));return(await zo(e)).docs.map(r=>{var a,o,s,l,u;const i=r.data();return{id:i.id,name:i.name,goals:{protein_g:((a=i.goals)==null?void 0:a.protein_g)||0,carbs_g:((o=i.goals)==null?void 0:o.carbs_g)||0,fat_g:((s=i.goals)==null?void 0:s.fat_g)||0,kcal:((l=i.goals)==null?void 0:l.kcal)||0,water_ml:((u=i.goals)==null?void 0:u.water_ml)||0}}})}onUsersChange(e){const n=zi(Bi(In,"users"));return sA(n,i=>{const a=[];i.forEach(o=>{var l,u,c,f,h;const s=o.data();a.push({id:s.id,name:s.name,goals:{protein_g:((l=s.goals)==null?void 0:l.protein_g)||0,carbs_g:((u=s.goals)==null?void 0:u.carbs_g)||0,fat_g:((c=s.goals)==null?void 0:c.fat_g)||0,kcal:((f=s.goals)==null?void 0:f.kcal)||0,water_ml:((h=s.goals)==null?void 0:h.water_ml)||0}})}),e(a)})}onFoodsChange(e){const n=zi(Bi(In,"foods"),Td("name"));return sA(n,i=>{const a=[];i.forEach(o=>{const s=o.data();a.push({id:s.id,name:s.name,category:s.category,per:s.per||100,protein_g:s.protein_g||0,carbs_g:s.carbs_g||0,fat_g:s.fat_g||0,kcal:s.kcal||0,density_g_per_ml:s.density_g_per_ml,updatedAt:s.updatedAt||Date.now(),createdAt:s.createdAt||Date.now()})}),e(a)})}async loadAllUsersData(){const[e,n,r]=await Promise.all([this.loadAllEntries(),this.loadFoods(),this.loadUsers()]);return{entries:e,foods:n,users:r}}getUserIdFromEmail(e){return e==="bardini.kirk@gmail.com"?"kirk":e==="emanuelle.joaquim@gmail.com"?"manu":"kirk"}getCurrentUserId(){const e=this.getCurrentUser();return e!=null&&e.email?this.getUserIdFromEmail(e.email):"kirk"}}const xt=new y9,TA=()=>Date.now().toString(36)+Math.random().toString(36).substr(2),Ie=(t,e=1)=>t.toFixed(e),PA=(t,e,n)=>{if(!t||!e||e<=0||!t.per||t.per<=0)return{protein_g:0,carbs_g:0,fat_g:0,kcal:0,water_ml:0};const r=t.protein_g||0,i=t.carbs_g||0,a=t.fat_g||0,o=t.kcal||0;let s;return n==="g"||n==="ml"?s=e/t.per:s=e*1e3/t.per,n==="ml"&&t.density_g_per_ml&&t.density_g_per_ml>0&&(s=e*t.density_g_per_ml/t.per),isNaN(s)||!isFinite(s)?{protein_g:0,carbs_g:0,fat_g:0,kcal:0,water_ml:0}:{protein_g:Math.round(r*s*100)/100,carbs_g:Math.round(i*s*100)/100,fat_g:Math.round(a*s*100)/100,kcal:Math.round(o*s*100)/100,water_ml:n==="ml"?e:0}},_9=t=>t.reduce((e,n)=>({protein_g:e.protein_g+n.protein_g,carbs_g:e.carbs_g+n.carbs_g,fat_g:e.fat_g+n.fat_g,kcal:e.kcal+n.kcal,water_ml:e.water_ml+(n.foodId==="agua"?n.qty:0)}),{protein_g:0,carbs_g:0,fat_g:0,kcal:0,water_ml:0}),Id=[{id:"kirk",name:"Kirk",goals:{protein_g:160,carbs_g:220,fat_g:60,kcal:2400,water_ml:3e3}},{id:"manu",name:"Manu",goals:{protein_g:120,carbs_g:180,fat_g:50,kcal:2e3,water_ml:2500}}],b9={theme:"light",language:"pt",defaultUnit:"g"},Wo=async(t,e)=>{try{console.log(`🔄 Iniciando sincronização: ${e}`),await t(),console.log(`✅ ${e} sincronizado com Firebase`)}catch(n){console.error(`❌ Falha na sincronização de ${e}:`,n)}},qr=I4()(R4((t,e)=>({currentUser:"kirk",selectedDate:new Date().toISOString().split("T")[0],isLoading:!1,error:null,isInitialized:!1,foods:[],entries:[],users:Id,settings:b9,initializeApp:async()=>{const{isInitialized:n,isLoading:r}=e();if(n||r){console.log("⚠️ Aplicação já inicializada ou em processo, pulando...");return}t({isLoading:!0,error:null});try{console.log("🚀 Inicializando aplicação..."),await le.init(),await e().loadInitialData(),await e().autoSelectUser(),t({isInitialized:!0}),console.log("✅ Aplicação inicializada com sucesso")}catch(i){t({error:"Erro ao inicializar aplicação"}),console.error("Erro na inicialização:",i)}finally{t({isLoading:!1})}},loadInitialData:async()=>{try{console.log("📊 Carregando dados iniciais...");const[n,r,i]=await Promise.all([le.getAllFoods(),le.getAllEntries(),le.getAllUsers()]);if(console.log(`📊 Dados carregados: ${n.length} alimentos, ${r.length} entradas, ${i.length} usuários`),i.length===0){console.log("👥 Criando usuários padrão...");for(const a of Id)await le.updateUser(a)}try{console.log("🍎 Verificando sincronização com Firebase...");const a=await le.getAllFoods(),o=await le.getAllUsers(),s=await le.getAllEntries();if(a.length>0&&o.length>0){console.log(`✅ Dados locais encontrados: ${a.length} alimentos, ${o.length} usuários, ${s.length} entradas`),console.log("🔄 Verificando se há dados mais recentes no Firebase...");const{foods:l,users:u,entries:c}=await xt.loadAllUsersData();if(console.log(`📦 Firebase: ${l.length} alimentos, ${u.length} usuários, ${c.length} entradas`),c.length!==s.length||l.length!==a.length||u.length!==o.length){console.log("🔄 Diferenças detectadas entre local e Firebase, sincronizando..."),console.log("🔄 Sincronizando alimentos: Firebase → Local");for(const E of l)try{const P=await le.getFood(E.id);if(P){const S=P.updatedAt||0;(E.updatedAt||0)>S&&(await le.updateFood(E),console.log(`🔄 Alimento atualizado do Firebase: ${E.name}`))}else await le.addFood(E),console.log(`✅ Alimento adicionado do Firebase: ${E.name}`)}catch(P){console.warn(`⚠️ Erro ao sincronizar alimento ${E.name}:`,P)}const h=new Set(l.map(E=>E.id)),m=(await le.getAllFoods()).filter(E=>!h.has(E.id));if(m.length>0){console.log(`🗑️ Encontrados ${m.length} alimentos para deletar (não existem no Firebase):`);for(const E of m)console.log(`  - ${E.name} (${E.id})`),await le.deleteFood(E.id);console.log(`✅ ${m.length} alimentos deletados localmente`)}else console.log("✅ Nenhum alimento local precisa ser deletado");console.log("🔄 Sincronizando entradas: Firebase → Local");for(const E of c)try{const P=await le.getEntry(E.id);if(P){const S=P.updatedAt||0;(E.updatedAt||0)>S&&(await le.updateEntry(E),console.log(`🔄 Entrada atualizada do Firebase: ${E.foodId} (${E.dateISO})`))}else await le.addEntry(E),console.log(`✅ Entrada adicionada do Firebase: ${E.foodId} (${E.dateISO})`)}catch(P){console.warn(`⚠️ Erro ao sincronizar entrada ${E.id}:`,P)}const g=new Set(c.map(E=>E.id)),_=(await le.getAllEntries()).filter(E=>!g.has(E.id));if(_.length>0){console.log(`🗑️ Encontradas ${_.length} entradas para deletar (não existem no Firebase):`);for(const E of _)console.log(`  - ${E.foodId} (${E.dateISO}) - ${E.id}`),await le.deleteEntry(E.id);console.log(`✅ ${_.length} entradas deletadas localmente`)}else console.log("✅ Nenhuma entrada local precisa ser deletada");for(const E of u)await le.updateUser(E),console.log(`👤 Usuário atualizado do Firebase: ${E.name}`);const y=await le.getAllFoods(),w=await le.getAllUsers(),I=await le.getAllEntries();console.log(`✅ Sincronização concluída: ${y.length} alimentos, ${w.length} usuários, ${I.length} entradas`),t({foods:y,entries:I,users:w})}else console.log("📱 Dados locais estão atualizados - usando dados locais"),t({foods:a,entries:s,users:o})}else{console.log("🔄 Dados locais insuficientes, carregando do Firebase...");const{foods:l,users:u,entries:c}=await xt.loadAllUsersData();console.log(`📦 Encontrados ${l.length} alimentos, ${u.length} usuários e ${c.length} entradas no Firebase`),console.log("🔄 Sincronizando alimentos do Firebase para local...");for(const m of l)try{const g=await le.getFood(m.id);if(g){const v=g.updatedAt||0;(m.updatedAt||0)>v?(await le.updateFood(m),console.log(`🔄 Alimento atualizado do Firebase: ${m.name}`)):console.log(`✅ Alimento local mais recente: ${m.name}`)}else await le.addFood(m),console.log(`✅ Alimento adicionado do Firebase: ${m.name}`)}catch(g){console.warn(`⚠️ Erro ao sincronizar alimento ${m.name}:`,g)}console.log("📱 Sincronização unidirecional concluída - Firebase é a fonte da verdade"),console.log("🔄 Sincronizando entradas do Firebase para local...");for(const m of c)try{const g=await le.getEntry(m.id);if(g){const v=g.updatedAt||0;(m.updatedAt||0)>v?(await le.updateEntry(m),console.log(`🔄 Entrada atualizada do Firebase: ${m.foodId} (${m.dateISO})`)):console.log(`✅ Entrada local mais recente: ${m.foodId} (${m.dateISO})`)}else await le.addEntry(m),console.log(`✅ Entrada adicionada do Firebase: ${m.foodId} (${m.dateISO})`)}catch(g){console.warn(`⚠️ Erro ao sincronizar entrada ${m.id}:`,g)}for(const m of u)await le.updateUser(m),console.log(`👤 Usuário atualizado do Firebase: ${m.name}`);const f=await le.getAllFoods(),h=await le.getAllUsers(),p=await le.getAllEntries();console.log(`✅ ${f.length} alimentos, ${h.length} usuários e ${p.length} entradas carregados do Firebase`),t({foods:f,entries:p,users:h})}}catch(a){console.error("Erro ao carregar dados do Firebase:",a),t({foods:n,entries:r,users:i.length>0?i:Id})}}catch(n){console.error("Erro ao carregar dados iniciais:",n),t({foods:[],entries:[],users:Id})}},autoSelectUser:async()=>{},setupRealtimeListeners:async()=>{try{console.log("🔄 Configurando listeners em tempo real..."),xt.onFoodsChange(async n=>{console.log("🔄 Alimentos atualizados em tempo real:",n.length);for(const r of n)try{await le.getFood(r.id)?(await le.updateFood(r),console.log(`🔄 Alimento atualizado: ${r.name}`)):(await le.addFood(r),console.log(`✅ Alimento adicionado: ${r.name}`))}catch(i){console.warn(`⚠️ Erro ao sincronizar alimento ${r.name}:`,i)}t({foods:n})}),console.log("✅ Listeners configurados")}catch(n){console.error("Erro ao configurar listeners:",n)}},setCurrentUser:n=>t({currentUser:n}),setSelectedDate:n=>t({selectedDate:n}),setUsers:n=>t({users:n}),setError:n=>t({error:n}),addFood:async n=>{const r=Date.now(),i={...n,id:n.id||TA(),createdAt:n.createdAt||r,updatedAt:r};console.log(`🍎 Adicionando alimento local: ${i.name} (${i.id})`),await le.addFood(i),t(a=>({foods:[...a.foods,i]})),console.log(`✅ Alimento salvo localmente: ${i.name}`),await Wo(()=>xt.saveFood(i),`alimento ${i.name}`)},updateFood:async n=>{const r={...n,updatedAt:Date.now()};await le.updateFood(r),t(i=>({foods:i.foods.map(a=>a.id===n.id?r:a)})),await Wo(()=>xt.saveFood(r),`alimento ${r.name}`)},deleteFood:async n=>{const r=e().foods.find(i=>i.id===n);console.log(`🗑️ Deletando alimento local: ${r==null?void 0:r.name} (${n})`),await le.deleteFood(n),t(i=>({foods:i.foods.filter(a=>a.id!==n)})),r?(console.log(`🔄 Sincronizando deleção com Firebase: ${r.name}`),await Wo(()=>xt.deleteFood(n),`alimento ${r.name}`)):console.warn(`⚠️ Alimento não encontrado para sincronização: ${n}`)},searchFoods:n=>{const{foods:r}=e();if(!n||n.trim()==="")return r;const i=n.toLowerCase().trim();return r.filter(a=>a.name.toLowerCase().includes(i)||a.category.toLowerCase().includes(i))},importFoods:async n=>{let r=0,i=0;for(const a of n){const o=e().foods.find(s=>s.name.toLowerCase()===a.name.toLowerCase());if(o){const s={...o,...a,id:o.id,createdAt:o.createdAt,updatedAt:Date.now()};await e().updateFood(s),i++,console.log(`🔄 Alimento atualizado: ${a.name}`)}else await e().addFood(a),r++,console.log(`✅ Alimento adicionado: ${a.name}`)}return{added:r,updated:i}},addEntry:async n=>{const r=Date.now(),i={...n,id:n.id||TA(),createdAt:n.createdAt||r,updatedAt:r,water_ml:n.water_ml||0};console.log(`📝 Adicionando entrada local: ${i.id} (${i.foodId})`),await le.addEntry(i),t(a=>({entries:[...a.entries,i]})),console.log(`✅ Entrada salva localmente: ${i.id}`),await Wo(()=>xt.saveEntry(i),`entrada ${i.foodId}`)},addEntryFromSync:n=>{t(r=>({entries:[...r.entries,n]}))},updateEntry:async n=>{const r={...n,water_ml:n.water_ml||0,updatedAt:Date.now()};await le.updateEntry(r),t(i=>({entries:i.entries.map(a=>a.id===n.id?r:a)})),await Wo(()=>xt.saveEntry(r),`entrada ${r.foodId}`)},deleteEntry:async n=>{const r=e().entries.find(i=>i.id===n);console.log(`🗑️ Deletando entrada local: ${r==null?void 0:r.foodId} (${r==null?void 0:r.dateISO}) - ${n}`),await le.deleteEntry(n),t(i=>({entries:i.entries.filter(a=>a.id!==n)})),r?(console.log(`🔄 Sincronizando deleção com Firebase: ${r.foodId} (${r.dateISO})`),await Wo(()=>xt.deleteEntry(n),`entrada ${r.foodId} (${r.dateISO})`)):console.warn(`⚠️ Entrada não encontrada para sincronização: ${n}`)},getEntriesForDate:(n,r)=>{const{entries:i}=e();return i.filter(a=>a.userId===n&&a.dateISO===r)},getEntriesForDateRange:(n,r,i)=>{const{entries:a}=e();return a.filter(o=>o.userId===n&&o.dateISO>=r&&o.dateISO<=i)},exportBackup:async()=>await le.exportBackup(),importBackup:async n=>{await le.importBackup(n),await e().loadInitialData()},cleanDuplicates:async()=>{try{console.log("🧹 Limpando duplicatas de alimentos e entradas...");const n=await le.cleanAllDuplicates();return console.log(`✅ Limpeza concluída: ${n.foods.removed} alimentos e ${n.entries.removed} entradas removidas`),await e().loadInitialData(),n}catch(n){throw console.error("Erro ao limpar duplicatas:",n),n}},updateSettings:async n=>{const{settings:r}=e(),i={...r,...n};await le.setSetting("app_settings",i),t({settings:i})},getDailyTotals:(n,r)=>{const i=e().getEntriesForDate(n,r);return _9(i)}}),{name:"foodlog-km-storage",partialize:t=>({currentUser:t.currentUser,selectedDate:t.selectedDate,settings:t.settings}),onRehydrateStorage:()=>t=>{t&&(t.selectedDate=new Date().toISOString().split("T")[0],t.users&&(console.log("🧹 Limpando dados locais dos usuários - Firebase é a fonte da verdade"),t.users=[]))}})),He=({children:t,className:e=""})=>x.jsx("div",{className:`bg-white rounded-lg shadow border border-gray-200 p-6 ${e}`,children:t}),w9=()=>{const{currentUser:t,selectedDate:e,users:n,setCurrentUser:r,setSelectedDate:i,getDailyTotals:a}=qr(),o=R.useMemo(()=>(n||[]).filter(f=>f.id==="kirk"||f.id==="manu"),[n]),s=o.find(f=>f.id===t),l=a(t,e),u=f=>{i(f.target.value)},c=f=>{const[h,p,m]=f.split("-");return`${m}/${p}/${h}`};return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"FoodLog KM"}),x.jsx("p",{className:"text-gray-600",children:"Registro de alimentos e nutrientes"})]}),x.jsx("div",{className:"flex bg-gray-100 rounded-lg p-1",children:o.map(f=>x.jsx("button",{onClick:()=>r(f.id),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${t===f.id?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:f.name},f.id))})]}),x.jsx(He,{children:x.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Data Selecionada"}),x.jsx("p",{className:"text-sm text-gray-600",children:c(e)})]}),x.jsx("div",{className:"flex items-center space-x-2",children:x.jsx("input",{type:"date",value:e,onChange:u,className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})})]})}),x.jsxs(He,{children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Ações Rápidas"}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[x.jsxs("button",{onClick:()=>{const f=new CustomEvent("openFoodEntry");window.dispatchEvent(f)},className:"inline-flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 w-full",children:[x.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),x.jsx("span",{className:"truncate",children:"Novo Lançamento"})]}),x.jsxs("button",{onClick:()=>{const f=new CustomEvent("openAddWater");window.dispatchEvent(f)},className:"inline-flex items-center justify-center px-4 py-2 bg-cyan-600 text-white rounded-md hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-cyan-500 w-full",children:[x.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})}),x.jsx("span",{className:"truncate",children:"Adicionar Água"})]}),x.jsxs("button",{onClick:()=>{const f=new CustomEvent("openFoodsManager");window.dispatchEvent(f)},className:"inline-flex items-center justify-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 w-full",children:[x.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),x.jsx("span",{className:"truncate",children:"Alimentos"})]}),x.jsxs("button",{onClick:()=>{const f=new CustomEvent("openReports");window.dispatchEvent(f)},className:"inline-flex items-center justify-center px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 w-full",children:[x.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),x.jsx("span",{className:"truncate",children:"Relatórios"})]})]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[x.jsx(He,{children:x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[l.protein_g.toFixed(1),"g"]}),x.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Proteínas"}),x.jsxs("div",{className:"text-xs text-gray-500",children:["Meta: ",(s==null?void 0:s.goals.protein_g)||0,"g"]})]})}),x.jsx(He,{children:x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[l.carbs_g.toFixed(1),"g"]}),x.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Carboidratos"}),x.jsxs("div",{className:"text-xs text-gray-500",children:["Meta: ",(s==null?void 0:s.goals.carbs_g)||0,"g"]})]})}),x.jsx(He,{children:x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"text-2xl font-bold text-yellow-600",children:[l.fat_g.toFixed(1),"g"]}),x.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Gorduras"}),x.jsxs("div",{className:"text-xs text-gray-500",children:["Meta: ",(s==null?void 0:s.goals.fat_g)||0,"g"]})]})}),x.jsx(He,{children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"text-2xl font-bold text-red-600",children:l.kcal.toFixed(0)}),x.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Calorias"}),x.jsxs("div",{className:"text-xs text-gray-500",children:["Meta: ",(s==null?void 0:s.goals.kcal)||0]})]})}),x.jsx(He,{children:x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"text-2xl font-bold text-cyan-600",children:[l.water_ml.toFixed(0),"ml"]}),x.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Água"}),x.jsxs("div",{className:"text-xs text-gray-500",children:["Meta: ",(s==null?void 0:s.goals.water_ml)||0,"ml"]})]})})]})]})},Oi=({isOpen:t,onClose:e,title:n,children:r,size:i="md"})=>{if(M.useEffect(()=>{const o=s=>{s.key==="Escape"&&e()};return t&&(document.addEventListener("keydown",o),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",o),document.body.style.overflow="unset"}},[t,e]),!t)return null;const a={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return x.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:x.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:e}),x.jsxs("div",{className:`relative w-full ${a[i]} transform overflow-hidden rounded-lg bg-white shadow-xl transition-all`,children:[x.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-6 py-4",children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:n}),x.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 focus:outline-none focus:text-gray-600",children:x.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),x.jsx("div",{className:"px-6 py-4",children:r})]})]})})},Ae=({variant:t="primary",size:e="md",className:n="",children:r,...i})=>{const a="inline-flex items-center justify-center font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",o={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"},s={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},l=`${a} ${o[t]} ${s[e]} ${n}`;return x.jsx("button",{className:l,...i,children:r})},_n=({label:t,error:e,className:n="",...r})=>{const o=`block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${e?"border-red-300 focus:ring-red-500 focus:border-red-500":""} ${n}`;return x.jsxs("div",{children:[t&&x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t}),x.jsx("input",{className:o,...r}),e&&x.jsx("p",{className:"mt-1 text-sm text-red-600",children:e})]})},OA={"cafe-da-manha":"Café da Manhã",almoco:"Almoço",lanche:"Lanche",jantar:"Jantar",outros:"Outros"},x9={"cafe-da-manha":"☀️",almoco:"🍽️",lanche:"🍪",jantar:"🌙",outros:"🍴"},E9=({isOpen:t,onClose:e,editingEntry:n,onUpdate:r})=>{const{foods:i,currentUser:a,selectedDate:o,addEntry:s,updateEntry:l}=qr(),[u,c]=M.useState(""),[f,h]=M.useState(null),[p,m]=M.useState(""),[g,v]=M.useState("g"),[_,y]=M.useState("outros"),[w,I]=M.useState(""),[E,P]=M.useState(!1),[S,A]=M.useState([]);M.useEffect(()=>{if(n){const D=i.find(F=>F.id===n.foodId);h(D||null),c((D==null?void 0:D.name)||""),m(n.qty.toString()),v(n.unit),y(n.mealType),I(n.note||"")}else T()},[n,i]);const T=()=>{c(""),h(null),m(""),v("g"),y("outros"),I(""),P(!1),A([])},k=D=>{if(c(D),D.length>0){const F=i.filter(q=>q.name.toLowerCase().includes(D.toLowerCase())||q.category.toLowerCase().includes(D.toLowerCase()));A(F.slice(0,5)),P(!0)}else A([]),P(!1)},C=D=>{h(D),c(D.name),P(!1)},j=async D=>{if(D.preventDefault(),!f||!p)return;const F=parseFloat(p);if(isNaN(F)||F<=0)return;const q=PA(f,F,g),V={userId:a,dateISO:o,foodId:f.id,qty:F,unit:g,mealType:_,note:w.trim()||void 0,...q};if(n&&r){const z={...n,...V};await l(z),r(z)}else await s(V);e(),T()},N=()=>{e(),T()},U=f&&p&&!isNaN(parseFloat(p))?PA(f,parseFloat(p),g):{protein_g:0,carbs_g:0,fat_g:0,kcal:0};return x.jsx(Oi,{isOpen:t,onClose:N,title:n?"Editar Lançamento":"Novo Lançamento",size:"lg",children:x.jsxs("form",{onSubmit:j,className:"space-y-6",children:[x.jsxs("div",{className:"relative",children:[x.jsx(_n,{label:"Alimento",value:u,onChange:D=>k(D.target.value),placeholder:"Digite o nome do alimento...",required:!0}),E&&S.length>0&&x.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto",children:S.map(D=>x.jsxs("button",{type:"button",onClick:()=>C(D),className:"w-full px-4 py-2 text-left hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",children:[x.jsx("div",{className:"font-medium",children:D.name}),x.jsx("div",{className:"text-sm text-gray-500",children:D.category})]},D.id))})]}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[x.jsx(_n,{label:"Quantidade",type:"number",value:p,onChange:D=>m(D.target.value),placeholder:"0.0",step:"0.1",min:"0",required:!0}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unidade"}),x.jsxs("select",{value:g,onChange:D=>v(D.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[x.jsx("option",{value:"g",children:"Gramas (g)"}),x.jsx("option",{value:"ml",children:"Mililitros (ml)"}),x.jsx("option",{value:"Kg",children:"Quilogramas (Kg)"}),x.jsx("option",{value:"L",children:"Litros (L)"})]})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Refeição"}),x.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:Object.keys(OA).map(D=>x.jsxs("button",{type:"button",onClick:()=>y(D),className:`p-3 rounded-lg border text-sm font-medium transition-colors ${_===D?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-gray-200 text-gray-700 hover:bg-gray-50"}`,children:[x.jsx("div",{className:"text-lg mb-1",children:x9[D]}),x.jsx("div",{children:OA[D]})]},D))})]}),x.jsx(_n,{label:"Observação (opcional)",value:w,onChange:D=>I(D.target.value),placeholder:"Ex: sem sal, grelhado..."}),f&&p&&!isNaN(parseFloat(p))&&x.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[x.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Valores Nutricionais"}),x.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 text-sm",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-gray-600",children:"Proteínas"}),x.jsxs("div",{className:"font-medium",children:[U.protein_g.toFixed(1),"g"]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-gray-600",children:"Carboidratos"}),x.jsxs("div",{className:"font-medium",children:[U.carbs_g.toFixed(1),"g"]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-gray-600",children:"Gorduras"}),x.jsxs("div",{className:"font-medium",children:[U.fat_g.toFixed(1),"g"]})]}),x.jsxs("div",{children:[x.jsx("div",{className:"text-gray-600",children:"Calorias"}),x.jsx("div",{className:"font-medium",children:U.kcal.toFixed(0)})]})]})]}),u&&!f&&x.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:x.jsxs("div",{className:"flex",children:[x.jsx("div",{className:"text-yellow-400 mr-3",children:"⚠️"}),x.jsxs("div",{children:[x.jsx("h4",{className:"text-sm font-medium text-yellow-800",children:"Alimento não encontrado"}),x.jsxs("p",{className:"text-sm text-yellow-700 mt-1",children:['O alimento "',u,'" não foi encontrado na base de dados. Verifique a ortografia ou adicione um novo alimento.']})]})]})}),x.jsxs("div",{className:"flex justify-end space-x-3",children:[x.jsx(Ae,{type:"button",variant:"secondary",onClick:N,children:"Cancelar"}),x.jsx(Ae,{type:"submit",disabled:!f||!p,children:n?"Atualizar":"Adicionar"})]})]})})},S9={"cafe-da-manha":"Café da Manhã",almoco:"Almoço",lanche:"Lanche",jantar:"Jantar",outros:"Outros"},A9={"cafe-da-manha":"☀️",almoco:"🍽️",lanche:"🍪",jantar:"🌙",outros:"🍴"},IA=["cafe-da-manha","almoco","lanche","jantar","outros"],T9=({onEdit:t,onDelete:e})=>{const{currentUser:n,selectedDate:r,foods:i,getEntriesForDate:a}=qr(),[o,s]=M.useState(null),l=a(n,r),u=l.filter(_=>_.foodId==="agua"),f=l.filter(_=>_.foodId!=="agua").reduce((_,y)=>(_[y.mealType]||(_[y.mealType]=[]),_[y.mealType].push(y),_),{}),h=_=>{const y=i.find(w=>w.id===_);return y?y.name:"Alimento não encontrado"},p=_=>{const y=i.find(w=>w.id===_);return y?y.category:""},m=_=>_.unit==="g"||_.unit==="ml"?`${Ie(_.qty)}${_.unit}`:`${Ie(_.qty)} ${_.unit}`,g=IA.map(_=>{const w=(f[_]||[]).reduce((I,E)=>({kcal:I.kcal+E.kcal,protein_g:I.protein_g+E.protein_g,carbs_g:I.carbs_g+E.carbs_g,fat_g:I.fat_g+E.fat_g,count:I.count+1}),{kcal:0,protein_g:0,carbs_g:0,fat_g:0,count:0});return{mealType:_,...w}}),v=u.reduce((_,y)=>_+y.qty,0);return l.length===0?x.jsx(He,{children:x.jsxs("div",{className:"text-center py-8",children:[x.jsx("div",{className:"text-4xl mb-4",children:"🍽️"}),x.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum lançamento hoje"}),x.jsx("p",{className:"text-gray-600",children:"Adicione alimentos para começar a registrar sua alimentação."})]})}):x.jsxs("div",{className:"space-y-6",children:[u.length>0&&x.jsxs("div",{className:"space-y-3",children:[x.jsx("div",{className:"mb-3 p-3 bg-cyan-50 rounded-lg border border-cyan-200",children:x.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx("span",{className:"text-xl",children:"💧"}),x.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Água"}),x.jsxs("span",{className:"text-sm text-gray-500",children:["(",u.length," ",u.length===1?"lançamento":"lançamentos",")"]})]}),x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"font-semibold text-cyan-600",children:[Ie(v)," ml"]}),x.jsx("div",{className:"text-xs text-gray-500",children:"Total"})]})]})}),x.jsx("div",{className:"space-y-2",children:u.map(_=>x.jsxs("div",{className:"flex items-center justify-between p-4 bg-cyan-50 rounded-lg hover:bg-cyan-100 transition-colors border border-cyan-200",children:[x.jsxs("div",{className:"flex-1",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsx("h4",{className:"font-medium text-gray-900",children:h(_.foodId)}),x.jsxs("div",{className:"text-sm text-cyan-600 font-medium",children:[Ie(_.qty)," ml"]})]}),_.note&&x.jsxs("p",{className:"text-sm text-gray-600 mb-2 italic",children:['"',_.note,'"']})]}),x.jsxs("div",{className:"flex flex-col sm:flex-row space-y-1 sm:space-y-0 sm:space-x-2 ml-2 sm:ml-4",children:[x.jsx(Ae,{onClick:()=>t(_),variant:"secondary",size:"sm",className:"text-xs px-2 py-1 min-w-0",children:"✏️"}),x.jsx(Ae,{onClick:()=>s(_.id),variant:"secondary",size:"sm",className:"text-xs px-2 py-1 min-w-0 text-red-600 hover:text-red-700",children:"🗑️"})]})]},_.id))})]}),IA.map(_=>{const y=f[_]||[],w=g.find(I=>I.mealType===_);return y.length===0?null:x.jsxs("div",{className:"space-y-3",children:[x.jsx("div",{className:"mb-3 p-3 bg-gray-50 rounded-lg",children:x.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx("span",{className:"text-xl",children:A9[_]}),x.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:S9[_]}),x.jsxs("span",{className:"text-sm text-gray-500",children:["(",y.length," ",y.length===1?"item":"itens",")"]})]}),w&&w.count>0&&x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"font-semibold text-gray-900",children:[Ie(w.kcal)," kcal"]}),x.jsxs("div",{className:"text-xs text-gray-500",children:[Ie(w.protein_g),"p • ",Ie(w.carbs_g),"c • ",Ie(w.fat_g),"g"]})]})]})}),x.jsx("div",{className:"space-y-2",children:y.map(I=>x.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg hover:bg-gray-50 transition-colors border border-gray-200",children:[x.jsxs("div",{className:"flex-1",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsx("h4",{className:"font-medium text-gray-900",children:h(I.foodId)}),x.jsx("div",{className:"text-sm text-gray-600",children:m(I)})]}),x.jsx("div",{className:"text-sm text-gray-500 mb-1",children:p(I.foodId)}),x.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-600",children:[x.jsxs("span",{children:[Ie(I.protein_g),"g proteína"]}),x.jsxs("span",{children:[Ie(I.carbs_g),"g carboidrato"]}),x.jsxs("span",{children:[Ie(I.fat_g),"g gordura"]}),x.jsxs("span",{className:"font-medium",children:[Ie(I.kcal)," kcal"]})]}),I.note&&x.jsxs("p",{className:"text-sm text-gray-600 mt-2 italic",children:['"',I.note,'"']})]}),x.jsxs("div",{className:"flex flex-col sm:flex-row space-y-1 sm:space-y-0 sm:space-x-2 ml-2 sm:ml-4",children:[x.jsx(Ae,{onClick:()=>t(I),variant:"secondary",size:"sm",className:"text-xs px-2 py-1 min-w-0",children:"✏️"}),x.jsx(Ae,{onClick:()=>s(I.id),variant:"secondary",size:"sm",className:"text-xs px-2 py-1 min-w-0 text-red-600 hover:text-red-700",children:"🗑️"})]})]},I.id))})]},_)}),o&&x.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:x.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50"}),x.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[x.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Confirmar Exclusão"}),x.jsx("p",{className:"text-gray-600 mb-6",children:"Tem certeza que deseja excluir este lançamento? Esta ação não pode ser desfeita."}),x.jsxs("div",{className:"flex justify-end space-x-3",children:[x.jsx(Ae,{variant:"secondary",onClick:()=>s(null),children:"Cancelar"}),x.jsx(Ae,{variant:"danger",onClick:()=>{e(o),s(null)},children:"Excluir"})]})]})]})})]})},P9=({isOpen:t,onClose:e})=>{const{importFoods:n}=qr(),[r,i]=M.useState(!1),[a,o]=M.useState(!1),[s,l]=M.useState(null),[u,c]=M.useState(null),f=async y=>{if(!y.name.endsWith(".json")){l("Por favor, selecione um arquivo JSON válido.");return}o(!0),l(null),c(null);try{const w=await y.text(),I=JSON.parse(w);if(!Array.isArray(I))throw new Error("O arquivo deve conter um array de alimentos.");const E=[];for(const S of I)typeof S.name=="string"&&typeof S.category=="string"&&typeof S.per=="number"&&typeof S.protein_g=="number"&&typeof S.carbs_g=="number"&&typeof S.fat_g=="number"&&typeof S.kcal=="number"&&E.push({id:S.id||`imported-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:S.name,category:S.category,per:S.per,protein_g:S.protein_g,carbs_g:S.carbs_g,fat_g:S.fat_g,kcal:S.kcal,density_g_per_ml:S.density_g_per_ml||void 0});if(E.length===0)throw new Error("Nenhum alimento válido encontrado no arquivo.");const P=await n(E);c(`Importação concluída! ${P.added} alimentos adicionados, ${P.updated} atualizados.`),setTimeout(()=>{e()},2e3)}catch(w){l(w instanceof Error?w.message:"Erro ao processar arquivo.")}finally{o(!1)}},h=y=>{var I;const w=(I=y.target.files)==null?void 0:I[0];w&&f(w)},p=y=>{y.preventDefault(),i(!1);const w=y.dataTransfer.files[0];w&&f(w)},m=y=>{y.preventDefault(),i(!0)},g=y=>{y.preventDefault(),i(!1)},v=()=>{const y=[{name:"Arroz Branco",category:"Cereais",per:100,protein_g:7.2,carbs_g:28,fat_g:.3,kcal:130},{name:"Frango Grelhado",category:"Carnes",per:100,protein_g:23,carbs_g:0,fat_g:1.2,kcal:99}],w=new Blob([JSON.stringify(y,null,2)],{type:"application/json"}),I=URL.createObjectURL(w),E=document.createElement("a");E.href=I,E.download="alimentos_template.json",document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(I)},_=()=>{l(null),c(null),e()};return x.jsx(Oi,{isOpen:t,onClose:_,title:"📥 Importar Alimentos",size:"lg",children:x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[x.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Como importar:"}),x.jsxs("ol",{className:"text-sm text-blue-800 space-y-1 list-decimal list-inside",children:[x.jsx("li",{children:"Baixe o template de exemplo"}),x.jsx("li",{children:"Preencha com seus alimentos (formato JSON)"}),x.jsx("li",{children:"Arraste o arquivo para cá ou clique para selecionar"})]})]}),x.jsx("div",{className:"text-center",children:x.jsx(Ae,{onClick:v,variant:"secondary",className:"mb-4",children:"📄 Baixar Template"})}),x.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${r?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onDrop:p,onDragOver:m,onDragLeave:g,children:[x.jsx("div",{className:"text-4xl mb-4",children:"📁"}),x.jsx("p",{className:"text-lg font-medium text-gray-900 mb-2",children:"Arraste o arquivo JSON aqui"}),x.jsx("p",{className:"text-gray-600 mb-4",children:"ou"}),x.jsx("input",{type:"file",accept:".json",onChange:h,className:"hidden",id:"file-input"}),x.jsx("label",{htmlFor:"file-input",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 cursor-pointer",children:"Selecionar Arquivo"})]}),s&&x.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:x.jsxs("div",{className:"flex",children:[x.jsx("div",{className:"text-red-400 mr-3",children:"❌"}),x.jsxs("div",{children:[x.jsx("h4",{className:"text-sm font-medium text-red-800",children:"Erro na importação"}),x.jsx("p",{className:"text-sm text-red-700 mt-1",children:s})]})]})}),u&&x.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:x.jsxs("div",{className:"flex",children:[x.jsx("div",{className:"text-green-400 mr-3",children:"✅"}),x.jsxs("div",{children:[x.jsx("h4",{className:"text-sm font-medium text-green-800",children:"Importação bem-sucedida"}),x.jsx("p",{className:"text-sm text-green-700 mt-1",children:u})]})]})}),a&&x.jsxs("div",{className:"text-center py-4",children:[x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),x.jsx("p",{className:"text-gray-600",children:"Processando arquivo..."})]}),x.jsx("div",{className:"flex justify-end",children:x.jsx(Ae,{onClick:_,variant:"secondary",children:"Fechar"})})]})})},O9=({isOpen:t,onClose:e})=>{const{foods:n,addFood:r,updateFood:i,deleteFood:a}=qr(),[o,s]=M.useState(""),[l,u]=M.useState(!1),[c,f]=M.useState(!1),[h,p]=M.useState(!1),[m,g]=M.useState(null),[v,_]=M.useState({name:"",category:"",per:"",protein_g:"",carbs_g:"",fat_g:"",kcal:"",density_g_per_ml:""}),y=n.filter(T=>T.name.toLowerCase().includes(o.toLowerCase())||T.category.toLowerCase().includes(o.toLowerCase())),w=()=>{_({name:"",category:"",per:"",protein_g:"",carbs_g:"",fat_g:"",kcal:"",density_g_per_ml:""}),g(null),u(!0)},I=T=>{_({name:T.name,category:T.category,per:T.per.toString(),protein_g:T.protein_g.toString(),carbs_g:T.carbs_g.toString(),fat_g:T.fat_g.toString(),kcal:T.kcal.toString(),density_g_per_ml:(T.density_g_per_ml||0).toString()}),g(T),f(!0)},E=async T=>{confirm("Tem certeza que deseja excluir este alimento?")&&await a(T)},P=async T=>{T.preventDefault();const k={...v,per:parseFloat(v.per)||100,protein_g:parseFloat(v.protein_g)||0,carbs_g:parseFloat(v.carbs_g)||0,fat_g:parseFloat(v.fat_g)||0,kcal:parseFloat(v.kcal)||0,density_g_per_ml:parseFloat(v.density_g_per_ml)||0};m?await i({...m,...k}):await r(k),S()},S=()=>{u(!1),f(!1),p(!1),g(null)},A=()=>{p(!0)};return t?x.jsxs(Oi,{isOpen:t,onClose:e,title:"Gerenciar Alimentos",size:"xl",children:[x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[x.jsx("div",{className:"flex-1",children:x.jsx(_n,{placeholder:"Buscar alimentos...",value:o,onChange:T=>s(T.target.value)})}),x.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2",children:[x.jsxs(Ae,{onClick:w,className:"whitespace-nowrap",children:[x.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Adicionar Alimento"]}),x.jsxs(Ae,{onClick:A,variant:"secondary",className:"whitespace-nowrap hidden md:flex",children:[x.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})}),"Importar JSON"]})]})]}),x.jsx("div",{className:"space-y-4",children:y.length===0?x.jsx(He,{children:x.jsxs("div",{className:"text-center py-8",children:[x.jsx("div",{className:"text-4xl mb-4",children:"🍎"}),x.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum alimento encontrado"}),x.jsx("p",{className:"text-gray-600",children:o?"Tente uma busca diferente.":"Adicione alimentos para começar."})]})}):x.jsx("div",{className:"grid gap-4",children:y.map(T=>x.jsx(He,{children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex-1",children:[x.jsx("h3",{className:"font-medium text-gray-900",children:T.name}),x.jsx("p",{className:"text-sm text-gray-600 mb-2",children:T.category}),x.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 text-sm",children:[x.jsxs("div",{children:[x.jsx("span",{className:"text-gray-500",children:"Proteína:"}),x.jsxs("span",{className:"ml-1 font-medium",children:[T.protein_g,"g"]})]}),x.jsxs("div",{children:[x.jsx("span",{className:"text-gray-500",children:"Carboidrato:"}),x.jsxs("span",{className:"ml-1 font-medium",children:[T.carbs_g,"g"]})]}),x.jsxs("div",{children:[x.jsx("span",{className:"text-gray-500",children:"Gordura:"}),x.jsxs("span",{className:"ml-1 font-medium",children:[T.fat_g,"g"]})]}),x.jsxs("div",{children:[x.jsx("span",{className:"text-gray-500",children:"Calorias:"}),x.jsx("span",{className:"ml-1 font-medium",children:T.kcal})]})]}),T.density_g_per_ml&&x.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Densidade: ",T.density_g_per_ml,"g/ml"]})]}),x.jsxs("div",{className:"flex space-x-2 ml-4",children:[x.jsx(Ae,{onClick:()=>I(T),variant:"secondary",size:"sm",children:"✏️"}),x.jsx(Ae,{onClick:()=>E(T.id),variant:"secondary",size:"sm",className:"text-red-600 hover:text-red-700",children:"🗑️"})]})]})},T.id))})})]}),x.jsx(Oi,{isOpen:l||c,onClose:S,title:m?"Editar Alimento":"Adicionar Alimento",size:"lg",children:x.jsxs("form",{onSubmit:P,className:"space-y-4",children:[x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[x.jsx(_n,{label:"Nome",value:v.name,onChange:T=>_({...v,name:T.target.value}),required:!0}),x.jsx(_n,{label:"Categoria",value:v.category,onChange:T=>_({...v,category:T.target.value}),required:!0})]}),x.jsx(_n,{label:"Por (gramas/ml)",type:"text",value:v.per,onChange:T=>_({...v,per:T.target.value}),placeholder:"100",required:!0}),x.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[x.jsx(_n,{label:"Proteína (g)",type:"text",value:v.protein_g,onChange:T=>_({...v,protein_g:T.target.value}),placeholder:"0",required:!0}),x.jsx(_n,{label:"Carboidrato (g)",type:"text",value:v.carbs_g,onChange:T=>_({...v,carbs_g:T.target.value}),placeholder:"0",required:!0}),x.jsx(_n,{label:"Gordura (g)",type:"text",value:v.fat_g,onChange:T=>_({...v,fat_g:T.target.value}),placeholder:"0",required:!0}),x.jsx(_n,{label:"Calorias",type:"text",value:v.kcal,onChange:T=>_({...v,kcal:T.target.value}),placeholder:"0",required:!0})]}),x.jsx(_n,{label:"Densidade (g/ml) - opcional",type:"text",value:v.density_g_per_ml,onChange:T=>_({...v,density_g_per_ml:T.target.value}),placeholder:"0"}),x.jsxs("div",{className:"flex justify-end space-x-3",children:[x.jsx(Ae,{type:"button",variant:"secondary",onClick:S,children:"Cancelar"}),x.jsx(Ae,{type:"submit",children:m?"Atualizar":"Adicionar"})]})]})}),x.jsx(P9,{isOpen:h,onClose:S})]}):null},I9=({isOpen:t,onClose:e})=>{const{currentUser:n,selectedDate:r,addEntry:i,foods:a}=qr(),[o,s]=M.useState(0),[l,u]=M.useState(""),c=a.find(v=>v.id==="agua"),f=v=>{s(_=>_+v)},h=v=>{s(_=>Math.max(0,_-v))},p=()=>{s(0),u("")},m=async v=>{if(v.preventDefault(),o<=0)return;const _={userId:n,dateISO:r,foodId:"agua",qty:o,unit:"ml",mealType:"outros",note:l.trim()||void 0,protein_g:0,carbs_g:0,fat_g:0,kcal:0,water_ml:o};await i(_),e(),p()},g=()=>{e(),p()};return x.jsx(Oi,{isOpen:t,onClose:g,title:"💧 Adicionar Água",size:"md",children:x.jsxs("form",{onSubmit:m,className:"space-y-6",children:[c&&x.jsxs("div",{className:"bg-cyan-50 rounded-lg p-4 border border-cyan-200",children:[x.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[x.jsx("span",{className:"text-2xl",children:"💧"}),x.jsx("h3",{className:"font-medium text-cyan-900",children:c.name})]}),x.jsx("p",{className:"text-sm text-cyan-700",children:"Adicione água ao seu registro diário"})]}),x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"text-4xl font-bold text-cyan-600 mb-2",children:[o," ml"]}),x.jsx("div",{className:"text-sm text-gray-600",children:"Quantidade atual"})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Adicionar rapidamente:"}),x.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[x.jsx(Ae,{type:"button",onClick:()=>f(100),variant:"secondary",className:"text-sm",children:"+100ml"}),x.jsx(Ae,{type:"button",onClick:()=>f(250),variant:"secondary",className:"text-sm",children:"+250ml"}),x.jsx(Ae,{type:"button",onClick:()=>f(500),variant:"secondary",className:"text-sm",children:"+500ml"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Remover:"}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsx(Ae,{type:"button",onClick:()=>h(100),variant:"secondary",className:"text-sm",children:"-100ml"}),x.jsx(Ae,{type:"button",onClick:p,variant:"secondary",className:"text-sm",children:"Reset"})]})]})]}),x.jsx("div",{children:x.jsx(_n,{label:"Quantidade personalizada (ml)",type:"number",value:o||"",onChange:v=>s(parseInt(v.target.value)||0),placeholder:"0",min:"0",step:"50"})}),x.jsx(_n,{label:"Observação (opcional)",value:l,onChange:v=>u(v.target.value),placeholder:"Ex: água com limão, água gelada..."}),x.jsxs("div",{className:"flex justify-end space-x-3",children:[x.jsx(Ae,{type:"button",variant:"secondary",onClick:g,children:"Cancelar"}),x.jsx(Ae,{type:"submit",disabled:o<=0,children:"Adicionar Água"})]})]})})},Zo=({value:t,max:e,color:n="blue",showPercentage:r=!0,className:i=""})=>{const a=Math.min(100,Math.max(0,t/e*100)),o={blue:"bg-blue-500",green:"bg-green-500",red:"bg-red-500",yellow:"bg-yellow-500",purple:"bg-purple-500",cyan:"bg-cyan-500"};return x.jsxs("div",{className:`w-full ${i}`,children:[x.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[x.jsx("span",{children:t.toFixed(1)}),r&&x.jsxs("span",{children:[a.toFixed(0),"%"]})]}),x.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:x.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${o[n]}`,style:{width:`${a}%`}})})]})};function b2(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=b2(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function _e(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=b2(t))&&(r&&(r+=" "),r+=e);return r}var k9=Array.isArray,Pn=k9,C9=typeof rd=="object"&&rd&&rd.Object===Object&&rd,w2=C9,N9=w2,j9=typeof self=="object"&&self&&self.Object===Object&&self,$9=N9||j9||Function("return this")(),Hr=$9,R9=Hr,D9=R9.Symbol,kf=D9,kA=kf,x2=Object.prototype,M9=x2.hasOwnProperty,L9=x2.toString,gu=kA?kA.toStringTag:void 0;function F9(t){var e=M9.call(t,gu),n=t[gu];try{t[gu]=void 0;var r=!0}catch{}var i=L9.call(t);return r&&(e?t[gu]=n:delete t[gu]),i}var V9=F9,U9=Object.prototype,B9=U9.toString;function z9(t){return B9.call(t)}var W9=z9,CA=kf,q9=V9,H9=W9,G9="[object Null]",K9="[object Undefined]",NA=CA?CA.toStringTag:void 0;function Y9(t){return t==null?t===void 0?K9:G9:NA&&NA in Object(t)?q9(t):H9(t)}var $i=Y9;function Q9(t){return t!=null&&typeof t=="object"}var Ri=Q9,X9=$i,J9=Ri,Z9="[object Symbol]";function eW(t){return typeof t=="symbol"||J9(t)&&X9(t)==Z9}var Nl=eW,tW=Pn,nW=Nl,rW=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,iW=/^\w*$/;function aW(t,e){if(tW(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||nW(t)?!0:iW.test(t)||!rW.test(t)||e!=null&&t in Object(e)}var Qw=aW;function oW(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ka=oW;const jl=Re(ka);var sW=$i,lW=ka,uW="[object AsyncFunction]",cW="[object Function]",fW="[object GeneratorFunction]",dW="[object Proxy]";function hW(t){if(!lW(t))return!1;var e=sW(t);return e==cW||e==fW||e==uW||e==dW}var Xw=hW;const fe=Re(Xw);var pW=Hr,mW=pW["__core-js_shared__"],gW=mW,Rv=gW,jA=function(){var t=/[^.]+$/.exec(Rv&&Rv.keys&&Rv.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function vW(t){return!!jA&&jA in t}var yW=vW,_W=Function.prototype,bW=_W.toString;function wW(t){if(t!=null){try{return bW.call(t)}catch{}try{return t+""}catch{}}return""}var E2=wW,xW=Xw,EW=yW,SW=ka,AW=E2,TW=/[\\^$.*+?()[\]{}|]/g,PW=/^\[object .+?Constructor\]$/,OW=Function.prototype,IW=Object.prototype,kW=OW.toString,CW=IW.hasOwnProperty,NW=RegExp("^"+kW.call(CW).replace(TW,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function jW(t){if(!SW(t)||EW(t))return!1;var e=xW(t)?NW:PW;return e.test(AW(t))}var $W=jW;function RW(t,e){return t==null?void 0:t[e]}var DW=RW,MW=$W,LW=DW;function FW(t,e){var n=LW(t,e);return MW(n)?n:void 0}var No=FW,VW=No,UW=VW(Object,"create"),Fm=UW,$A=Fm;function BW(){this.__data__=$A?$A(null):{},this.size=0}var zW=BW;function WW(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var qW=WW,HW=Fm,GW="__lodash_hash_undefined__",KW=Object.prototype,YW=KW.hasOwnProperty;function QW(t){var e=this.__data__;if(HW){var n=e[t];return n===GW?void 0:n}return YW.call(e,t)?e[t]:void 0}var XW=QW,JW=Fm,ZW=Object.prototype,e8=ZW.hasOwnProperty;function t8(t){var e=this.__data__;return JW?e[t]!==void 0:e8.call(e,t)}var n8=t8,r8=Fm,i8="__lodash_hash_undefined__";function a8(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r8&&e===void 0?i8:e,this}var o8=a8,s8=zW,l8=qW,u8=XW,c8=n8,f8=o8;function $l(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}$l.prototype.clear=s8;$l.prototype.delete=l8;$l.prototype.get=u8;$l.prototype.has=c8;$l.prototype.set=f8;var d8=$l;function h8(){this.__data__=[],this.size=0}var p8=h8;function m8(t,e){return t===e||t!==t&&e!==e}var Jw=m8,g8=Jw;function v8(t,e){for(var n=t.length;n--;)if(g8(t[n][0],e))return n;return-1}var Vm=v8,y8=Vm,_8=Array.prototype,b8=_8.splice;function w8(t){var e=this.__data__,n=y8(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():b8.call(e,n,1),--this.size,!0}var x8=w8,E8=Vm;function S8(t){var e=this.__data__,n=E8(e,t);return n<0?void 0:e[n][1]}var A8=S8,T8=Vm;function P8(t){return T8(this.__data__,t)>-1}var O8=P8,I8=Vm;function k8(t,e){var n=this.__data__,r=I8(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var C8=k8,N8=p8,j8=x8,$8=A8,R8=O8,D8=C8;function Rl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Rl.prototype.clear=N8;Rl.prototype.delete=j8;Rl.prototype.get=$8;Rl.prototype.has=R8;Rl.prototype.set=D8;var Um=Rl,M8=No,L8=Hr,F8=M8(L8,"Map"),Zw=F8,RA=d8,V8=Um,U8=Zw;function B8(){this.size=0,this.__data__={hash:new RA,map:new(U8||V8),string:new RA}}var z8=B8;function W8(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var q8=W8,H8=q8;function G8(t,e){var n=t.__data__;return H8(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Bm=G8,K8=Bm;function Y8(t){var e=K8(this,t).delete(t);return this.size-=e?1:0,e}var Q8=Y8,X8=Bm;function J8(t){return X8(this,t).get(t)}var Z8=J8,eq=Bm;function tq(t){return eq(this,t).has(t)}var nq=tq,rq=Bm;function iq(t,e){var n=rq(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var aq=iq,oq=z8,sq=Q8,lq=Z8,uq=nq,cq=aq;function Dl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Dl.prototype.clear=oq;Dl.prototype.delete=sq;Dl.prototype.get=lq;Dl.prototype.has=uq;Dl.prototype.set=cq;var ex=Dl,S2=ex,fq="Expected a function";function tx(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(fq);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(tx.Cache||S2),n}tx.Cache=S2;var A2=tx;const dq=Re(A2);var hq=A2,pq=500;function mq(t){var e=hq(t,function(r){return n.size===pq&&n.clear(),r}),n=e.cache;return e}var gq=mq,vq=gq,yq=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_q=/\\(\\)?/g,bq=vq(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(yq,function(n,r,i,a){e.push(i?a.replace(_q,"$1"):r||n)}),e}),wq=bq;function xq(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var nx=xq,DA=kf,Eq=nx,Sq=Pn,Aq=Nl,MA=DA?DA.prototype:void 0,LA=MA?MA.toString:void 0;function T2(t){if(typeof t=="string")return t;if(Sq(t))return Eq(t,T2)+"";if(Aq(t))return LA?LA.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Tq=T2,Pq=Tq;function Oq(t){return t==null?"":Pq(t)}var P2=Oq,Iq=Pn,kq=Qw,Cq=wq,Nq=P2;function jq(t,e){return Iq(t)?t:kq(t,e)?[t]:Cq(Nq(t))}var O2=jq,$q=Nl;function Rq(t){if(typeof t=="string"||$q(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var zm=Rq,Dq=O2,Mq=zm;function Lq(t,e){e=Dq(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Mq(e[n++])];return n&&n==r?t:void 0}var rx=Lq,Fq=rx;function Vq(t,e,n){var r=t==null?void 0:Fq(t,e);return r===void 0?n:r}var I2=Vq;const Ln=Re(I2);function Uq(t){return t==null}var Bq=Uq;const ve=Re(Bq);var zq=$i,Wq=Pn,qq=Ri,Hq="[object String]";function Gq(t){return typeof t=="string"||!Wq(t)&&qq(t)&&zq(t)==Hq}var Kq=Gq;const xo=Re(Kq);var k2={exports:{}},Fe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ix=Symbol.for("react.element"),ax=Symbol.for("react.portal"),Wm=Symbol.for("react.fragment"),qm=Symbol.for("react.strict_mode"),Hm=Symbol.for("react.profiler"),Gm=Symbol.for("react.provider"),Km=Symbol.for("react.context"),Yq=Symbol.for("react.server_context"),Ym=Symbol.for("react.forward_ref"),Qm=Symbol.for("react.suspense"),Xm=Symbol.for("react.suspense_list"),Jm=Symbol.for("react.memo"),Zm=Symbol.for("react.lazy"),Qq=Symbol.for("react.offscreen"),C2;C2=Symbol.for("react.module.reference");function ir(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case ix:switch(t=t.type,t){case Wm:case Hm:case qm:case Qm:case Xm:return t;default:switch(t=t&&t.$$typeof,t){case Yq:case Km:case Ym:case Zm:case Jm:case Gm:return t;default:return e}}case ax:return e}}}Fe.ContextConsumer=Km;Fe.ContextProvider=Gm;Fe.Element=ix;Fe.ForwardRef=Ym;Fe.Fragment=Wm;Fe.Lazy=Zm;Fe.Memo=Jm;Fe.Portal=ax;Fe.Profiler=Hm;Fe.StrictMode=qm;Fe.Suspense=Qm;Fe.SuspenseList=Xm;Fe.isAsyncMode=function(){return!1};Fe.isConcurrentMode=function(){return!1};Fe.isContextConsumer=function(t){return ir(t)===Km};Fe.isContextProvider=function(t){return ir(t)===Gm};Fe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===ix};Fe.isForwardRef=function(t){return ir(t)===Ym};Fe.isFragment=function(t){return ir(t)===Wm};Fe.isLazy=function(t){return ir(t)===Zm};Fe.isMemo=function(t){return ir(t)===Jm};Fe.isPortal=function(t){return ir(t)===ax};Fe.isProfiler=function(t){return ir(t)===Hm};Fe.isStrictMode=function(t){return ir(t)===qm};Fe.isSuspense=function(t){return ir(t)===Qm};Fe.isSuspenseList=function(t){return ir(t)===Xm};Fe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Wm||t===Hm||t===qm||t===Qm||t===Xm||t===Qq||typeof t=="object"&&t!==null&&(t.$$typeof===Zm||t.$$typeof===Jm||t.$$typeof===Gm||t.$$typeof===Km||t.$$typeof===Ym||t.$$typeof===C2||t.getModuleId!==void 0)};Fe.typeOf=ir;k2.exports=Fe;var Xq=k2.exports,Jq=$i,Zq=Ri,eH="[object Number]";function tH(t){return typeof t=="number"||Zq(t)&&Jq(t)==eH}var N2=tH;const nH=Re(N2);var rH=N2;function iH(t){return rH(t)&&t!=+t}var aH=iH;const Cf=Re(aH);var dn=function(e){return e===0?0:e>0?1:-1},to=function(e){return xo(e)&&e.indexOf("%")===e.length-1},J=function(e){return nH(e)&&!Cf(e)},oH=function(e){return ve(e)},Tt=function(e){return J(e)||xo(e)},sH=0,Ml=function(e){var n=++sH;return"".concat(e||"").concat(n)},hn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!J(e)&&!xo(e))return r;var a;if(to(e)){var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return Cf(a)&&(a=r),i&&a>n&&(a=n),a},ta=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},lH=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},$n=function(e,n){return J(e)&&J(n)?function(r){return e+r*(n-e)}:function(){return n}};function Zh(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Ln(r,e))===n})}var uH=function(e,n){return J(e)&&J(n)?e-n:xo(e)&&xo(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Ps(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function I0(t){"@babel/helpers - typeof";return I0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I0(t)}var cH=["viewBox","children"],fH=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],FA=["points","pathLength"],Dv={svg:cH,polygon:FA,polyline:FA},ox=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ep=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(M.isValidElement(e)&&(r=e.props),!jl(r))return null;var i={};return Object.keys(r).forEach(function(a){ox.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},dH=function(e,n,r){return function(i){return e(n,r,i),null}},Eo=function(e,n,r){if(!jl(e)||I0(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];ox.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=dH(o,n,r))}),i},hH=["children"],pH=["children"];function VA(t,e){if(t==null)return{};var n=mH(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function k0(t){"@babel/helpers - typeof";return k0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k0(t)}var UA={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},gi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},BA=null,Mv=null,sx=function t(e){if(e===BA&&Array.isArray(Mv))return Mv;var n=[];return M.Children.forEach(e,function(r){ve(r)||(Xq.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Mv=n,BA=e,n};function Fn(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return gi(i)}):r=[gi(e)],sx(t).forEach(function(i){var a=Ln(i,"type.displayName")||Ln(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function jn(t,e){var n=Fn(t,e);return n&&n[0]}var zA=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!J(r)||r<=0||!J(i)||i<=0)},gH=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],vH=function(e){return e&&e.type&&xo(e.type)&&gH.indexOf(e.type)>=0},yH=function(e){return e&&k0(e)==="object"&&"clipDot"in e},_H=function(e,n,r,i){var a,o=(a=Dv==null?void 0:Dv[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!fe(e)&&(i&&o.includes(n)||fH.includes(n))||r&&ox.includes(n)},ue=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(M.isValidElement(e)&&(i=e.props),!jl(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;_H((s=i)===null||s===void 0?void 0:s[o],o,n,r)&&(a[o]=i[o])}),a},C0=function t(e,n){if(e===n)return!0;var r=M.Children.count(e);if(r!==M.Children.count(n))return!1;if(r===0)return!0;if(r===1)return WA(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!WA(a,o))return!1}return!0},WA=function(e,n){if(ve(e)&&ve(n))return!0;if(!ve(e)&&!ve(n)){var r=e.props||{},i=r.children,a=VA(r,hH),o=n.props||{},s=o.children,l=VA(o,pH);return i&&s?Ps(a,l)&&C0(i,s):!i&&!s?Ps(a,l):!1}return!1},qA=function(e,n){var r=[],i={};return sx(e).forEach(function(a,o){if(vH(a))r.push(a);else if(a){var s=gi(a.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var f=u(a,s,o);r.push(f),i[s]=!0}}}),r},bH=function(e){var n=e&&e.type;return n&&UA[n]?UA[n]:null},wH=function(e,n){return sx(n).indexOf(e)},xH=["children","width","height","viewBox","className","style","title","desc"];function N0(){return N0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N0.apply(this,arguments)}function EH(t,e){if(t==null)return{};var n=SH(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function SH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function j0(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,u=EH(t,xH),c=i||{width:n,height:r,x:0,y:0},f=_e("recharts-surface",a);return R.createElement("svg",N0({},ue(u,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),R.createElement("title",null,s),R.createElement("desc",null,l),e)}var AH=["children","className"];function $0(){return $0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$0.apply(this,arguments)}function TH(t,e){if(t==null)return{};var n=PH(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function PH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Ce=R.forwardRef(function(t,e){var n=t.children,r=t.className,i=TH(t,AH),a=_e("recharts-layer",r);return R.createElement("g",$0({className:a},ue(i,!0),{ref:e}),n)}),_r=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function OH(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var IH=OH,kH=IH;function CH(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:kH(t,e,n)}var NH=CH,jH="\\ud800-\\udfff",$H="\\u0300-\\u036f",RH="\\ufe20-\\ufe2f",DH="\\u20d0-\\u20ff",MH=$H+RH+DH,LH="\\ufe0e\\ufe0f",FH="\\u200d",VH=RegExp("["+FH+jH+MH+LH+"]");function UH(t){return VH.test(t)}var j2=UH;function BH(t){return t.split("")}var zH=BH,$2="\\ud800-\\udfff",WH="\\u0300-\\u036f",qH="\\ufe20-\\ufe2f",HH="\\u20d0-\\u20ff",GH=WH+qH+HH,KH="\\ufe0e\\ufe0f",YH="["+$2+"]",R0="["+GH+"]",D0="\\ud83c[\\udffb-\\udfff]",QH="(?:"+R0+"|"+D0+")",R2="[^"+$2+"]",D2="(?:\\ud83c[\\udde6-\\uddff]){2}",M2="[\\ud800-\\udbff][\\udc00-\\udfff]",XH="\\u200d",L2=QH+"?",F2="["+KH+"]?",JH="(?:"+XH+"(?:"+[R2,D2,M2].join("|")+")"+F2+L2+")*",ZH=F2+L2+JH,e7="(?:"+[R2+R0+"?",R0,D2,M2,YH].join("|")+")",t7=RegExp(D0+"(?="+D0+")|"+e7+ZH,"g");function n7(t){return t.match(t7)||[]}var r7=n7,i7=zH,a7=j2,o7=r7;function s7(t){return a7(t)?o7(t):i7(t)}var l7=s7,u7=NH,c7=j2,f7=l7,d7=P2;function h7(t){return function(e){e=d7(e);var n=c7(e)?f7(e):void 0,r=n?n[0]:e.charAt(0),i=n?u7(n,1).join(""):e.slice(1);return r[t]()+i}}var p7=h7,m7=p7,g7=m7("toUpperCase"),v7=g7;const eg=Re(v7);function qe(t){return function(){return t}}const V2=Math.cos,tp=Math.sin,Er=Math.sqrt,np=Math.PI,tg=2*np,M0=Math.PI,L0=2*M0,qa=1e-6,y7=L0-qa;function U2(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function _7(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return U2;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class b7{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?U2:_7(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-e,u=i-n,c=o-e,f=s-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>qa)if(!(Math.abs(f*l-u*c)>qa)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-o,m=i-s,g=l*l+u*u,v=p*p+m*m,_=Math.sqrt(g),y=Math.sqrt(h),w=a*Math.tan((M0-Math.acos((g+h-v)/(2*_*y)))/2),I=w/y,E=w/_;Math.abs(I-1)>qa&&this._append`L${e+I*c},${n+I*f}`,this._append`A${a},${a},0,0,${+(f*p>c*m)},${this._x1=e+E*l},${this._y1=n+E*u}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,f=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>qa||Math.abs(this._y1-c)>qa)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%L0+L0),h>y7?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:h>qa&&this._append`A${r},${r},0,${+(h>=M0)},${f},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function lx(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new b7(e)}function ux(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function B2(t){this._context=t}B2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ng(t){return new B2(t)}function z2(t){return t[0]}function W2(t){return t[1]}function q2(t,e){var n=qe(!0),r=null,i=ng,a=null,o=lx(s);t=typeof t=="function"?t:t===void 0?z2:qe(t),e=typeof e=="function"?e:e===void 0?W2:qe(e);function s(l){var u,c=(l=ux(l)).length,f,h=!1,p;for(r==null&&(a=i(p=o())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,u,l),+e(f,u,l));if(p)return a=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:qe(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:qe(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:qe(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function kd(t,e,n){var r=null,i=qe(!0),a=null,o=ng,s=null,l=lx(u);t=typeof t=="function"?t:t===void 0?z2:qe(+t),e=typeof e=="function"?e:qe(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?W2:qe(+n);function u(f){var h,p,m,g=(f=ux(f)).length,v,_=!1,y,w=new Array(g),I=new Array(g);for(a==null&&(s=o(y=l())),h=0;h<=g;++h){if(!(h<g&&i(v=f[h],h,f))===_)if(_=!_)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=h-1;m>=p;--m)s.point(w[m],I[m]);s.lineEnd(),s.areaEnd()}_&&(w[h]=+t(v,h,f),I[h]=+e(v,h,f),s.point(r?+r(v,h,f):w[h],n?+n(v,h,f):I[h]))}if(y)return s=null,y+""||null}function c(){return q2().defined(i).curve(o).context(a)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:qe(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:qe(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:qe(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:qe(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:qe(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:qe(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:qe(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),u):a},u}class H2{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function w7(t){return new H2(t,!0)}function x7(t){return new H2(t,!1)}const cx={draw(t,e){const n=Er(e/np);t.moveTo(n,0),t.arc(0,0,n,0,tg)}},E7={draw(t,e){const n=Er(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},G2=Er(1/3),S7=G2*2,A7={draw(t,e){const n=Er(e/S7),r=n*G2;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},T7={draw(t,e){const n=Er(e),r=-n/2;t.rect(r,r,n,n)}},P7=.8908130915292852,K2=tp(np/10)/tp(7*np/10),O7=tp(tg/10)*K2,I7=-V2(tg/10)*K2,k7={draw(t,e){const n=Er(e*P7),r=O7*n,i=I7*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=tg*a/5,s=V2(o),l=tp(o);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},Lv=Er(3),C7={draw(t,e){const n=-Er(e/(Lv*3));t.moveTo(0,n*2),t.lineTo(-Lv*n,-n),t.lineTo(Lv*n,-n),t.closePath()}},Wn=-.5,qn=Er(3)/2,F0=1/Er(12),N7=(F0/2+1)*3,j7={draw(t,e){const n=Er(e/N7),r=n/2,i=n*F0,a=r,o=n*F0+n,s=-a,l=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(Wn*r-qn*i,qn*r+Wn*i),t.lineTo(Wn*a-qn*o,qn*a+Wn*o),t.lineTo(Wn*s-qn*l,qn*s+Wn*l),t.lineTo(Wn*r+qn*i,Wn*i-qn*r),t.lineTo(Wn*a+qn*o,Wn*o-qn*a),t.lineTo(Wn*s+qn*l,Wn*l-qn*s),t.closePath()}};function $7(t,e){let n=null,r=lx(i);t=typeof t=="function"?t:qe(t||cx),e=typeof e=="function"?e:qe(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:qe(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:qe(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function rp(){}function ip(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Y2(t){this._context=t}Y2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ip(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ip(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function R7(t){return new Y2(t)}function Q2(t){this._context=t}Q2.prototype={areaStart:rp,areaEnd:rp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ip(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function D7(t){return new Q2(t)}function X2(t){this._context=t}X2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ip(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function M7(t){return new X2(t)}function J2(t){this._context=t}J2.prototype={areaStart:rp,areaEnd:rp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function L7(t){return new J2(t)}function HA(t){return t<0?-1:1}function GA(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(HA(a)+HA(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function KA(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Fv(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function ap(t){this._context=t}ap.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Fv(this,this._t0,KA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Fv(this,KA(this,n=GA(this,t,e)),n);break;default:Fv(this,this._t0,n=GA(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function Z2(t){this._context=new e$(t)}(Z2.prototype=Object.create(ap.prototype)).point=function(t,e){ap.prototype.point.call(this,e,t)};function e$(t){this._context=t}e$.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function F7(t){return new ap(t)}function V7(t){return new Z2(t)}function t$(t){this._context=t}t$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=YA(t),i=YA(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function YA(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function U7(t){return new t$(t)}function rg(t,e){this._context=t,this._t=e}rg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function B7(t){return new rg(t,.5)}function z7(t){return new rg(t,0)}function W7(t){return new rg(t,1)}function Qs(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,s=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function V0(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function q7(t,e){return t[e]}function H7(t){const e=[];return e.key=t,e}function G7(){var t=qe([]),e=V0,n=Qs,r=q7;function i(a){var o=Array.from(t.apply(this,arguments),H7),s,l=o.length,u=-1,c;for(const f of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+r(f,o[s].key,u,a)]).data=f;for(s=0,c=ux(e(o));s<l;++s)o[c[s]].index=s;return n(o,c),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:qe(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:qe(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?V0:typeof a=="function"?a:qe(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Qs,i):n},i}function K7(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}Qs(t,e)}}function Y7(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=t[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}Qs(t,e)}}function Q7(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,u=0;s<o;++s){for(var c=t[e[s]],f=c[r][1]||0,h=c[r-1][1]||0,p=(f-h)/2,m=0;m<s;++m){var g=t[e[m]],v=g[r][1]||0,_=g[r-1][1]||0;p+=v-_}l+=f,u+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Qs(t,e)}}function Cc(t){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cc(t)}var X7=["type","size","sizeType"];function U0(){return U0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U0.apply(this,arguments)}function QA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QA(Object(n),!0).forEach(function(r){J7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J7(t,e,n){return e=Z7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z7(t){var e=eG(t,"string");return Cc(e)=="symbol"?e:e+""}function eG(t,e){if(Cc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tG(t,e){if(t==null)return{};var n=nG(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nG(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var n$={symbolCircle:cx,symbolCross:E7,symbolDiamond:A7,symbolSquare:T7,symbolStar:k7,symbolTriangle:C7,symbolWye:j7},rG=Math.PI/180,iG=function(e){var n="symbol".concat(eg(e));return n$[n]||cx},aG=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*rG;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},oG=function(e,n){n$["symbol".concat(eg(e))]=n},fx=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=tG(e,X7),u=XA(XA({},l),{},{type:r,size:a,sizeType:s}),c=function(){var v=iG(r),_=$7().type(v).size(aG(a,s,r));return _()},f=u.className,h=u.cx,p=u.cy,m=ue(u,!0);return h===+h&&p===+p&&a===+a?R.createElement("path",U0({},m,{className:_e("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:c()})):null};fx.registerSymbol=oG;function Xs(t){"@babel/helpers - typeof";return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xs(t)}function B0(){return B0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B0.apply(this,arguments)}function JA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JA(Object(n),!0).forEach(function(r){Nc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i$(r.key),r)}}function cG(t,e,n){return e&&uG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fG(t,e,n){return e=op(e),dG(t,r$()?Reflect.construct(e,n||[],op(t).constructor):e.apply(t,n))}function dG(t,e){if(e&&(Xs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hG(t)}function hG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r$=function(){return!!t})()}function op(t){return op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},op(t)}function pG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z0(t,e)}function z0(t,e){return z0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},z0(t,e)}function Nc(t,e,n){return e=i$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i$(t){var e=mG(t,"string");return Xs(e)=="symbol"?e:e+""}function mG(t,e){if(Xs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Hn=32,dx=function(t){function e(){return lG(this,e),fG(this,e,arguments)}return pG(e,t),cG(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=Hn/2,o=Hn/6,s=Hn/3,l=r.inactive?i:r.color;if(r.type==="plainline")return R.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:Hn,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return R.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(Hn,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return R.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Hn/8,"h").concat(Hn,"v").concat(Hn*3/4,"h").concat(-Hn,"z"),className:"recharts-legend-icon"});if(R.isValidElement(r.legendIcon)){var u=sG({},r);return delete u.legendIcon,R.cloneElement(r.legendIcon,u)}return R.createElement(fx,{fill:l,cx:a,cy:a,size:Hn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:Hn,height:Hn},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,m){var g=p.formatter||l,v=_e(Nc(Nc({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var _=fe(p.value)?null:p.value;_r(!fe(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=p.inactive?u:p.color;return R.createElement("li",B0({className:v,style:f,key:"legend-item-".concat(m)},Eo(r.props,p,m)),R.createElement(j0,{width:o,height:o,viewBox:c,style:h},r.renderIcon(p)),R.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},g?g(_,p,m):_))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return R.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(M.PureComponent);Nc(dx,"displayName","Legend");Nc(dx,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var gG=Um;function vG(){this.__data__=new gG,this.size=0}var yG=vG;function _G(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var bG=_G;function wG(t){return this.__data__.get(t)}var xG=wG;function EG(t){return this.__data__.has(t)}var SG=EG,AG=Um,TG=Zw,PG=ex,OG=200;function IG(t,e){var n=this.__data__;if(n instanceof AG){var r=n.__data__;if(!TG||r.length<OG-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new PG(r)}return n.set(t,e),this.size=n.size,this}var kG=IG,CG=Um,NG=yG,jG=bG,$G=xG,RG=SG,DG=kG;function Ll(t){var e=this.__data__=new CG(t);this.size=e.size}Ll.prototype.clear=NG;Ll.prototype.delete=jG;Ll.prototype.get=$G;Ll.prototype.has=RG;Ll.prototype.set=DG;var a$=Ll,MG="__lodash_hash_undefined__";function LG(t){return this.__data__.set(t,MG),this}var FG=LG;function VG(t){return this.__data__.has(t)}var UG=VG,BG=ex,zG=FG,WG=UG;function sp(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new BG;++e<n;)this.add(t[e])}sp.prototype.add=sp.prototype.push=zG;sp.prototype.has=WG;var o$=sp;function qG(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var s$=qG;function HG(t,e){return t.has(e)}var l$=HG,GG=o$,KG=s$,YG=l$,QG=1,XG=2;function JG(t,e,n,r,i,a){var o=n&QG,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(t),c=a.get(e);if(u&&c)return u==e&&c==t;var f=-1,h=!0,p=n&XG?new GG:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var m=t[f],g=e[f];if(r)var v=o?r(g,m,f,e,t,a):r(m,g,f,t,e,a);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!KG(e,function(_,y){if(!YG(p,y)&&(m===_||i(m,_,n,r,a)))return p.push(y)})){h=!1;break}}else if(!(m===g||i(m,g,n,r,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var u$=JG,ZG=Hr,eK=ZG.Uint8Array,tK=eK;function nK(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var rK=nK;function iK(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var hx=iK,ZA=kf,eT=tK,aK=Jw,oK=u$,sK=rK,lK=hx,uK=1,cK=2,fK="[object Boolean]",dK="[object Date]",hK="[object Error]",pK="[object Map]",mK="[object Number]",gK="[object RegExp]",vK="[object Set]",yK="[object String]",_K="[object Symbol]",bK="[object ArrayBuffer]",wK="[object DataView]",tT=ZA?ZA.prototype:void 0,Vv=tT?tT.valueOf:void 0;function xK(t,e,n,r,i,a,o){switch(n){case wK:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case bK:return!(t.byteLength!=e.byteLength||!a(new eT(t),new eT(e)));case fK:case dK:case mK:return aK(+t,+e);case hK:return t.name==e.name&&t.message==e.message;case gK:case yK:return t==e+"";case pK:var s=sK;case vK:var l=r&uK;if(s||(s=lK),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=cK,o.set(t,e);var c=oK(s(t),s(e),r,i,a,o);return o.delete(t),c;case _K:if(Vv)return Vv.call(t)==Vv.call(e)}return!1}var EK=xK;function SK(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var c$=SK,AK=c$,TK=Pn;function PK(t,e,n){var r=e(t);return TK(t)?r:AK(r,n(t))}var OK=PK;function IK(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a}var kK=IK;function CK(){return[]}var NK=CK,jK=kK,$K=NK,RK=Object.prototype,DK=RK.propertyIsEnumerable,nT=Object.getOwnPropertySymbols,MK=nT?function(t){return t==null?[]:(t=Object(t),jK(nT(t),function(e){return DK.call(t,e)}))}:$K,LK=MK;function FK(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var VK=FK,UK=$i,BK=Ri,zK="[object Arguments]";function WK(t){return BK(t)&&UK(t)==zK}var qK=WK,rT=qK,HK=Ri,f$=Object.prototype,GK=f$.hasOwnProperty,KK=f$.propertyIsEnumerable,YK=rT(function(){return arguments}())?rT:function(t){return HK(t)&&GK.call(t,"callee")&&!KK.call(t,"callee")},px=YK,lp={exports:{}};function QK(){return!1}var XK=QK;lp.exports;(function(t,e){var n=Hr,r=XK,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(lp,lp.exports);var d$=lp.exports,JK=9007199254740991,ZK=/^(?:0|[1-9]\d*)$/;function eY(t,e){var n=typeof t;return e=e??JK,!!e&&(n=="number"||n!="symbol"&&ZK.test(t))&&t>-1&&t%1==0&&t<e}var mx=eY,tY=9007199254740991;function nY(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=tY}var gx=nY,rY=$i,iY=gx,aY=Ri,oY="[object Arguments]",sY="[object Array]",lY="[object Boolean]",uY="[object Date]",cY="[object Error]",fY="[object Function]",dY="[object Map]",hY="[object Number]",pY="[object Object]",mY="[object RegExp]",gY="[object Set]",vY="[object String]",yY="[object WeakMap]",_Y="[object ArrayBuffer]",bY="[object DataView]",wY="[object Float32Array]",xY="[object Float64Array]",EY="[object Int8Array]",SY="[object Int16Array]",AY="[object Int32Array]",TY="[object Uint8Array]",PY="[object Uint8ClampedArray]",OY="[object Uint16Array]",IY="[object Uint32Array]",Xe={};Xe[wY]=Xe[xY]=Xe[EY]=Xe[SY]=Xe[AY]=Xe[TY]=Xe[PY]=Xe[OY]=Xe[IY]=!0;Xe[oY]=Xe[sY]=Xe[_Y]=Xe[lY]=Xe[bY]=Xe[uY]=Xe[cY]=Xe[fY]=Xe[dY]=Xe[hY]=Xe[pY]=Xe[mY]=Xe[gY]=Xe[vY]=Xe[yY]=!1;function kY(t){return aY(t)&&iY(t.length)&&!!Xe[rY(t)]}var CY=kY;function NY(t){return function(e){return t(e)}}var h$=NY,up={exports:{}};up.exports;(function(t,e){var n=w2,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(up,up.exports);var jY=up.exports,$Y=CY,RY=h$,iT=jY,aT=iT&&iT.isTypedArray,DY=aT?RY(aT):$Y,p$=DY,MY=VK,LY=px,FY=Pn,VY=d$,UY=mx,BY=p$,zY=Object.prototype,WY=zY.hasOwnProperty;function qY(t,e){var n=FY(t),r=!n&&LY(t),i=!n&&!r&&VY(t),a=!n&&!r&&!i&&BY(t),o=n||r||i||a,s=o?MY(t.length,String):[],l=s.length;for(var u in t)(e||WY.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||UY(u,l)))&&s.push(u);return s}var HY=qY,GY=Object.prototype;function KY(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||GY;return t===n}var YY=KY;function QY(t,e){return function(n){return t(e(n))}}var m$=QY,XY=m$,JY=XY(Object.keys,Object),ZY=JY,eQ=YY,tQ=ZY,nQ=Object.prototype,rQ=nQ.hasOwnProperty;function iQ(t){if(!eQ(t))return tQ(t);var e=[];for(var n in Object(t))rQ.call(t,n)&&n!="constructor"&&e.push(n);return e}var aQ=iQ,oQ=Xw,sQ=gx;function lQ(t){return t!=null&&sQ(t.length)&&!oQ(t)}var Nf=lQ,uQ=HY,cQ=aQ,fQ=Nf;function dQ(t){return fQ(t)?uQ(t):cQ(t)}var ig=dQ,hQ=OK,pQ=LK,mQ=ig;function gQ(t){return hQ(t,mQ,pQ)}var vQ=gQ,oT=vQ,yQ=1,_Q=Object.prototype,bQ=_Q.hasOwnProperty;function wQ(t,e,n,r,i,a){var o=n&yQ,s=oT(t),l=s.length,u=oT(e),c=u.length;if(l!=c&&!o)return!1;for(var f=l;f--;){var h=s[f];if(!(o?h in e:bQ.call(e,h)))return!1}var p=a.get(t),m=a.get(e);if(p&&m)return p==e&&m==t;var g=!0;a.set(t,e),a.set(e,t);for(var v=o;++f<l;){h=s[f];var _=t[h],y=e[h];if(r)var w=o?r(y,_,h,e,t,a):r(_,y,h,t,e,a);if(!(w===void 0?_===y||i(_,y,n,r,a):w)){g=!1;break}v||(v=h=="constructor")}if(g&&!v){var I=t.constructor,E=e.constructor;I!=E&&"constructor"in t&&"constructor"in e&&!(typeof I=="function"&&I instanceof I&&typeof E=="function"&&E instanceof E)&&(g=!1)}return a.delete(t),a.delete(e),g}var xQ=wQ,EQ=No,SQ=Hr,AQ=EQ(SQ,"DataView"),TQ=AQ,PQ=No,OQ=Hr,IQ=PQ(OQ,"Promise"),kQ=IQ,CQ=No,NQ=Hr,jQ=CQ(NQ,"Set"),g$=jQ,$Q=No,RQ=Hr,DQ=$Q(RQ,"WeakMap"),MQ=DQ,W0=TQ,q0=Zw,H0=kQ,G0=g$,K0=MQ,v$=$i,Fl=E2,sT="[object Map]",LQ="[object Object]",lT="[object Promise]",uT="[object Set]",cT="[object WeakMap]",fT="[object DataView]",FQ=Fl(W0),VQ=Fl(q0),UQ=Fl(H0),BQ=Fl(G0),zQ=Fl(K0),Ha=v$;(W0&&Ha(new W0(new ArrayBuffer(1)))!=fT||q0&&Ha(new q0)!=sT||H0&&Ha(H0.resolve())!=lT||G0&&Ha(new G0)!=uT||K0&&Ha(new K0)!=cT)&&(Ha=function(t){var e=v$(t),n=e==LQ?t.constructor:void 0,r=n?Fl(n):"";if(r)switch(r){case FQ:return fT;case VQ:return sT;case UQ:return lT;case BQ:return uT;case zQ:return cT}return e});var WQ=Ha,Uv=a$,qQ=u$,HQ=EK,GQ=xQ,dT=WQ,hT=Pn,pT=d$,KQ=p$,YQ=1,mT="[object Arguments]",gT="[object Array]",Cd="[object Object]",QQ=Object.prototype,vT=QQ.hasOwnProperty;function XQ(t,e,n,r,i,a){var o=hT(t),s=hT(e),l=o?gT:dT(t),u=s?gT:dT(e);l=l==mT?Cd:l,u=u==mT?Cd:u;var c=l==Cd,f=u==Cd,h=l==u;if(h&&pT(t)){if(!pT(e))return!1;o=!0,c=!1}if(h&&!c)return a||(a=new Uv),o||KQ(t)?qQ(t,e,n,r,i,a):HQ(t,e,l,n,r,i,a);if(!(n&YQ)){var p=c&&vT.call(t,"__wrapped__"),m=f&&vT.call(e,"__wrapped__");if(p||m){var g=p?t.value():t,v=m?e.value():e;return a||(a=new Uv),i(g,v,n,r,a)}}return h?(a||(a=new Uv),GQ(t,e,n,r,i,a)):!1}var JQ=XQ,ZQ=JQ,yT=Ri;function y$(t,e,n,r,i){return t===e?!0:t==null||e==null||!yT(t)&&!yT(e)?t!==t&&e!==e:ZQ(t,e,n,r,y$,i)}var vx=y$,eX=a$,tX=vx,nX=1,rX=2;function iX(t,e,n,r){var i=n.length,a=i,o=!r;if(t==null)return!a;for(t=Object(t);i--;){var s=n[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=n[i];var l=s[0],u=t[l],c=s[1];if(o&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new eX;if(r)var h=r(u,c,l,t,e,f);if(!(h===void 0?tX(c,u,nX|rX,r,f):h))return!1}}return!0}var aX=iX,oX=ka;function sX(t){return t===t&&!oX(t)}var _$=sX,lX=_$,uX=ig;function cX(t){for(var e=uX(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,lX(i)]}return e}var fX=cX;function dX(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var b$=dX,hX=aX,pX=fX,mX=b$;function gX(t){var e=pX(t);return e.length==1&&e[0][2]?mX(e[0][0],e[0][1]):function(n){return n===t||hX(n,t,e)}}var vX=gX;function yX(t,e){return t!=null&&e in Object(t)}var _X=yX,bX=O2,wX=px,xX=Pn,EX=mx,SX=gx,AX=zm;function TX(t,e,n){e=bX(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var o=AX(e[r]);if(!(a=t!=null&&n(t,o)))break;t=t[o]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&SX(i)&&EX(o,i)&&(xX(t)||wX(t)))}var PX=TX,OX=_X,IX=PX;function kX(t,e){return t!=null&&IX(t,e,OX)}var CX=kX,NX=vx,jX=I2,$X=CX,RX=Qw,DX=_$,MX=b$,LX=zm,FX=1,VX=2;function UX(t,e){return RX(t)&&DX(e)?MX(LX(t),e):function(n){var r=jX(n,t);return r===void 0&&r===e?$X(n,t):NX(e,r,FX|VX)}}var BX=UX;function zX(t){return t}var Vl=zX;function WX(t){return function(e){return e==null?void 0:e[t]}}var qX=WX,HX=rx;function GX(t){return function(e){return HX(e,t)}}var KX=GX,YX=qX,QX=KX,XX=Qw,JX=zm;function ZX(t){return XX(t)?YX(JX(t)):QX(t)}var eJ=ZX,tJ=vX,nJ=BX,rJ=Vl,iJ=Pn,aJ=eJ;function oJ(t){return typeof t=="function"?t:t==null?rJ:typeof t=="object"?iJ(t)?nJ(t[0],t[1]):tJ(t):aJ(t)}var Gr=oJ;function sJ(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var w$=sJ;function lJ(t){return t!==t}var uJ=lJ;function cJ(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var fJ=cJ,dJ=w$,hJ=uJ,pJ=fJ;function mJ(t,e,n){return e===e?pJ(t,e,n):dJ(t,hJ,n)}var gJ=mJ,vJ=gJ;function yJ(t,e){var n=t==null?0:t.length;return!!n&&vJ(t,e,0)>-1}var _J=yJ;function bJ(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var wJ=bJ;function xJ(){}var EJ=xJ,Bv=g$,SJ=EJ,AJ=hx,TJ=1/0,PJ=Bv&&1/AJ(new Bv([,-0]))[1]==TJ?function(t){return new Bv(t)}:SJ,OJ=PJ,IJ=o$,kJ=_J,CJ=wJ,NJ=l$,jJ=OJ,$J=hx,RJ=200;function DJ(t,e,n){var r=-1,i=kJ,a=t.length,o=!0,s=[],l=s;if(n)o=!1,i=CJ;else if(a>=RJ){var u=e?null:jJ(t);if(u)return $J(u);o=!1,i=NJ,l=new IJ}else l=e?[]:s;e:for(;++r<a;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,o&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}var MJ=DJ,LJ=Gr,FJ=MJ;function VJ(t,e){return t&&t.length?FJ(t,LJ(e)):[]}var UJ=VJ;const _T=Re(UJ);function x$(t,e,n){return e===!0?_T(t,n):fe(e)?_T(t,e):t}function Js(t){"@babel/helpers - typeof";return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Js(t)}var BJ=["ref"];function bT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ei(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bT(Object(n),!0).forEach(function(r){ag(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,S$(r.key),r)}}function WJ(t,e,n){return e&&wT(t.prototype,e),n&&wT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function qJ(t,e,n){return e=cp(e),HJ(t,E$()?Reflect.construct(e,n||[],cp(t).constructor):e.apply(t,n))}function HJ(t,e){if(e&&(Js(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GJ(t)}function GJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E$=function(){return!!t})()}function cp(t){return cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cp(t)}function KJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y0(t,e)}function Y0(t,e){return Y0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Y0(t,e)}function ag(t,e,n){return e=S$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S$(t){var e=YJ(t,"string");return Js(e)=="symbol"?e:e+""}function YJ(t,e){if(Js(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Js(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function QJ(t,e){if(t==null)return{};var n=XJ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function XJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function JJ(t){return t.value}function ZJ(t,e){if(R.isValidElement(t))return R.cloneElement(t,e);if(typeof t=="function")return R.createElement(t,e);e.ref;var n=QJ(e,BJ);return R.createElement(dx,n)}var xT=1,Os=function(t){function e(){var n;zJ(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=qJ(this,e,[].concat(i)),ag(n,"lastBoundingBox",{width:-1,height:-1}),n}return KJ(e,t),WJ(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>xT||Math.abs(i.height-this.lastBoundingBox.height)>xT)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ei({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();h={top:((c||0)-m.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return ei(ei({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=ei(ei({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return R.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},ZJ(a,ei(ei({},this.props),{},{payload:x$(c,u,JJ)})))}}],[{key:"getWithHeight",value:function(r,i){var a=ei(ei({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&J(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(M.PureComponent);ag(Os,"displayName","Legend");ag(Os,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var ET=kf,eZ=px,tZ=Pn,ST=ET?ET.isConcatSpreadable:void 0;function nZ(t){return tZ(t)||eZ(t)||!!(ST&&t&&t[ST])}var rZ=nZ,iZ=c$,aZ=rZ;function A$(t,e,n,r,i){var a=-1,o=t.length;for(n||(n=aZ),i||(i=[]);++a<o;){var s=t[a];e>0&&n(s)?e>1?A$(s,e-1,n,r,i):iZ(i,s):r||(i[i.length]=s)}return i}var T$=A$;function oZ(t){return function(e,n,r){for(var i=-1,a=Object(e),o=r(e),s=o.length;s--;){var l=o[t?s:++i];if(n(a[l],l,a)===!1)break}return e}}var sZ=oZ,lZ=sZ,uZ=lZ(),cZ=uZ,fZ=cZ,dZ=ig;function hZ(t,e){return t&&fZ(t,e,dZ)}var P$=hZ,pZ=Nf;function mZ(t,e){return function(n,r){if(n==null)return n;if(!pZ(n))return t(n,r);for(var i=n.length,a=e?i:-1,o=Object(n);(e?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var gZ=mZ,vZ=P$,yZ=gZ,_Z=yZ(vZ),yx=_Z,bZ=yx,wZ=Nf;function xZ(t,e){var n=-1,r=wZ(t)?Array(t.length):[];return bZ(t,function(i,a,o){r[++n]=e(i,a,o)}),r}var O$=xZ;function EZ(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var SZ=EZ,AT=Nl;function AZ(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=AT(t),o=e!==void 0,s=e===null,l=e===e,u=AT(e);if(!s&&!u&&!a&&t>e||a&&o&&l&&!s&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!a&&!u&&t<e||u&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!l)return-1}return 0}var TZ=AZ,PZ=TZ;function OZ(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,o=i.length,s=n.length;++r<o;){var l=PZ(i[r],a[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var IZ=OZ,zv=nx,kZ=rx,CZ=Gr,NZ=O$,jZ=SZ,$Z=h$,RZ=IZ,DZ=Vl,MZ=Pn;function LZ(t,e,n){e.length?e=zv(e,function(a){return MZ(a)?function(o){return kZ(o,a.length===1?a[0]:a)}:a}):e=[DZ];var r=-1;e=zv(e,$Z(CZ));var i=NZ(t,function(a,o,s){var l=zv(e,function(u){return u(a)});return{criteria:l,index:++r,value:a}});return jZ(i,function(a,o){return RZ(a,o,n)})}var FZ=LZ;function VZ(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var UZ=VZ,BZ=UZ,TT=Math.max;function zZ(t,e,n){return e=TT(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=TT(r.length-e,0),o=Array(a);++i<a;)o[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(o),BZ(t,this,s)}}var WZ=zZ;function qZ(t){return function(){return t}}var HZ=qZ,GZ=No,KZ=function(){try{var t=GZ(Object,"defineProperty");return t({},"",{}),t}catch{}}(),I$=KZ,YZ=HZ,PT=I$,QZ=Vl,XZ=PT?function(t,e){return PT(t,"toString",{configurable:!0,enumerable:!1,value:YZ(e),writable:!0})}:QZ,JZ=XZ,ZZ=800,eee=16,tee=Date.now;function nee(t){var e=0,n=0;return function(){var r=tee(),i=eee-(r-n);if(n=r,i>0){if(++e>=ZZ)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var ree=nee,iee=JZ,aee=ree,oee=aee(iee),see=oee,lee=Vl,uee=WZ,cee=see;function fee(t,e){return cee(uee(t,e,lee),t+"")}var dee=fee,hee=Jw,pee=Nf,mee=mx,gee=ka;function vee(t,e,n){if(!gee(n))return!1;var r=typeof e;return(r=="number"?pee(n)&&mee(e,n.length):r=="string"&&e in n)?hee(n[e],t):!1}var og=vee,yee=T$,_ee=FZ,bee=dee,OT=og,wee=bee(function(t,e){if(t==null)return[];var n=e.length;return n>1&&OT(t,e[0],e[1])?e=[]:n>2&&OT(e[0],e[1],e[2])&&(e=[e[0]]),_ee(t,yee(e,1),[])}),xee=wee;const _x=Re(xee);function jc(t){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jc(t)}function Q0(){return Q0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q0.apply(this,arguments)}function Eee(t,e){return Pee(t)||Tee(t,e)||Aee(t,e)||See()}function See(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aee(t,e){if(t){if(typeof t=="string")return IT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IT(t,e)}}function IT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tee(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Pee(t){if(Array.isArray(t))return t}function kT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kT(Object(n),!0).forEach(function(r){Oee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oee(t,e,n){return e=Iee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iee(t){var e=kee(t,"string");return jc(e)=="symbol"?e:e+""}function kee(t,e){if(jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cee(t){return Array.isArray(t)&&Tt(t[0])&&Tt(t[1])?t.join(" ~ "):t}var Nee=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,m=e.labelClassName,g=e.label,v=e.labelFormatter,_=e.accessibilityLayer,y=_===void 0?!1:_,w=function(){if(c&&c.length){var j={padding:0,margin:0},N=(h?_x(c,h):c).map(function(U,D){if(U.type==="none")return null;var F=Wv({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},s),q=U.formatter||f||Cee,V=U.value,z=U.name,Y=V,ee=z;if(q&&Y!=null&&ee!=null){var Q=q(V,z,U,D,c);if(Array.isArray(Q)){var ne=Eee(Q,2);Y=ne[0],ee=ne[1]}else Y=Q}return R.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:F},Tt(ee)?R.createElement("span",{className:"recharts-tooltip-item-name"},ee):null,Tt(ee)?R.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,R.createElement("span",{className:"recharts-tooltip-item-value"},Y),R.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return R.createElement("ul",{className:"recharts-tooltip-item-list",style:j},N)}return null},I=Wv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),E=Wv({margin:0},u),P=!ve(g),S=P?g:"",A=_e("recharts-default-tooltip",p),T=_e("recharts-tooltip-label",m);P&&v&&c!==void 0&&c!==null&&(S=v(g,c));var k=y?{role:"status","aria-live":"assertive"}:{};return R.createElement("div",Q0({className:A,style:I},k),R.createElement("p",{className:T,style:E},R.isValidElement(S)?S:"".concat(S)),w())};function $c(t){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$c(t)}function Nd(t,e,n){return e=jee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jee(t){var e=$ee(t,"string");return $c(e)=="symbol"?e:e+""}function $ee(t,e){if($c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vu="recharts-tooltip-wrapper",Ree={visibility:"hidden"};function Dee(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return _e(vu,Nd(Nd(Nd(Nd({},"".concat(vu,"-right"),J(n)&&e&&J(e.x)&&n>=e.x),"".concat(vu,"-left"),J(n)&&e&&J(e.x)&&n<e.x),"".concat(vu,"-bottom"),J(r)&&e&&J(e.y)&&r>=e.y),"".concat(vu,"-top"),J(r)&&e&&J(e.y)&&r<e.y))}function CT(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&J(a[r]))return a[r];var c=n[r]-s-i,f=n[r]+i;if(e[r])return o[r]?c:f;if(o[r]){var h=c,p=l[r];return h<p?Math.max(f,l[r]):Math.max(c,l[r])}var m=f+s,g=l[r]+u;return m>g?Math.max(c,l[r]):Math.max(f,l[r])}function Mee(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Lee(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,f;return o.height>0&&o.width>0&&n?(c=CT({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=CT({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=Mee({translateX:c,translateY:f,useTranslate3d:s})):u=Ree,{cssProperties:u,cssClasses:Dee({translateX:c,translateY:f,coordinate:n})}}function Zs(t){"@babel/helpers - typeof";return Zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zs(t)}function NT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NT(Object(n),!0).forEach(function(r){J0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C$(r.key),r)}}function Uee(t,e,n){return e&&Vee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bee(t,e,n){return e=fp(e),zee(t,k$()?Reflect.construct(e,n||[],fp(t).constructor):e.apply(t,n))}function zee(t,e){if(e&&(Zs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wee(t)}function Wee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k$=function(){return!!t})()}function fp(t){return fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fp(t)}function qee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X0(t,e)}function X0(t,e){return X0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},X0(t,e)}function J0(t,e,n){return e=C$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C$(t){var e=Hee(t,"string");return Zs(e)=="symbol"?e:e+""}function Hee(t,e){if(Zs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $T=1,Gee=function(t){function e(){var n;Fee(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Bee(this,e,[].concat(i)),J0(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),J0(n,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return qee(e,t),Uee(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>$T||Math.abs(r.height-this.state.lastBoundingBox.height)>$T)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,m=i.position,g=i.reverseDirection,v=i.useTranslate3d,_=i.viewBox,y=i.wrapperStyle,w=Lee({allowEscapeViewBox:o,coordinate:c,offsetTopLeft:p,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:_}),I=w.cssClasses,E=w.cssProperties,P=jT(jT({transition:h&&a?"transform ".concat(s,"ms ").concat(l):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return R.createElement("div",{tabIndex:-1,className:I,style:P,ref:function(A){r.wrapperNode=A}},u)}}])}(M.PureComponent),Kee=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},jo={isSsr:Kee()};function el(t){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},el(t)}function RT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RT(Object(n),!0).forEach(function(r){bx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,j$(r.key),r)}}function Xee(t,e,n){return e&&Qee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jee(t,e,n){return e=dp(e),Zee(t,N$()?Reflect.construct(e,n||[],dp(t).constructor):e.apply(t,n))}function Zee(t,e){if(e&&(el(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ete(t)}function ete(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N$=function(){return!!t})()}function dp(t){return dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dp(t)}function tte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z0(t,e)}function Z0(t,e){return Z0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Z0(t,e)}function bx(t,e,n){return e=j$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j$(t){var e=nte(t,"string");return el(e)=="symbol"?e:e+""}function nte(t,e){if(el(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(el(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function rte(t){return t.dataKey}function ite(t,e){return R.isValidElement(t)?R.cloneElement(t,e):typeof t=="function"?R.createElement(t,e):R.createElement(Nee,e)}var Gn=function(t){function e(){return Yee(this,e),Jee(this,e,arguments)}return tte(e,t),Xee(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,m=i.payload,g=i.payloadUniqBy,v=i.position,_=i.reverseDirection,y=i.useTranslate3d,w=i.viewBox,I=i.wrapperStyle,E=m??[];f&&E.length&&(E=x$(m.filter(function(S){return S.value!=null&&(S.hide!==!0||r.props.includeHidden)}),g,rte));var P=E.length>0;return R.createElement(Gee,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:h,active:a,coordinate:c,hasPayload:P,offset:p,position:v,reverseDirection:_,useTranslate3d:y,viewBox:w,wrapperStyle:I},ite(u,DT(DT({},this.props),{},{payload:E})))}}])}(M.PureComponent);bx(Gn,"displayName","Tooltip");bx(Gn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!jo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var ate=Hr,ote=function(){return ate.Date.now()},ste=ote,lte=/\s/;function ute(t){for(var e=t.length;e--&&lte.test(t.charAt(e)););return e}var cte=ute,fte=cte,dte=/^\s+/;function hte(t){return t&&t.slice(0,fte(t)+1).replace(dte,"")}var pte=hte,mte=pte,MT=ka,gte=Nl,LT=NaN,vte=/^[-+]0x[0-9a-f]+$/i,yte=/^0b[01]+$/i,_te=/^0o[0-7]+$/i,bte=parseInt;function wte(t){if(typeof t=="number")return t;if(gte(t))return LT;if(MT(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=MT(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=mte(t);var n=yte.test(t);return n||_te.test(t)?bte(t.slice(2),n?2:8):vte.test(t)?LT:+t}var $$=wte,xte=ka,qv=ste,FT=$$,Ete="Expected a function",Ste=Math.max,Ate=Math.min;function Tte(t,e,n){var r,i,a,o,s,l,u=0,c=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(Ete);e=FT(e)||0,xte(n)&&(c=!!n.leading,f="maxWait"in n,a=f?Ste(FT(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h);function p(P){var S=r,A=i;return r=i=void 0,u=P,o=t.apply(A,S),o}function m(P){return u=P,s=setTimeout(_,e),c?p(P):o}function g(P){var S=P-l,A=P-u,T=e-S;return f?Ate(T,a-A):T}function v(P){var S=P-l,A=P-u;return l===void 0||S>=e||S<0||f&&A>=a}function _(){var P=qv();if(v(P))return y(P);s=setTimeout(_,g(P))}function y(P){return s=void 0,h&&r?p(P):(r=i=void 0,o)}function w(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function I(){return s===void 0?o:y(qv())}function E(){var P=qv(),S=v(P);if(r=arguments,i=this,l=P,S){if(s===void 0)return m(l);if(f)return clearTimeout(s),s=setTimeout(_,e),p(l)}return s===void 0&&(s=setTimeout(_,e)),o}return E.cancel=w,E.flush=I,E}var Pte=Tte,Ote=Pte,Ite=ka,kte="Expected a function";function Cte(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(kte);return Ite(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ote(t,e,{leading:r,maxWait:e,trailing:i})}var Nte=Cte;const R$=Re(Nte);function Rc(t){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rc(t)}function VT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VT(Object(n),!0).forEach(function(r){jte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jte(t,e,n){return e=$te(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $te(t){var e=Rte(t,"string");return Rc(e)=="symbol"?e:e+""}function Rte(t,e){if(Rc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dte(t,e){return Vte(t)||Fte(t,e)||Lte(t,e)||Mte()}function Mte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lte(t,e){if(t){if(typeof t=="string")return UT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UT(t,e)}}function UT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fte(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Vte(t){if(Array.isArray(t))return t}var e_=M.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,p=t.children,m=t.debounce,g=m===void 0?0:m,v=t.id,_=t.className,y=t.onResize,w=t.style,I=w===void 0?{}:w,E=M.useRef(null),P=M.useRef();P.current=y,M.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var S=M.useState({containerWidth:i.width,containerHeight:i.height}),A=Dte(S,2),T=A[0],k=A[1],C=M.useCallback(function(N,U){k(function(D){var F=Math.round(N),q=Math.round(U);return D.containerWidth===F&&D.containerHeight===q?D:{containerWidth:F,containerHeight:q}})},[]);M.useEffect(function(){var N=function(z){var Y,ee=z[0].contentRect,Q=ee.width,ne=ee.height;C(Q,ne),(Y=P.current)===null||Y===void 0||Y.call(P,Q,ne)};g>0&&(N=R$(N,g,{trailing:!0,leading:!1}));var U=new ResizeObserver(N),D=E.current.getBoundingClientRect(),F=D.width,q=D.height;return C(F,q),U.observe(E.current),function(){U.disconnect()}},[C,g]);var j=M.useMemo(function(){var N=T.containerWidth,U=T.containerHeight;if(N<0||U<0)return null;_r(to(o)||to(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),_r(!n||n>0,"The aspect(%s) must be greater than zero.",n);var D=to(o)?N:o,F=to(l)?U:l;n&&n>0&&(D?F=D/n:F&&(D=F*n),h&&F>h&&(F=h)),_r(D>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,F,o,l,c,f,n);var q=!Array.isArray(p)&&gi(p.type).endsWith("Chart");return R.Children.map(p,function(V){return R.isValidElement(V)?M.cloneElement(V,jd({width:D,height:F},q?{style:jd({height:"100%",width:"100%",maxHeight:F,maxWidth:D},V.props.style)}:{})):V})},[n,p,l,h,f,c,T,o]);return R.createElement("div",{id:v?"".concat(v):void 0,className:_e("recharts-responsive-container",_),style:jd(jd({},I),{},{width:o,height:l,minWidth:c,minHeight:f,maxHeight:h}),ref:E},j)}),jf=function(e){return null};jf.displayName="Cell";function Dc(t){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dc(t)}function BT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function t_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BT(Object(n),!0).forEach(function(r){Ute(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ute(t,e,n){return e=Bte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bte(t){var e=zte(t,"string");return Dc(e)=="symbol"?e:e+""}function zte(t,e){if(Dc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qo={widthCache:{},cacheCount:0},Wte=2e3,qte={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},zT="recharts_measurement_span";function Hte(t){var e=t_({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Qu=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||jo.isSsr)return{width:0,height:0};var r=Hte(n),i=JSON.stringify({text:e,copyStyle:r});if(qo.widthCache[i])return qo.widthCache[i];try{var a=document.getElementById(zT);a||(a=document.createElement("span"),a.setAttribute("id",zT),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=t_(t_({},qte),r);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return qo.widthCache[i]=l,++qo.cacheCount>Wte&&(qo.cacheCount=0,qo.widthCache={}),l}catch{return{width:0,height:0}}},Gte=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Mc(t){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mc(t)}function hp(t,e){return Xte(t)||Qte(t,e)||Yte(t,e)||Kte()}function Kte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yte(t,e){if(t){if(typeof t=="string")return WT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WT(t,e)}}function WT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qte(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Xte(t){if(Array.isArray(t))return t}function Jte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ene(r.key),r)}}function Zte(t,e,n){return e&&qT(t.prototype,e),n&&qT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ene(t){var e=tne(t,"string");return Mc(e)=="symbol"?e:e+""}function tne(t,e){if(Mc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var HT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,GT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nne=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,rne=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,D$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ine=Object.keys(D$),ds="NaN";function ane(t,e){return t*D$[e]}var $d=function(){function t(e,n){Jte(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!nne.test(n)&&(this.num=NaN,this.unit=""),ine.includes(n)&&(this.num=ane(e,n),this.unit="px")}return Zte(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=rne.exec(n))!==null&&r!==void 0?r:[],a=hp(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])}();function M$(t){if(t.includes(ds))return ds;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=HT.exec(e))!==null&&n!==void 0?n:[],i=hp(r,4),a=i[1],o=i[2],s=i[3],l=$d.parse(a??""),u=$d.parse(s??""),c=o==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return ds;e=e.replace(HT,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=GT.exec(e))!==null&&f!==void 0?f:[],p=hp(h,4),m=p[1],g=p[2],v=p[3],_=$d.parse(m??""),y=$d.parse(v??""),w=g==="+"?_.add(y):_.subtract(y);if(w.isNaN())return ds;e=e.replace(GT,w.toString())}return e}var KT=/\(([^()]*)\)/;function one(t){for(var e=t;e.includes("(");){var n=KT.exec(e),r=hp(n,2),i=r[1];e=e.replace(KT,M$(i))}return e}function sne(t){var e=t.replace(/\s+/g,"");return e=one(e),e=M$(e),e}function lne(t){try{return sne(t)}catch{return ds}}function Hv(t){var e=lne(t.slice(5,-1));return e===ds?"":e}var une=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],cne=["dx","dy","angle","className","breakAll"];function n_(){return n_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n_.apply(this,arguments)}function YT(t,e){if(t==null)return{};var n=fne(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function QT(t,e){return mne(t)||pne(t,e)||hne(t,e)||dne()}function dne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hne(t,e){if(t){if(typeof t=="string")return XT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XT(t,e)}}function XT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function mne(t){if(Array.isArray(t))return t}var L$=/[ \f\n\r\t\v\u2028\u2029]+/,F$=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];ve(n)||(r?a=n.toString().split(""):a=n.toString().split(L$));var o=a.map(function(l){return{word:l,width:Qu(l,i).width}}),s=r?0:Qu(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},gne=function(e,n,r,i,a){var o=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=J(o),f=s,h=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce(function(F,q){var V=q.word,z=q.width,Y=F[F.length-1];if(Y&&(i==null||a||Y.width+z+r<Number(i)))Y.words.push(V),Y.width+=z+r;else{var ee={words:[V],width:z};F.push(ee)}return F},[])},p=h(n),m=function(D){return D.reduce(function(F,q){return F.width>q.width?F:q})};if(!c)return p;for(var g="…",v=function(D){var F=f.slice(0,D),q=F$({breakAll:u,style:l,children:F+g}).wordsWithComputedWidth,V=h(q),z=V.length>o||m(V).width>Number(i);return[z,V]},_=0,y=f.length-1,w=0,I;_<=y&&w<=f.length-1;){var E=Math.floor((_+y)/2),P=E-1,S=v(P),A=QT(S,2),T=A[0],k=A[1],C=v(E),j=QT(C,1),N=j[0];if(!T&&!N&&(_=E+1),T&&N&&(y=E-1),!T&&N){I=k;break}w++}return I||p},JT=function(e){var n=ve(e)?[]:e.toString().split(L$);return[{words:n}]},vne=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((n||r)&&!jo.isSsr){var l,u,c=F$({breakAll:o,children:i,style:a});if(c){var f=c.wordsWithComputedWidth,h=c.spaceWidth;l=f,u=h}else return JT(i);return gne({breakAll:o,children:i,maxLines:s,style:a},l,u,n,r)}return JT(i)},ZT="#808080",So=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,h=e.textAnchor,p=h===void 0?"start":h,m=e.verticalAnchor,g=m===void 0?"end":m,v=e.fill,_=v===void 0?ZT:v,y=YT(e,une),w=M.useMemo(function(){return vne({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),I=y.dx,E=y.dy,P=y.angle,S=y.className,A=y.breakAll,T=YT(y,cne);if(!Tt(r)||!Tt(a))return null;var k=r+(J(I)?I:0),C=a+(J(E)?E:0),j;switch(g){case"start":j=Hv("calc(".concat(u,")"));break;case"middle":j=Hv("calc(".concat((w.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:j=Hv("calc(".concat(w.length-1," * -").concat(s,")"));break}var N=[];if(f){var U=w[0].width,D=y.width;N.push("scale(".concat((J(D)?D/U:1)/U,")"))}return P&&N.push("rotate(".concat(P,", ").concat(k,", ").concat(C,")")),N.length&&(T.transform=N.join(" ")),R.createElement("text",n_({},ue(T,!0),{x:k,y:C,className:_e("recharts-text",S),textAnchor:p,fill:_.includes("url")?ZT:_}),w.map(function(F,q){var V=F.words.join(A?"":" ");return R.createElement("tspan",{x:k,dy:q===0?j:s,key:"".concat(V,"-").concat(q)},V)}))};function _a(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function yne(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function wx(t){let e,n,r;t.length!==2?(e=_a,n=(s,l)=>_a(t(s),l),r=(s,l)=>t(s)-l):(e=t===_a||t===yne?t:_ne,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<0?u=f+1:c=f}while(u<c)}return u}function a(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function o(s,l,u=0,c=s.length){const f=i(s,l,u,c-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:o,right:a}}function _ne(){return 0}function V$(t){return t===null?NaN:+t}function*bne(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const wne=wx(_a),$f=wne.right;wx(V$).center;class eP extends Map{constructor(e,n=Sne){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(tP(this,e))}has(e){return super.has(tP(this,e))}set(e,n){return super.set(xne(this,e),n)}delete(e){return super.delete(Ene(this,e))}}function tP({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function xne({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Ene({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Sne(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Ane(t=_a){if(t===_a)return U$;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function U$(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Tne=Math.sqrt(50),Pne=Math.sqrt(10),One=Math.sqrt(2);function pp(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Tne?10:a>=Pne?5:a>=One?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?pp(t,e,n*2):[s,l,u]}function r_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?pp(e,t,n):pp(t,e,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function i_(t,e,n){return e=+e,t=+t,n=+n,pp(t,e,n)[2]}function a_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?i_(e,t,n):i_(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function nP(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function rP(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function B$(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?U$:Ane(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(e-u*f/l+h)),m=Math.min(r,Math.floor(e+(l-u)*f/l+h));B$(t,e,p,m,i)}const a=t[e];let o=n,s=r;for(yu(t,n,e),i(t[r],a)>0&&yu(t,n,r);o<s;){for(yu(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[n],a)===0?yu(t,n,s):(++s,yu(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function yu(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Ine(t,e,n){if(t=Float64Array.from(bne(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return rP(t);if(e>=1)return nP(t);var r,i=(r-1)*e,a=Math.floor(i),o=nP(B$(t,a).subarray(0,a+1)),s=rP(t.subarray(a+1));return o+(s-o)*(i-a)}}function kne(t,e,n=V$){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function Cne(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function ar(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Di(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const o_=Symbol("implicit");function xx(){var t=new eP,e=[],n=[],r=o_;function i(a){let o=t.get(a);if(o===void 0){if(r!==o_)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new eP;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return xx(e,n).unknown(r)},ar.apply(i,arguments),i}function Lc(){var t=xx().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,s=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var h=e().length,p=i<r,m=p?i:r,g=p?r:i;a=(g-m)/Math.max(1,h-l+u*2),s&&(a=Math.floor(a)),m+=(g-m-a*(h-l))*c,o=a*(1-l),s&&(m=Math.round(m),o=Math.round(o));var v=Cne(h).map(function(_){return m+a*_});return n(p?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},t.copy=function(){return Lc(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},ar.apply(f(),arguments)}function z$(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return z$(e())},t}function Xu(){return z$(Lc.apply(null,arguments).paddingInner(1))}function Ex(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function W$(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Rf(){}var Fc=.7,mp=1/Fc,Is="\\s*([+-]?\\d+)\\s*",Vc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Nne=/^#([0-9a-f]{3,8})$/,jne=new RegExp(`^rgb\\(${Is},${Is},${Is}\\)$`),$ne=new RegExp(`^rgb\\(${Fr},${Fr},${Fr}\\)$`),Rne=new RegExp(`^rgba\\(${Is},${Is},${Is},${Vc}\\)$`),Dne=new RegExp(`^rgba\\(${Fr},${Fr},${Fr},${Vc}\\)$`),Mne=new RegExp(`^hsl\\(${Vc},${Fr},${Fr}\\)$`),Lne=new RegExp(`^hsla\\(${Vc},${Fr},${Fr},${Vc}\\)$`),iP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ex(Rf,Uc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:aP,formatHex:aP,formatHex8:Fne,formatHsl:Vne,formatRgb:oP,toString:oP});function aP(){return this.rgb().formatHex()}function Fne(){return this.rgb().formatHex8()}function Vne(){return q$(this).formatHsl()}function oP(){return this.rgb().formatRgb()}function Uc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Nne.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?sP(e):n===3?new xn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Rd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Rd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=jne.exec(t))?new xn(e[1],e[2],e[3],1):(e=$ne.exec(t))?new xn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Rne.exec(t))?Rd(e[1],e[2],e[3],e[4]):(e=Dne.exec(t))?Rd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Mne.exec(t))?cP(e[1],e[2]/100,e[3]/100,1):(e=Lne.exec(t))?cP(e[1],e[2]/100,e[3]/100,e[4]):iP.hasOwnProperty(t)?sP(iP[t]):t==="transparent"?new xn(NaN,NaN,NaN,0):null}function sP(t){return new xn(t>>16&255,t>>8&255,t&255,1)}function Rd(t,e,n,r){return r<=0&&(t=e=n=NaN),new xn(t,e,n,r)}function Une(t){return t instanceof Rf||(t=Uc(t)),t?(t=t.rgb(),new xn(t.r,t.g,t.b,t.opacity)):new xn}function s_(t,e,n,r){return arguments.length===1?Une(t):new xn(t,e,n,r??1)}function xn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Ex(xn,s_,W$(Rf,{brighter(t){return t=t==null?mp:Math.pow(mp,t),new xn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Fc:Math.pow(Fc,t),new xn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new xn(uo(this.r),uo(this.g),uo(this.b),gp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:lP,formatHex:lP,formatHex8:Bne,formatRgb:uP,toString:uP}));function lP(){return`#${no(this.r)}${no(this.g)}${no(this.b)}`}function Bne(){return`#${no(this.r)}${no(this.g)}${no(this.b)}${no((isNaN(this.opacity)?1:this.opacity)*255)}`}function uP(){const t=gp(this.opacity);return`${t===1?"rgb(":"rgba("}${uo(this.r)}, ${uo(this.g)}, ${uo(this.b)}${t===1?")":`, ${t})`}`}function gp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function uo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function no(t){return t=uo(t),(t<16?"0":"")+t.toString(16)}function cP(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new pr(t,e,n,r)}function q$(t){if(t instanceof pr)return new pr(t.h,t.s,t.l,t.opacity);if(t instanceof Rf||(t=Uc(t)),!t)return new pr;if(t instanceof pr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new pr(o,s,l,t.opacity)}function zne(t,e,n,r){return arguments.length===1?q$(t):new pr(t,e,n,r??1)}function pr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Ex(pr,zne,W$(Rf,{brighter(t){return t=t==null?mp:Math.pow(mp,t),new pr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Fc:Math.pow(Fc,t),new pr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new xn(Gv(t>=240?t-240:t+120,i,r),Gv(t,i,r),Gv(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new pr(fP(this.h),Dd(this.s),Dd(this.l),gp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=gp(this.opacity);return`${t===1?"hsl(":"hsla("}${fP(this.h)}, ${Dd(this.s)*100}%, ${Dd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function fP(t){return t=(t||0)%360,t<0?t+360:t}function Dd(t){return Math.max(0,Math.min(1,t||0))}function Gv(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Sx=t=>()=>t;function Wne(t,e){return function(n){return t+n*e}}function qne(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Hne(t){return(t=+t)==1?H$:function(e,n){return n-e?qne(e,n,t):Sx(isNaN(e)?n:e)}}function H$(t,e){var n=e-t;return n?Wne(t,n):Sx(isNaN(t)?e:t)}const dP=function t(e){var n=Hne(e);function r(i,a){var o=n((i=s_(i)).r,(a=s_(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),u=H$(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function Gne(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Kne(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Yne(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Ul(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function Qne(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function vp(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Xne(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ul(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var l_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kv=new RegExp(l_.source,"g");function Jne(t){return function(){return t}}function Zne(t){return function(e){return t(e)+""}}function ere(t,e){var n=l_.lastIndex=Kv.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(r=l_.exec(t))&&(i=Kv.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:vp(r,i)})),n=Kv.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?Zne(l[0].x):Jne(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function Ul(t,e){var n=typeof e,r;return e==null||n==="boolean"?Sx(e):(n==="number"?vp:n==="string"?(r=Uc(e))?(e=r,dP):ere:e instanceof Uc?dP:e instanceof Date?Qne:Kne(e)?Gne:Array.isArray(e)?Yne:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Xne:vp)(t,e)}function Ax(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function tre(t,e){e===void 0&&(e=t,t=Ul);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function nre(t){return function(){return t}}function yp(t){return+t}var hP=[0,1];function pn(t){return t}function u_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:nre(isNaN(e)?NaN:.5)}function rre(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function ire(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=u_(i,r),a=n(o,a)):(r=u_(r,i),a=n(a,o)),function(s){return a(r(s))}}function are(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=u_(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var l=$f(t,s,1,r)-1;return a[l](i[l](s))}}function Df(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function sg(){var t=hP,e=hP,n=Ul,r,i,a,o=pn,s,l,u;function c(){var h=Math.min(t.length,e.length);return o!==pn&&(o=rre(t[0],t[h-1])),s=h>2?are:ire,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=s(t.map(r),e,n)))(r(o(h)))}return f.invert=function(h){return o(i((u||(u=s(e,t.map(r),vp)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,yp),c()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=Ax,c()},f.clamp=function(h){return arguments.length?(o=h?!0:pn,c()):o!==pn},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return r=h,i=p,c()}}function Tx(){return sg()(pn,pn)}function ore(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function _p(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function tl(t){return t=_p(Math.abs(t)),t?t[1]:NaN}function sre(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function lre(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var ure=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Bc(t){if(!(e=ure.exec(t)))throw new Error("invalid format: "+t);var e;return new Px({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Bc.prototype=Px.prototype;function Px(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Px.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function cre(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var G$;function fre(t,e){var n=_p(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(G$=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+_p(t,Math.max(0,e+a-1))[0]}function pP(t,e){var n=_p(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const mP={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:ore,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>pP(t*100,e),r:pP,s:fre,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function gP(t){return t}var vP=Array.prototype.map,yP=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function dre(t){var e=t.grouping===void 0||t.thousands===void 0?gP:sre(vP.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?gP:lre(vP.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Bc(f);var h=f.fill,p=f.align,m=f.sign,g=f.symbol,v=f.zero,_=f.width,y=f.comma,w=f.precision,I=f.trim,E=f.type;E==="n"?(y=!0,E="g"):mP[E]||(w===void 0&&(w=12),I=!0,E="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var P=g==="$"?n:g==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",S=g==="$"?r:/[%p]/.test(E)?o:"",A=mP[E],T=/[defgprs%]/.test(E);w=w===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function k(C){var j=P,N=S,U,D,F;if(E==="c")N=A(C)+N,C="";else{C=+C;var q=C<0||1/C<0;if(C=isNaN(C)?l:A(Math.abs(C),w),I&&(C=cre(C)),q&&+C==0&&m!=="+"&&(q=!1),j=(q?m==="("?m:s:m==="-"||m==="("?"":m)+j,N=(E==="s"?yP[8+G$/3]:"")+N+(q&&m==="("?")":""),T){for(U=-1,D=C.length;++U<D;)if(F=C.charCodeAt(U),48>F||F>57){N=(F===46?i+C.slice(U+1):C.slice(U))+N,C=C.slice(0,U);break}}}y&&!v&&(C=e(C,1/0));var V=j.length+C.length+N.length,z=V<_?new Array(_-V+1).join(h):"";switch(y&&v&&(C=e(z+C,z.length?_-N.length:1/0),z=""),p){case"<":C=j+C+N+z;break;case"=":C=j+z+C+N;break;case"^":C=z.slice(0,V=z.length>>1)+j+C+N+z.slice(V);break;default:C=z+j+C+N;break}return a(C)}return k.toString=function(){return f+""},k}function c(f,h){var p=u((f=Bc(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(tl(h)/3)))*3,g=Math.pow(10,-m),v=yP[8+m/3];return function(_){return p(g*_)+v}}return{format:u,formatPrefix:c}}var Md,Ox,K$;hre({thousands:",",grouping:[3],currency:["$",""]});function hre(t){return Md=dre(t),Ox=Md.format,K$=Md.formatPrefix,Md}function pre(t){return Math.max(0,-tl(Math.abs(t)))}function mre(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(tl(e)/3)))*3-tl(Math.abs(t)))}function gre(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,tl(e)-tl(t))+1}function Y$(t,e,n,r){var i=a_(t,e,n),a;switch(r=Bc(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=mre(i,o))&&(r.precision=a),K$(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=gre(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=pre(i))&&(r.precision=a-(r.type==="%")*2);break}}return Ox(r)}function Ca(t){var e=t.domain;return t.ticks=function(n){var r=e();return r_(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Y$(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],l,u,c=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);c-- >0;){if(u=i_(o,s,n),u===l)return r[i]=o,r[a]=s,e(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function bp(){var t=Tx();return t.copy=function(){return Df(t,bp())},ar.apply(t,arguments),Ca(t)}function Q$(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,yp),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Q$(t).unknown(e)},t=arguments.length?Array.from(t,yp):[0,1],Ca(n)}function X$(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function _P(t){return Math.log(t)}function bP(t){return Math.exp(t)}function vre(t){return-Math.log(-t)}function yre(t){return-Math.exp(-t)}function _re(t){return isFinite(t)?+("1e"+t):t<0?0:t}function bre(t){return t===10?_re:t===Math.E?Math.exp:e=>Math.pow(t,e)}function wre(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function wP(t){return(e,n)=>-t(-e,n)}function Ix(t){const e=t(_P,bP),n=e.domain;let r=10,i,a;function o(){return i=wre(r),a=bre(r),n()[0]<0?(i=wP(i),a=wP(a),t(vre,yre)):t(_P,bP),e}return e.base=function(s){return arguments.length?(r=+s,o()):r},e.domain=function(s){return arguments.length?(n(s),o()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let h=i(u),p=i(c),m,g;const v=s==null?10:+s;let _=[];if(!(r%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(m=1;m<r;++m)if(g=h<0?m/a(-h):m*a(h),!(g<u)){if(g>c)break;_.push(g)}}else for(;h<=p;++h)for(m=r-1;m>=1;--m)if(g=h>0?m/a(-h):m*a(h),!(g<u)){if(g>c)break;_.push(g)}_.length*2<v&&(_=r_(u,c,v))}else _=r_(h,p,Math.min(p-h,v)).map(a);return f?_.reverse():_},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Bc(l)).precision==null&&(l.trim=!0),l=Ox(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let f=c/a(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(X$(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function J$(){const t=Ix(sg()).domain([1,10]);return t.copy=()=>Df(t,J$()).base(t.base()),ar.apply(t,arguments),t}function xP(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function EP(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function kx(t){var e=1,n=t(xP(e),EP(e));return n.constant=function(r){return arguments.length?t(xP(e=+r),EP(e)):e},Ca(n)}function Z$(){var t=kx(sg());return t.copy=function(){return Df(t,Z$()).constant(t.constant())},ar.apply(t,arguments)}function SP(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function xre(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Ere(t){return t<0?-t*t:t*t}function Cx(t){var e=t(pn,pn),n=1;function r(){return n===1?t(pn,pn):n===.5?t(xre,Ere):t(SP(n),SP(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Ca(e)}function Nx(){var t=Cx(sg());return t.copy=function(){return Df(t,Nx()).exponent(t.exponent())},ar.apply(t,arguments),t}function Sre(){return Nx.apply(null,arguments).exponent(.5)}function AP(t){return Math.sign(t)*t*t}function Are(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function eR(){var t=Tx(),e=[0,1],n=!1,r;function i(a){var o=Are(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(AP(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,yp)).map(AP)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return eR(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ar.apply(i,arguments),Ca(i)}function tR(){var t=[],e=[],n=[],r;function i(){var o=0,s=Math.max(1,e.length);for(n=new Array(s-1);++o<s;)n[o-1]=kne(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:e[$f(n,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(_a),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return tR().domain(t).range(e).unknown(r)},ar.apply(a,arguments)}function nR(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[$f(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return nR().domain([t,e]).range(i).unknown(a)},ar.apply(Ca(o),arguments)}function rR(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[$f(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return rR().domain(t).range(e).unknown(n)},ar.apply(i,arguments)}const Yv=new Date,Qv=new Date;function Ot(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),e(a,s),t(a);while(u<a&&a<o);return l},i.filter=a=>Ot(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(Yv.setTime(+a),Qv.setTime(+o),t(Yv),t(Qv),Math.floor(n(Yv,Qv))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const wp=Ot(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);wp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ot(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):wp);wp.range;const fi=1e3,Zn=fi*60,di=Zn*60,Ii=di*24,jx=Ii*7,TP=Ii*30,Xv=Ii*365,ro=Ot(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*fi)},(t,e)=>(e-t)/fi,t=>t.getUTCSeconds());ro.range;const $x=Ot(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*fi)},(t,e)=>{t.setTime(+t+e*Zn)},(t,e)=>(e-t)/Zn,t=>t.getMinutes());$x.range;const Rx=Ot(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Zn)},(t,e)=>(e-t)/Zn,t=>t.getUTCMinutes());Rx.range;const Dx=Ot(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*fi-t.getMinutes()*Zn)},(t,e)=>{t.setTime(+t+e*di)},(t,e)=>(e-t)/di,t=>t.getHours());Dx.range;const Mx=Ot(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*di)},(t,e)=>(e-t)/di,t=>t.getUTCHours());Mx.range;const Mf=Ot(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Zn)/Ii,t=>t.getDate()-1);Mf.range;const lg=Ot(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ii,t=>t.getUTCDate()-1);lg.range;const iR=Ot(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ii,t=>Math.floor(t/Ii));iR.range;function $o(t){return Ot(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Zn)/jx)}const ug=$o(0),xp=$o(1),Tre=$o(2),Pre=$o(3),nl=$o(4),Ore=$o(5),Ire=$o(6);ug.range;xp.range;Tre.range;Pre.range;nl.range;Ore.range;Ire.range;function Ro(t){return Ot(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/jx)}const cg=Ro(0),Ep=Ro(1),kre=Ro(2),Cre=Ro(3),rl=Ro(4),Nre=Ro(5),jre=Ro(6);cg.range;Ep.range;kre.range;Cre.range;rl.range;Nre.range;jre.range;const Lx=Ot(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Lx.range;const Fx=Ot(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Fx.range;const ki=Ot(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ki.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ot(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ki.range;const Ci=Ot(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ci.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ot(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ci.range;function aR(t,e,n,r,i,a){const o=[[ro,1,fi],[ro,5,5*fi],[ro,15,15*fi],[ro,30,30*fi],[a,1,Zn],[a,5,5*Zn],[a,15,15*Zn],[a,30,30*Zn],[i,1,di],[i,3,3*di],[i,6,6*di],[i,12,12*di],[r,1,Ii],[r,2,2*Ii],[n,1,jx],[e,1,TP],[e,3,3*TP],[t,1,Xv]];function s(u,c,f){const h=c<u;h&&([u,c]=[c,u]);const p=f&&typeof f.range=="function"?f:l(u,c,f),m=p?p.range(u,+c+1):[];return h?m.reverse():m}function l(u,c,f){const h=Math.abs(c-u)/f,p=wx(([,,v])=>v).right(o,h);if(p===o.length)return t.every(a_(u/Xv,c/Xv,f));if(p===0)return wp.every(Math.max(a_(u,c,f),1));const[m,g]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return m.every(g)}return[s,l]}const[$re,Rre]=aR(Ci,Fx,cg,iR,Mx,Rx),[Dre,Mre]=aR(ki,Lx,ug,Mf,Dx,$x);function Jv(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Zv(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function _u(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Lre(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,u=bu(i),c=wu(i),f=bu(a),h=wu(a),p=bu(o),m=wu(o),g=bu(s),v=wu(s),_=bu(l),y=wu(l),w={a:q,A:V,b:z,B:Y,c:null,d:NP,e:NP,f:sie,g:vie,G:_ie,H:iie,I:aie,j:oie,L:oR,m:lie,M:uie,p:ee,q:Q,Q:RP,s:DP,S:cie,u:fie,U:die,V:hie,w:pie,W:mie,x:null,X:null,y:gie,Y:yie,Z:bie,"%":$P},I={a:ne,A:Ee,b:je,B:rt,c:null,d:jP,e:jP,f:Sie,g:$ie,G:Die,H:wie,I:xie,j:Eie,L:lR,m:Aie,M:Tie,p:Mt,q:Gt,Q:RP,s:DP,S:Pie,u:Oie,U:Iie,V:kie,w:Cie,W:Nie,x:null,X:null,y:jie,Y:Rie,Z:Mie,"%":$P},E={a:k,A:C,b:j,B:N,c:U,d:kP,e:kP,f:eie,g:IP,G:OP,H:CP,I:CP,j:Qre,L:Zre,m:Yre,M:Xre,p:T,q:Kre,Q:nie,s:rie,S:Jre,u:zre,U:Wre,V:qre,w:Bre,W:Hre,x:D,X:F,y:IP,Y:OP,Z:Gre,"%":tie};w.x=P(n,w),w.X=P(r,w),w.c=P(e,w),I.x=P(n,I),I.X=P(r,I),I.c=P(e,I);function P(te,de){return function(me){var G=[],ze=-1,be=0,it=te.length,ut,Kt,Sr;for(me instanceof Date||(me=new Date(+me));++ze<it;)te.charCodeAt(ze)===37&&(G.push(te.slice(be,ze)),(Kt=PP[ut=te.charAt(++ze)])!=null?ut=te.charAt(++ze):Kt=ut==="e"?" ":"0",(Sr=de[ut])&&(ut=Sr(me,Kt)),G.push(ut),be=ze+1);return G.push(te.slice(be,ze)),G.join("")}}function S(te,de){return function(me){var G=_u(1900,void 0,1),ze=A(G,te,me+="",0),be,it;if(ze!=me.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(de&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(be=Zv(_u(G.y,0,1)),it=be.getUTCDay(),be=it>4||it===0?Ep.ceil(be):Ep(be),be=lg.offset(be,(G.V-1)*7),G.y=be.getUTCFullYear(),G.m=be.getUTCMonth(),G.d=be.getUTCDate()+(G.w+6)%7):(be=Jv(_u(G.y,0,1)),it=be.getDay(),be=it>4||it===0?xp.ceil(be):xp(be),be=Mf.offset(be,(G.V-1)*7),G.y=be.getFullYear(),G.m=be.getMonth(),G.d=be.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),it="Z"in G?Zv(_u(G.y,0,1)).getUTCDay():Jv(_u(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(it+5)%7:G.w+G.U*7-(it+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,Zv(G)):Jv(G)}}function A(te,de,me,G){for(var ze=0,be=de.length,it=me.length,ut,Kt;ze<be;){if(G>=it)return-1;if(ut=de.charCodeAt(ze++),ut===37){if(ut=de.charAt(ze++),Kt=E[ut in PP?de.charAt(ze++):ut],!Kt||(G=Kt(te,me,G))<0)return-1}else if(ut!=me.charCodeAt(G++))return-1}return G}function T(te,de,me){var G=u.exec(de.slice(me));return G?(te.p=c.get(G[0].toLowerCase()),me+G[0].length):-1}function k(te,de,me){var G=p.exec(de.slice(me));return G?(te.w=m.get(G[0].toLowerCase()),me+G[0].length):-1}function C(te,de,me){var G=f.exec(de.slice(me));return G?(te.w=h.get(G[0].toLowerCase()),me+G[0].length):-1}function j(te,de,me){var G=_.exec(de.slice(me));return G?(te.m=y.get(G[0].toLowerCase()),me+G[0].length):-1}function N(te,de,me){var G=g.exec(de.slice(me));return G?(te.m=v.get(G[0].toLowerCase()),me+G[0].length):-1}function U(te,de,me){return A(te,e,de,me)}function D(te,de,me){return A(te,n,de,me)}function F(te,de,me){return A(te,r,de,me)}function q(te){return o[te.getDay()]}function V(te){return a[te.getDay()]}function z(te){return l[te.getMonth()]}function Y(te){return s[te.getMonth()]}function ee(te){return i[+(te.getHours()>=12)]}function Q(te){return 1+~~(te.getMonth()/3)}function ne(te){return o[te.getUTCDay()]}function Ee(te){return a[te.getUTCDay()]}function je(te){return l[te.getUTCMonth()]}function rt(te){return s[te.getUTCMonth()]}function Mt(te){return i[+(te.getUTCHours()>=12)]}function Gt(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var de=P(te+="",w);return de.toString=function(){return te},de},parse:function(te){var de=S(te+="",!1);return de.toString=function(){return te},de},utcFormat:function(te){var de=P(te+="",I);return de.toString=function(){return te},de},utcParse:function(te){var de=S(te+="",!0);return de.toString=function(){return te},de}}}var PP={"-":"",_:" ",0:"0"},Dt=/^\s*\d+/,Fre=/^%/,Vre=/[\\^$*+?|[\]().{}]/g;function Ne(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Ure(t){return t.replace(Vre,"\\$&")}function bu(t){return new RegExp("^(?:"+t.map(Ure).join("|")+")","i")}function wu(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Bre(t,e,n){var r=Dt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function zre(t,e,n){var r=Dt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Wre(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function qre(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Hre(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function OP(t,e,n){var r=Dt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function IP(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Gre(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Kre(t,e,n){var r=Dt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Yre(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function kP(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Qre(t,e,n){var r=Dt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function CP(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Xre(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Jre(t,e,n){var r=Dt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Zre(t,e,n){var r=Dt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function eie(t,e,n){var r=Dt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function tie(t,e,n){var r=Fre.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function nie(t,e,n){var r=Dt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function rie(t,e,n){var r=Dt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function NP(t,e){return Ne(t.getDate(),e,2)}function iie(t,e){return Ne(t.getHours(),e,2)}function aie(t,e){return Ne(t.getHours()%12||12,e,2)}function oie(t,e){return Ne(1+Mf.count(ki(t),t),e,3)}function oR(t,e){return Ne(t.getMilliseconds(),e,3)}function sie(t,e){return oR(t,e)+"000"}function lie(t,e){return Ne(t.getMonth()+1,e,2)}function uie(t,e){return Ne(t.getMinutes(),e,2)}function cie(t,e){return Ne(t.getSeconds(),e,2)}function fie(t){var e=t.getDay();return e===0?7:e}function die(t,e){return Ne(ug.count(ki(t)-1,t),e,2)}function sR(t){var e=t.getDay();return e>=4||e===0?nl(t):nl.ceil(t)}function hie(t,e){return t=sR(t),Ne(nl.count(ki(t),t)+(ki(t).getDay()===4),e,2)}function pie(t){return t.getDay()}function mie(t,e){return Ne(xp.count(ki(t)-1,t),e,2)}function gie(t,e){return Ne(t.getFullYear()%100,e,2)}function vie(t,e){return t=sR(t),Ne(t.getFullYear()%100,e,2)}function yie(t,e){return Ne(t.getFullYear()%1e4,e,4)}function _ie(t,e){var n=t.getDay();return t=n>=4||n===0?nl(t):nl.ceil(t),Ne(t.getFullYear()%1e4,e,4)}function bie(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ne(e/60|0,"0",2)+Ne(e%60,"0",2)}function jP(t,e){return Ne(t.getUTCDate(),e,2)}function wie(t,e){return Ne(t.getUTCHours(),e,2)}function xie(t,e){return Ne(t.getUTCHours()%12||12,e,2)}function Eie(t,e){return Ne(1+lg.count(Ci(t),t),e,3)}function lR(t,e){return Ne(t.getUTCMilliseconds(),e,3)}function Sie(t,e){return lR(t,e)+"000"}function Aie(t,e){return Ne(t.getUTCMonth()+1,e,2)}function Tie(t,e){return Ne(t.getUTCMinutes(),e,2)}function Pie(t,e){return Ne(t.getUTCSeconds(),e,2)}function Oie(t){var e=t.getUTCDay();return e===0?7:e}function Iie(t,e){return Ne(cg.count(Ci(t)-1,t),e,2)}function uR(t){var e=t.getUTCDay();return e>=4||e===0?rl(t):rl.ceil(t)}function kie(t,e){return t=uR(t),Ne(rl.count(Ci(t),t)+(Ci(t).getUTCDay()===4),e,2)}function Cie(t){return t.getUTCDay()}function Nie(t,e){return Ne(Ep.count(Ci(t)-1,t),e,2)}function jie(t,e){return Ne(t.getUTCFullYear()%100,e,2)}function $ie(t,e){return t=uR(t),Ne(t.getUTCFullYear()%100,e,2)}function Rie(t,e){return Ne(t.getUTCFullYear()%1e4,e,4)}function Die(t,e){var n=t.getUTCDay();return t=n>=4||n===0?rl(t):rl.ceil(t),Ne(t.getUTCFullYear()%1e4,e,4)}function Mie(){return"+0000"}function $P(){return"%"}function RP(t){return+t}function DP(t){return Math.floor(+t/1e3)}var Ho,cR,fR;Lie({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Lie(t){return Ho=Lre(t),cR=Ho.format,Ho.parse,fR=Ho.utcFormat,Ho.utcParse,Ho}function Fie(t){return new Date(t)}function Vie(t){return t instanceof Date?+t:+new Date(+t)}function Vx(t,e,n,r,i,a,o,s,l,u){var c=Tx(),f=c.invert,h=c.domain,p=u(".%L"),m=u(":%S"),g=u("%I:%M"),v=u("%I %p"),_=u("%a %d"),y=u("%b %d"),w=u("%B"),I=u("%Y");function E(P){return(l(P)<P?p:s(P)<P?m:o(P)<P?g:a(P)<P?v:r(P)<P?i(P)<P?_:y:n(P)<P?w:I)(P)}return c.invert=function(P){return new Date(f(P))},c.domain=function(P){return arguments.length?h(Array.from(P,Vie)):h().map(Fie)},c.ticks=function(P){var S=h();return t(S[0],S[S.length-1],P??10)},c.tickFormat=function(P,S){return S==null?E:u(S)},c.nice=function(P){var S=h();return(!P||typeof P.range!="function")&&(P=e(S[0],S[S.length-1],P??10)),P?h(X$(S,P)):c},c.copy=function(){return Df(c,Vx(t,e,n,r,i,a,o,s,l,u))},c}function Uie(){return ar.apply(Vx(Dre,Mre,ki,Lx,ug,Mf,Dx,$x,ro,cR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Bie(){return ar.apply(Vx($re,Rre,Ci,Fx,cg,lg,Mx,Rx,ro,fR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function fg(){var t=0,e=1,n,r,i,a,o=pn,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(a(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function c(f){return function(h){var p,m;return arguments.length?([p,m]=h,o=f(p,m),u):[o(0),o(1)]}}return u.range=c(Ul),u.rangeRound=c(Ax),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return a=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function Na(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function dR(){var t=Ca(fg()(pn));return t.copy=function(){return Na(t,dR())},Di.apply(t,arguments)}function hR(){var t=Ix(fg()).domain([1,10]);return t.copy=function(){return Na(t,hR()).base(t.base())},Di.apply(t,arguments)}function pR(){var t=kx(fg());return t.copy=function(){return Na(t,pR()).constant(t.constant())},Di.apply(t,arguments)}function Ux(){var t=Cx(fg());return t.copy=function(){return Na(t,Ux()).exponent(t.exponent())},Di.apply(t,arguments)}function zie(){return Ux.apply(null,arguments).exponent(.5)}function mR(){var t=[],e=pn;function n(r){if(r!=null&&!isNaN(r=+r))return e(($f(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(_a),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Ine(t,a/r))},n.copy=function(){return mR(e).domain(t)},Di.apply(n,arguments)}function dg(){var t=0,e=.5,n=1,r=1,i,a,o,s,l,u=pn,c,f=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+c(g))-a)*(r*g<r*a?s:l),u(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,n]=g,i=c(t=+t),a=c(e=+e),o=c(n=+n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,p):[t,e,n]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(u=g,p):u};function m(g){return function(v){var _,y,w;return arguments.length?([_,y,w]=v,u=tre(g,[_,y,w]),p):[u(0),u(.5),u(1)]}}return p.range=m(Ul),p.rangeRound=m(Ax),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return c=g,i=g(t),a=g(e),o=g(n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,p}}function gR(){var t=Ca(dg()(pn));return t.copy=function(){return Na(t,gR())},Di.apply(t,arguments)}function vR(){var t=Ix(dg()).domain([.1,1,10]);return t.copy=function(){return Na(t,vR()).base(t.base())},Di.apply(t,arguments)}function yR(){var t=kx(dg());return t.copy=function(){return Na(t,yR()).constant(t.constant())},Di.apply(t,arguments)}function Bx(){var t=Cx(dg());return t.copy=function(){return Na(t,Bx()).exponent(t.exponent())},Di.apply(t,arguments)}function Wie(){return Bx.apply(null,arguments).exponent(.5)}const MP=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Lc,scaleDiverging:gR,scaleDivergingLog:vR,scaleDivergingPow:Bx,scaleDivergingSqrt:Wie,scaleDivergingSymlog:yR,scaleIdentity:Q$,scaleImplicit:o_,scaleLinear:bp,scaleLog:J$,scaleOrdinal:xx,scalePoint:Xu,scalePow:Nx,scaleQuantile:tR,scaleQuantize:nR,scaleRadial:eR,scaleSequential:dR,scaleSequentialLog:hR,scaleSequentialPow:Ux,scaleSequentialQuantile:mR,scaleSequentialSqrt:zie,scaleSequentialSymlog:pR,scaleSqrt:Sre,scaleSymlog:Z$,scaleThreshold:rR,scaleTime:Uie,scaleUtc:Bie,tickFormat:Y$},Symbol.toStringTag,{value:"Module"}));var qie=Nl;function Hie(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],o=e(a);if(o!=null&&(s===void 0?o===o&&!qie(o):n(o,s)))var s=o,l=a}return l}var hg=Hie;function Gie(t,e){return t>e}var _R=Gie,Kie=hg,Yie=_R,Qie=Vl;function Xie(t){return t&&t.length?Kie(t,Qie,Yie):void 0}var Jie=Xie;const pg=Re(Jie);function Zie(t,e){return t<e}var bR=Zie,eae=hg,tae=bR,nae=Vl;function rae(t){return t&&t.length?eae(t,nae,tae):void 0}var iae=rae;const mg=Re(iae);var aae=nx,oae=Gr,sae=O$,lae=Pn;function uae(t,e){var n=lae(t)?aae:sae;return n(t,oae(e))}var cae=uae,fae=T$,dae=cae;function hae(t,e){return fae(dae(t,e),1)}var pae=hae;const mae=Re(pae);var gae=vx;function vae(t,e){return gae(t,e)}var yae=vae;const Lf=Re(yae);var Bl=1e9,_ae={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Wx,nt=!0,rr="[DecimalError] ",co=rr+"Invalid argument: ",zx=rr+"Exponent out of range: ",zl=Math.floor,Ga=Math.pow,bae=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Rn,Ct=1e7,Je=7,wR=9007199254740991,Sp=zl(wR/Je),ie={};ie.absoluteValue=ie.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ie.comparedTo=ie.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};ie.decimalPlaces=ie.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Je;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ie.dividedBy=ie.div=function(t){return vi(this,new this.constructor(t))};ie.dividedToIntegerBy=ie.idiv=function(t){var e=this,n=e.constructor;return Be(vi(e,new n(t),0,1),n.precision)};ie.equals=ie.eq=function(t){return!this.cmp(t)};ie.exponent=function(){return _t(this)};ie.greaterThan=ie.gt=function(t){return this.cmp(t)>0};ie.greaterThanOrEqualTo=ie.gte=function(t){return this.cmp(t)>=0};ie.isInteger=ie.isint=function(){return this.e>this.d.length-2};ie.isNegative=ie.isneg=function(){return this.s<0};ie.isPositive=ie.ispos=function(){return this.s>0};ie.isZero=function(){return this.s===0};ie.lessThan=ie.lt=function(t){return this.cmp(t)<0};ie.lessThanOrEqualTo=ie.lte=function(t){return this.cmp(t)<1};ie.logarithm=ie.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Rn))throw Error(rr+"NaN");if(n.s<1)throw Error(rr+(n.s?"NaN":"-Infinity"));return n.eq(Rn)?new r(0):(nt=!1,e=vi(zc(n,a),zc(t,a),a),nt=!0,Be(e,i))};ie.minus=ie.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?SR(e,t):xR(e,(t.s=-t.s,t))};ie.modulo=ie.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(rr+"NaN");return n.s?(nt=!1,e=vi(n,t,0,1).times(t),nt=!0,n.minus(e)):Be(new r(n),i)};ie.naturalExponential=ie.exp=function(){return ER(this)};ie.naturalLogarithm=ie.ln=function(){return zc(this)};ie.negated=ie.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ie.plus=ie.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?xR(e,t):SR(e,(t.s=-t.s,t))};ie.precision=ie.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(co+t);if(e=_t(i)+1,r=i.d.length-1,n=r*Je+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ie.squareRoot=ie.sqrt=function(){var t,e,n,r,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(rr+"NaN")}for(t=_t(s),nt=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Nr(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=zl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(a=r,r=a.plus(vi(s,a,o+2)).times(.5),Nr(a.d).slice(0,o)===(e=Nr(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Be(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(e!="9999")break;o+=4}return nt=!0,Be(r,n)};ie.times=ie.mul=function(t){var e,n,r,i,a,o,s,l,u,c=this,f=c.constructor,h=c.d,p=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=p.length,l<u&&(a=h,h=p,p=a,o=l,l=u,u=o),a=[],o=l+u,r=o;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=a[i]+p[r]*h[i-r-1]+e,a[i--]=s%Ct|0,e=s/Ct|0;a[i]=(a[i]+e)%Ct|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,nt?Be(t,f.precision):t};ie.toDecimalPlaces=ie.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(zr(t,0,Bl),e===void 0?e=r.rounding:zr(e,0,8),Be(n,t+_t(n)+1,e))};ie.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Ao(r,!0):(zr(t,0,Bl),e===void 0?e=i.rounding:zr(e,0,8),r=Be(new i(r),t+1,e),n=Ao(r,!0,t+1)),n};ie.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Ao(i):(zr(t,0,Bl),e===void 0?e=a.rounding:zr(e,0,8),r=Be(new a(i),t+_t(i)+1,e),n=Ao(r.abs(),!1,t+_t(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ie.toInteger=ie.toint=function(){var t=this,e=t.constructor;return Be(new e(t),_t(t)+1,e.rounding)};ie.toNumber=function(){return+this};ie.toPower=ie.pow=function(t){var e,n,r,i,a,o,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Rn);if(s=new l(s),!s.s){if(t.s<1)throw Error(rr+"Infinity");return s}if(s.eq(Rn))return s;if(r=l.precision,t.eq(Rn))return Be(s,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=s.s,o){if((n=c<0?-c:c)<=wR){for(i=new l(Rn),e=Math.ceil(r/Je+4),nt=!1;n%2&&(i=i.times(s),FP(i.d,e)),n=zl(n/2),n!==0;)s=s.times(s),FP(s.d,e);return nt=!0,t.s<0?new l(Rn).div(i):Be(i,r)}}else if(a<0)throw Error(rr+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,nt=!1,i=t.times(zc(s,r+u)),nt=!0,i=ER(i),i.s=a,i};ie.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=_t(i),r=Ao(i,n<=a.toExpNeg||n>=a.toExpPos)):(zr(t,1,Bl),e===void 0?e=a.rounding:zr(e,0,8),i=Be(new a(i),t,e),n=_t(i),r=Ao(i,t<=n||n<=a.toExpNeg,t)),r};ie.toSignificantDigits=ie.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(zr(t,1,Bl),e===void 0?e=r.rounding:zr(e,0,8)),Be(new r(n),t,e)};ie.toString=ie.valueOf=ie.val=ie.toJSON=ie[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=_t(t),n=t.constructor;return Ao(t,e<=n.toExpNeg||e>=n.toExpPos)};function xR(t,e){var n,r,i,a,o,s,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),nt?Be(e,f):e;if(l=t.d,u=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(r=l,a=-a,s=u.length):(r=u,i=o,s=l.length),o=Math.ceil(f/Je),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/Ct|0,l[a]%=Ct;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,nt?Be(e,f):e}function zr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(co+t)}function Nr(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=Je-r.length,n&&(a+=Ki(n)),a+=r;o=t[e],r=o+"",n=Je-r.length,n&&(a+=Ki(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var vi=function(){function t(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%Ct|0,o=a/Ct|0;return o&&r.unshift(o),r}function e(r,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*Ct+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,l,u,c,f,h,p,m,g,v,_,y,w,I,E,P,S,A,T=r.constructor,k=r.s==i.s?1:-1,C=r.d,j=i.d;if(!r.s)return new T(r);if(!i.s)throw Error(rr+"Division by zero");for(l=r.e-i.e,S=j.length,E=C.length,p=new T(k),m=p.d=[],u=0;j[u]==(C[u]||0);)++u;if(j[u]>(C[u]||0)&&--l,a==null?y=a=T.precision:o?y=a+(_t(r)-_t(i))+1:y=a,y<0)return new T(0);if(y=y/Je+2|0,u=0,S==1)for(c=0,j=j[0],y++;(u<E||c)&&y--;u++)w=c*Ct+(C[u]||0),m[u]=w/j|0,c=w%j|0;else{for(c=Ct/(j[0]+1)|0,c>1&&(j=t(j,c),C=t(C,c),S=j.length,E=C.length),I=S,g=C.slice(0,S),v=g.length;v<S;)g[v++]=0;A=j.slice(),A.unshift(0),P=j[0],j[1]>=Ct/2&&++P;do c=0,s=e(j,g,S,v),s<0?(_=g[0],S!=v&&(_=_*Ct+(g[1]||0)),c=_/P|0,c>1?(c>=Ct&&(c=Ct-1),f=t(j,c),h=f.length,v=g.length,s=e(f,g,h,v),s==1&&(c--,n(f,S<h?A:j,h))):(c==0&&(s=c=1),f=j.slice()),h=f.length,h<v&&f.unshift(0),n(g,f,v),s==-1&&(v=g.length,s=e(j,g,S,v),s<1&&(c++,n(g,S<v?A:j,v))),v=g.length):s===0&&(c++,g=[0]),m[u++]=c,s&&g[0]?g[v++]=C[I]||0:(g=[C[I]],v=1);while((I++<E||g[0]!==void 0)&&y--)}return m[0]||m.shift(),p.e=l,Be(p,o?a+_t(p)+1:a)}}();function ER(t,e){var n,r,i,a,o,s,l=0,u=0,c=t.constructor,f=c.precision;if(_t(t)>16)throw Error(zx+_t(t));if(!t.s)return new c(Rn);for(nt=!1,s=f,o=new c(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(Ga(2,u))/Math.LN10*2+5|0,s+=r,n=i=a=new c(Rn),c.precision=s;;){if(i=Be(i.times(t),s),n=n.times(++l),o=a.plus(vi(i,n,s)),Nr(o.d).slice(0,s)===Nr(a.d).slice(0,s)){for(;u--;)a=Be(a.times(a),s);return c.precision=f,e==null?(nt=!0,Be(a,f)):a}a=o}}function _t(t){for(var e=t.e*Je,n=t.d[0];n>=10;n/=10)e++;return e}function ey(t,e,n){if(e>t.LN10.sd())throw nt=!0,n&&(t.precision=n),Error(rr+"LN10 precision limit exceeded");return Be(new t(t.LN10),e)}function Ki(t){for(var e="";t--;)e+="0";return e}function zc(t,e){var n,r,i,a,o,s,l,u,c,f=1,h=10,p=t,m=p.d,g=p.constructor,v=g.precision;if(p.s<1)throw Error(rr+(p.s?"NaN":"-Infinity"));if(p.eq(Rn))return new g(0);if(e==null?(nt=!1,u=v):u=e,p.eq(10))return e==null&&(nt=!0),ey(g,u);if(u+=h,g.precision=u,n=Nr(m),r=n.charAt(0),a=_t(p),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=Nr(p.d),r=n.charAt(0),f++;a=_t(p),r>1?(p=new g("0."+n),a++):p=new g(r+"."+n.slice(1))}else return l=ey(g,u+2,v).times(a+""),p=zc(new g(r+"."+n.slice(1)),u-h).plus(l),g.precision=v,e==null?(nt=!0,Be(p,v)):p;for(s=o=p=vi(p.minus(Rn),p.plus(Rn),u),c=Be(p.times(p),u),i=3;;){if(o=Be(o.times(c),u),l=s.plus(vi(o,new g(i),u)),Nr(l.d).slice(0,u)===Nr(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(ey(g,u+2,v).times(a+""))),s=vi(s,new g(f),u),g.precision=v,e==null?(nt=!0,Be(s,v)):s;s=l,i+=2}}function LP(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=zl(n/Je),t.d=[],r=(n+1)%Je,n<0&&(r+=Je),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Je;r<i;)t.d.push(+e.slice(r,r+=Je));e=e.slice(r),r=Je-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),nt&&(t.e>Sp||t.e<-Sp))throw Error(zx+n)}else t.s=0,t.e=0,t.d=[0];return t}function Be(t,e,n){var r,i,a,o,s,l,u,c,f=t.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=Je,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/Je),a=f.length,c>=a)return t;for(u=a=f[c],o=1;a>=10;a/=10)o++;r%=Je,i=r-Je+o}if(n!==void 0&&(a=Ga(10,o-i-1),s=u/a%10|0,l=e<0||f[c+1]!==void 0||u%a,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Ga(10,o-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(a=_t(t),f.length=1,e=e-a-1,f[0]=Ga(10,(Je-e%Je)%Je),t.e=zl(-e/Je)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,a=1,c--):(f.length=c+1,a=Ga(10,Je-r),f[c]=i>0?(u/Ga(10,o-i)%Ga(10,i)|0)*a:0),l)for(;;)if(c==0){(f[0]+=a)==Ct&&(f[0]=1,++t.e);break}else{if(f[c]+=a,f[c]!=Ct)break;f[c--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(nt&&(t.e>Sp||t.e<-Sp))throw Error(zx+_t(t));return t}function SR(t,e){var n,r,i,a,o,s,l,u,c,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),nt?Be(e,p):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),o=u-r,o){for(c=o<0,c?(n=l,o=-o,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(p/Je),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}o=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=Ct-1;--l[a],l[i]+=Ct}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,nt?Be(e,p):e):new h(0)}function Ao(t,e,n){var r,i=_t(t),a=Nr(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ki(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ki(-i-1)+a,n&&(r=n-o)>0&&(a+=Ki(r))):i>=o?(a+=Ki(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Ki(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Ki(r))),t.s<0?"-"+a:a}function FP(t,e){if(t.length>e)return t.length=e,!0}function AR(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(co+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return LP(o,a.toString())}else if(typeof a!="string")throw Error(co+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,bae.test(a))LP(o,a);else throw Error(co+a)}if(i.prototype=ie,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=AR,i.config=i.set=wae,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function wae(t){if(!t||typeof t!="object")throw Error(rr+"Object expected");var e,n,r,i=["precision",1,Bl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(zl(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(co+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(co+n+": "+r);return this}var Wx=AR(_ae);Rn=new Wx(1);const Ve=Wx;function xae(t){return Tae(t)||Aae(t)||Sae(t)||Eae()}function Eae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sae(t,e){if(t){if(typeof t=="string")return c_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c_(t,e)}}function Aae(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Tae(t){if(Array.isArray(t))return c_(t)}function c_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Pae=function(e){return e},TR={},PR=function(e){return e===TR},VP=function(e){return function n(){return arguments.length===0||arguments.length===1&&PR(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Oae=function t(e,n){return e===1?n:VP(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==TR}).length;return o>=e?n.apply(void 0,i):t(e-o,VP(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(f){return PR(f)?l.shift():f});return n.apply(void 0,xae(c).concat(l))}))})},gg=function(e){return Oae(e.length,e)},f_=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Iae=gg(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),kae=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Pae;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},d_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},OR=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(s,l){return s===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function Cae(t){var e;return t===0?e=1:e=Math.floor(new Ve(t).abs().log(10).toNumber())+1,e}function Nae(t,e,n){for(var r=new Ve(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var jae=gg(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),$ae=gg(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Rae=gg(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const vg={rangeStep:Nae,getDigitCount:Cae,interpolateNumber:jae,uninterpolateNumber:$ae,uninterpolateTruncation:Rae};function h_(t){return Lae(t)||Mae(t)||IR(t)||Dae()}function Dae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mae(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Lae(t){if(Array.isArray(t))return p_(t)}function Wc(t,e){return Uae(t)||Vae(t,e)||IR(t,e)||Fae()}function Fae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IR(t,e){if(t){if(typeof t=="string")return p_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p_(t,e)}}function p_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vae(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function Uae(t){if(Array.isArray(t))return t}function kR(t){var e=Wc(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function CR(t,e,n){if(t.lte(0))return new Ve(0);var r=vg.getDigitCount(t.toNumber()),i=new Ve(10).pow(r),a=t.div(i),o=r!==1?.05:.1,s=new Ve(Math.ceil(a.div(o).toNumber())).add(n).mul(o),l=s.mul(i);return e?l:new Ve(Math.ceil(l))}function Bae(t,e,n){var r=1,i=new Ve(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Ve(10).pow(vg.getDigitCount(t)-1),i=new Ve(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Ve(Math.floor(t)))}else t===0?i=new Ve(Math.floor((e-1)/2)):n||(i=new Ve(Math.floor(t)));var o=Math.floor((e-1)/2),s=kae(Iae(function(l){return i.add(new Ve(l-o).mul(r)).toNumber()}),f_);return s(0,e)}function NR(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Ve(0),tickMin:new Ve(0),tickMax:new Ve(0)};var a=CR(new Ve(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new Ve(0):(o=new Ve(t).add(e).div(2),o=o.sub(new Ve(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new Ve(e).sub(o).div(a).toNumber()),u=s+l+1;return u>n?NR(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:a,tickMin:o.sub(new Ve(s).mul(a)),tickMax:o.add(new Ve(l).mul(a))})}function zae(t){var e=Wc(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=kR([n,r]),l=Wc(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(h_(f_(0,i-1).map(function(){return 1/0}))):[].concat(h_(f_(0,i-1).map(function(){return-1/0})),[c]);return n>r?d_(f):f}if(u===c)return Bae(u,i,a);var h=NR(u,c,o,a),p=h.step,m=h.tickMin,g=h.tickMax,v=vg.rangeStep(m,g.add(new Ve(.1).mul(p)),p);return n>r?d_(v):v}function Wae(t,e){var n=Wc(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=kR([r,i]),s=Wc(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=CR(new Ve(u).sub(l).div(c-1),a,0),h=[].concat(h_(vg.rangeStep(new Ve(l),new Ve(u).sub(new Ve(.99).mul(f)),f)),[u]);return r>i?d_(h):h}var qae=OR(zae),Hae=OR(Wae),Gae="Invariant failed";function To(t,e){throw new Error(Gae)}var Kae=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function il(t){"@babel/helpers - typeof";return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},il(t)}function Ap(){return Ap=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ap.apply(this,arguments)}function Yae(t,e){return Zae(t)||Jae(t,e)||Xae(t,e)||Qae()}function Qae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xae(t,e){if(t){if(typeof t=="string")return UP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UP(t,e)}}function UP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Zae(t){if(Array.isArray(t))return t}function eoe(t,e){if(t==null)return{};var n=toe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function toe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function noe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function roe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RR(r.key),r)}}function ioe(t,e,n){return e&&roe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function aoe(t,e,n){return e=Tp(e),ooe(t,jR()?Reflect.construct(e,n||[],Tp(t).constructor):e.apply(t,n))}function ooe(t,e){if(e&&(il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return soe(t)}function soe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jR=function(){return!!t})()}function Tp(t){return Tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tp(t)}function loe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m_(t,e)}function m_(t,e){return m_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},m_(t,e)}function $R(t,e,n){return e=RR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RR(t){var e=uoe(t,"string");return il(e)=="symbol"?e:e+""}function uoe(t,e){if(il(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ff=function(t){function e(){return noe(this,e),aoe(this,e,arguments)}return loe(e,t),ioe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,h=eoe(r,Kae),p=ue(h,!1);this.props.direction==="x"&&c.type!=="number"&&To();var m=l.map(function(g){var v=u(g,s),_=v.x,y=v.y,w=v.value,I=v.errorVal;if(!I)return null;var E=[],P,S;if(Array.isArray(I)){var A=Yae(I,2);P=A[0],S=A[1]}else P=S=I;if(a==="vertical"){var T=c.scale,k=y+i,C=k+o,j=k-o,N=T(w-P),U=T(w+S);E.push({x1:U,y1:C,x2:U,y2:j}),E.push({x1:N,y1:k,x2:U,y2:k}),E.push({x1:N,y1:C,x2:N,y2:j})}else if(a==="horizontal"){var D=f.scale,F=_+i,q=F-o,V=F+o,z=D(w-P),Y=D(w+S);E.push({x1:q,y1:Y,x2:V,y2:Y}),E.push({x1:F,y1:z,x2:F,y2:Y}),E.push({x1:q,y1:z,x2:V,y2:z})}return R.createElement(Ce,Ap({className:"recharts-errorBar",key:"bar-".concat(E.map(function(ee){return"".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))},p),E.map(function(ee){return R.createElement("line",Ap({},ee,{key:"line-".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))}))});return R.createElement(Ce,{className:"recharts-errorBars"},m)}}])}(R.Component);$R(Ff,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});$R(Ff,"displayName","ErrorBar");function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}function BP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BP(Object(n),!0).forEach(function(r){coe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function coe(t,e,n){return e=foe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function foe(t){var e=doe(t,"string");return qc(e)=="symbol"?e:e+""}function doe(t,e){if(qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DR=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=jn(n,Os);if(!o)return null;var s=Os.defaultProps,l=s!==void 0?Fa(Fa({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(r||[]).reduce(function(c,f){var h=f.item,p=f.props,m=p.sectors||p.data||[];return c.concat(m.map(function(g){return{type:o.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(r||[]).map(function(c){var f=c.item,h=f.type.defaultProps,p=h!==void 0?Fa(Fa({},h),f.props):{},m=p.dataKey,g=p.name,v=p.legendType,_=p.hide;return{inactive:_,dataKey:m,type:l.iconType||v||"square",color:qx(f),value:g||m,payload:p}}),Fa(Fa(Fa({},l),Os.getWithHeight(o,i)),{},{payload:u,item:o})};function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}function zP(t){return goe(t)||moe(t)||poe(t)||hoe()}function hoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function poe(t,e){if(t){if(typeof t=="string")return g_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g_(t,e)}}function moe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function goe(t){if(Array.isArray(t))return g_(t)}function g_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function WP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WP(Object(n),!0).forEach(function(r){ks(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ks(t,e,n){return e=voe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function voe(t){var e=yoe(t,"string");return Hc(e)=="symbol"?e:e+""}function yoe(t,e){if(Hc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function St(t,e,n){return ve(t)||ve(e)?n:Tt(e)?Ln(t,e,n):fe(e)?e(t):n}function Ju(t,e,n,r){var i=mae(t,function(s){return St(s,e)});if(n==="number"){var a=i.filter(function(s){return J(s)||parseFloat(s)});return a.length?[mg(a),pg(a)]:[1/0,-1/0]}var o=r?i.filter(function(s){return!ve(s)}):i;return o.map(function(s){return Tt(s)||s instanceof Date?s:""})}var _oe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(dn(f-c)!==dn(h-f)){var m=[];if(dn(h-f)===dn(l[1]-l[0])){p=h;var g=f+l[1]-l[0];m[0]=Math.min(g,(g+c)/2),m[1]=Math.max(g,(g+c)/2)}else{p=c;var v=h+l[1]-l[0];m[0]=Math.min(f,(v+f)/2),m[1]=Math.max(f,(v+f)/2)}var _=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>_[0]&&e<=_[1]||e>=m[0]&&e<=m[1]){o=i[u].index;break}}else{var y=Math.min(c,h),w=Math.max(c,h);if(e>(y+f)/2&&e<=(w+f)/2){o=i[u].index;break}}}else for(var I=0;I<s;I++)if(I===0&&e<=(r[I].coordinate+r[I+1].coordinate)/2||I>0&&I<s-1&&e>(r[I].coordinate+r[I-1].coordinate)/2&&e<=(r[I].coordinate+r[I+1].coordinate)/2||I===s-1&&e>(r[I].coordinate+r[I-1].coordinate)/2){o=r[I].index;break}return o},qx=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?dt(dt({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},boe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,u=s.length;l<u;l++)for(var c=a[s[l]].stackGroups,f=Object.keys(c),h=0,p=f.length;h<p;h++){var m=c[f[h]],g=m.items,v=m.cateAxisId,_=g.filter(function(S){return gi(S.type).indexOf("Bar")>=0});if(_&&_.length){var y=_[0].type.defaultProps,w=y!==void 0?dt(dt({},y),_[0].props):_[0].props,I=w.barSize,E=w[v];o[E]||(o[E]=[]);var P=ve(I)?n:I;o[E].push({item:_[0],stackList:_.slice(1),barSize:ve(P)?void 0:hn(P,r,0)})}}return o},woe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var u=hn(n,i,0,!0),c,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=i/l,m=o.reduce(function(I,E){return I+E.barSize||0},0);m+=(l-1)*u,m>=i&&(m-=(l-1)*u,u=0),m>=i&&p>0&&(h=!0,p*=.9,m=l*p);var g=(i-m)/2>>0,v={offset:g-u,size:0};c=o.reduce(function(I,E){var P={item:E.item,position:{offset:v.offset+v.size+u,size:h?p:E.barSize}},S=[].concat(zP(I),[P]);return v=S[S.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(A){S.push({item:A,position:v})}),S},f)}else{var _=hn(r,i,0,!0);i-2*_-(l-1)*u<=0&&(u=0);var y=(i-2*_-(l-1)*u)/l;y>1&&(y>>=0);var w=s===+s?Math.min(y,s):y;c=o.reduce(function(I,E,P){var S=[].concat(zP(I),[{item:E.item,position:{offset:_+(y+u)*P+(y-w)/2,size:w}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(A){S.push({item:A,position:S[S.length-1].position})}),S},f)}return c},xoe=function(e,n,r,i){var a=r.children,o=r.width,s=r.margin,l=o-(s.left||0)-(s.right||0),u=DR({children:a,legendWidth:l});if(u){var c=i||{},f=c.width,h=c.height,p=u.align,m=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&p!=="center"&&J(e[p]))return dt(dt({},e),{},ks({},p,e[p]+(f||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&m!=="middle"&&J(e[m]))return dt(dt({},e),{},ks({},m,e[m]+(h||0)))}return e},Eoe=function(e,n,r){return ve(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},MR=function(e,n,r,i,a){var o=n.props.children,s=Fn(o,Ff).filter(function(u){return Eoe(i,a,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=St(c,r);if(ve(f))return u;var h=Array.isArray(f)?[mg(f),pg(f)]:[f,f],p=l.reduce(function(m,g){var v=St(c,g,0),_=h[0]-Math.abs(Array.isArray(v)?v[0]:v),y=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(_,m[0]),Math.max(y,m[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},Soe=function(e,n,r,i,a){var o=n.map(function(s){return MR(e,s,r,a,i)}).filter(function(s){return!ve(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},LR=function(e,n,r,i,a){var o=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&MR(e,l,u,i)||Ju(e,u,r,a)});if(r==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},FR=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},VR=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(o=!0),l.coordinate});return a||s.push(n),o||s.push(r),s},hi=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?dn(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return c.filter(function(f){return!Cf(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:a?a[f]:f,index:h,offset:u}})},ty=new WeakMap,Ld=function(e,n){if(typeof n!="function")return e;ty.has(e)||ty.set(e,new WeakMap);var r=ty.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},UR=function(e,n,r){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Lc(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:bp(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Xu(),realScaleType:"point"}:a==="category"?{scale:Lc(),realScaleType:"band"}:{scale:bp(),realScaleType:"linear"};if(xo(i)){var l="scale".concat(eg(i));return{scale:(MP[l]||Xu)(),realScaleType:MP[l]?l:"point"}}return fe(i)?{scale:i}:{scale:Xu(),realScaleType:"point"}},qP=1e-4,BR=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-qP,o=Math.max(i[0],i[1])+qP,s=e(n[0]),l=e(n[r-1]);(s<a||s>o||l<a||l>o)&&e.domain([n[0],n[r-1]])}},Aoe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Toe=function(e,n){if(!n||n.length!==2||!J(n[0])||!J(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!J(e[0])||e[0]<r)&&(a[0]=r),(!J(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},Poe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0,s=0;s<n;++s){var l=Cf(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1])}},Ooe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var s=Cf(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},Ioe={sign:Poe,expand:K7,none:Qs,silhouette:Y7,wiggle:Q7,positive:Ooe},koe=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),a=Ioe[r],o=G7().keys(i).value(function(s,l){return+St(s,l,0)}).order(V0).offset(a);return o(e)},Coe=function(e,n,r,i,a,o){if(!e)return null;var s=o?n.reverse():n,l={},u=s.reduce(function(f,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?dt(dt({},h.type.defaultProps),h.props):h.props,g=m.stackId,v=m.hide;if(v)return f;var _=m[r],y=f[_]||{hasStack:!1,stackGroups:{}};if(Tt(g)){var w=y.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};w.items.push(h),y.hasStack=!0,y.stackGroups[g]=w}else y.stackGroups[Ml("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return dt(dt({},f),{},ks({},_,y))},l),c={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,v){var _=p.stackGroups[v];return dt(dt({},g),{},ks({},v,{numericAxisId:r,cateAxisId:i,items:_.items,stackedData:koe(e,_.items,a)}))},m)}return dt(dt({},f),{},ks({},h,p))},c)},zR=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=qae(u,a,s);return e.domain([mg(c),pg(c)]),{niceTicks:c}}if(a&&i==="number"){var f=e.domain(),h=Hae(f,a,s);return{niceTicks:h}}return null};function HP(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ve(i[e.dataKey])){var s=Zh(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=St(i,ve(o)?e.dataKey:o);return ve(l)?null:e.scale(l)}var GP=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=St(o,n.dataKey,n.domain[s]);return ve(l)?null:n.scale(l)-a/2+i},Noe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},joe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?dt(dt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Tt(a)){var o=n[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},$oe=function(e){return e.reduce(function(n,r){return[mg(r.concat([n[0]]).filter(J)),pg(r.concat([n[1]]).filter(J))]},[1/0,-1/0])},WR=function(e,n,r){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(u,c){var f=$oe(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},KP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,YP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,v_=function(e,n,r){if(fe(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(J(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(KP.test(e[0])){var a=+KP.exec(e[0])[1];i[0]=n[0]-a}else fe(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(J(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(YP.test(e[1])){var o=+YP.exec(e[1])[1];i[1]=n[1]+o}else fe(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Pp=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=_x(n,function(f){return f.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var u=a[s],c=a[s-1];o=Math.min((u.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},QP=function(e,n,r){return!e||!e.length||Lf(e,Ln(r,"type.defaultProps.domain"))?n:e},qR=function(e,n){var r=e.type.defaultProps?dt(dt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,o=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return dt(dt({},ue(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:qx(e),value:St(n,i),type:l,payload:n,chartType:u,hide:c})};function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}function XP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ni(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XP(Object(n),!0).forEach(function(r){HR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HR(t,e,n){return e=Roe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Roe(t){var e=Doe(t,"string");return Gc(e)=="symbol"?e:e+""}function Doe(t,e){if(Gc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Moe(t,e){return Uoe(t)||Voe(t,e)||Foe(t,e)||Loe()}function Loe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Foe(t,e){if(t){if(typeof t=="string")return JP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JP(t,e)}}function JP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Voe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Uoe(t){if(Array.isArray(t))return t}var Op=Math.PI/180,Boe=function(e){return e*180/Math.PI},Ke=function(e,n,r,i){return{x:e+Math.cos(-Op*i)*r,y:n+Math.sin(-Op*i)*r}},GR=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},zoe=function(e,n,r,i,a){var o=e.width,s=e.height,l=e.startAngle,u=e.endAngle,c=hn(e.cx,o,o/2),f=hn(e.cy,s,s/2),h=GR(o,s,r),p=hn(e.innerRadius,h,0),m=hn(e.outerRadius,h,h*.8),g=Object.keys(n);return g.reduce(function(v,_){var y=n[_],w=y.domain,I=y.reversed,E;if(ve(y.range))i==="angleAxis"?E=[l,u]:i==="radiusAxis"&&(E=[p,m]),I&&(E=[E[1],E[0]]);else{E=y.range;var P=E,S=Moe(P,2);l=S[0],u=S[1]}var A=UR(y,a),T=A.realScaleType,k=A.scale;k.domain(w).range(E),BR(k);var C=zR(k,ni(ni({},y),{},{realScaleType:T})),j=ni(ni(ni({},y),C),{},{range:E,radius:m,realScaleType:T,scale:k,cx:c,cy:f,innerRadius:p,outerRadius:m,startAngle:l,endAngle:u});return ni(ni({},v),{},HR({},_,j))},{})},Woe=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},qoe=function(e,n){var r=e.x,i=e.y,a=n.cx,o=n.cy,s=Woe({x:r,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(r-a)/s,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:s,angle:Boe(u),angleInRadian:u}},Hoe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},Goe=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},ZP=function(e,n){var r=e.x,i=e.y,a=qoe({x:r,y:i},n),o=a.radius,s=a.angle,l=n.innerRadius,u=n.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var c=Hoe(n),f=c.startAngle,h=c.endAngle,p=s,m;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}return m?ni(ni({},n),{},{radius:o,angle:Goe(p,n)}):null},KR=function(e){return!M.isValidElement(e)&&!fe(e)&&typeof e!="boolean"?e.className:""};function Kc(t){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kc(t)}var Koe=["offset"];function Yoe(t){return Zoe(t)||Joe(t)||Xoe(t)||Qoe()}function Qoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xoe(t,e){if(t){if(typeof t=="string")return y_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y_(t,e)}}function Joe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zoe(t){if(Array.isArray(t))return y_(t)}function y_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ese(t,e){if(t==null)return{};var n=tse(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function eO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eO(Object(n),!0).forEach(function(r){nse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nse(t,e,n){return e=rse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rse(t){var e=ise(t,"string");return Kc(e)=="symbol"?e:e+""}function ise(t,e){if(Kc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yc(){return Yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yc.apply(this,arguments)}var ase=function(e){var n=e.value,r=e.formatter,i=ve(e.children)?n:e.children;return fe(r)?r(i):i},ose=function(e,n){var r=dn(n-e),i=Math.min(Math.abs(n-e),360);return r*i},sse=function(e,n,r){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,u=l.cx,c=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,m=l.endAngle,g=l.clockWise,v=(f+h)/2,_=ose(p,m),y=_>=0?1:-1,w,I;i==="insideStart"?(w=p+y*o,I=g):i==="insideEnd"?(w=m-y*o,I=!g):i==="end"&&(w=m+y*o,I=g),I=_<=0?I:!I;var E=Ke(u,c,v,w),P=Ke(u,c,v,w+(I?1:-1)*359),S="M".concat(E.x,",").concat(E.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(I?0:1,`,
    `).concat(P.x,",").concat(P.y),A=ve(e.id)?Ml("recharts-radial-line-"):e.id;return R.createElement("text",Yc({},r,{dominantBaseline:"central",className:_e("recharts-radial-bar-label",s)}),R.createElement("defs",null,R.createElement("path",{id:A,d:S})),R.createElement("textPath",{xlinkHref:"#".concat(A)},n))},lse=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,o=a.cx,s=a.cy,l=a.innerRadius,u=a.outerRadius,c=a.startAngle,f=a.endAngle,h=(c+f)/2;if(i==="outside"){var p=Ke(o,s,u+r,h),m=p.x,g=p.y;return{x:m,y:g,textAnchor:m>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(l+u)/2,_=Ke(o,s,v,h),y=_.x,w=_.y;return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},use=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,o=n,s=o.x,l=o.y,u=o.width,c=o.height,f=c>=0?1:-1,h=f*i,p=f>0?"end":"start",m=f>0?"start":"end",g=u>=0?1:-1,v=g*i,_=g>0?"end":"start",y=g>0?"start":"end";if(a==="top"){var w={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return wt(wt({},w),r?{height:Math.max(l-r.y,0),width:u}:{})}if(a==="bottom"){var I={x:s+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:m};return wt(wt({},I),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(a==="left"){var E={x:s-v,y:l+c/2,textAnchor:_,verticalAnchor:"middle"};return wt(wt({},E),r?{width:Math.max(E.x-r.x,0),height:c}:{})}if(a==="right"){var P={x:s+u+v,y:l+c/2,textAnchor:y,verticalAnchor:"middle"};return wt(wt({},P),r?{width:Math.max(r.x+r.width-P.x,0),height:c}:{})}var S=r?{width:u,height:c}:{};return a==="insideLeft"?wt({x:s+v,y:l+c/2,textAnchor:y,verticalAnchor:"middle"},S):a==="insideRight"?wt({x:s+u-v,y:l+c/2,textAnchor:_,verticalAnchor:"middle"},S):a==="insideTop"?wt({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:m},S):a==="insideBottom"?wt({x:s+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:p},S):a==="insideTopLeft"?wt({x:s+v,y:l+h,textAnchor:y,verticalAnchor:m},S):a==="insideTopRight"?wt({x:s+u-v,y:l+h,textAnchor:_,verticalAnchor:m},S):a==="insideBottomLeft"?wt({x:s+v,y:l+c-h,textAnchor:y,verticalAnchor:p},S):a==="insideBottomRight"?wt({x:s+u-v,y:l+c-h,textAnchor:_,verticalAnchor:p},S):jl(a)&&(J(a.x)||to(a.x))&&(J(a.y)||to(a.y))?wt({x:s+hn(a.x,u),y:l+hn(a.y,c),textAnchor:"end",verticalAnchor:"end"},S):wt({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},S)},cse=function(e){return"cx"in e&&J(e.cx)};function $t(t){var e=t.offset,n=e===void 0?5:e,r=ese(t,Koe),i=wt({offset:n},r),a=i.viewBox,o=i.position,s=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,h=i.textBreakAll;if(!a||ve(s)&&ve(l)&&!M.isValidElement(u)&&!fe(u))return null;if(M.isValidElement(u))return M.cloneElement(u,i);var p;if(fe(u)){if(p=M.createElement(u,i),M.isValidElement(p))return p}else p=ase(i);var m=cse(a),g=ue(i,!0);if(m&&(o==="insideStart"||o==="insideEnd"||o==="end"))return sse(i,p,g);var v=m?lse(i):use(i);return R.createElement(So,Yc({className:_e("recharts-label",f)},g,v,{breakAll:h}),p)}$t.displayName="Label";var YR=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,h=e.y,p=e.top,m=e.left,g=e.width,v=e.height,_=e.clockWise,y=e.labelViewBox;if(y)return y;if(J(g)&&J(v)){if(J(f)&&J(h))return{x:f,y:h,width:g,height:v};if(J(p)&&J(m))return{x:p,y:m,width:g,height:v}}return J(f)&&J(h)?{x:f,y:h,width:0,height:0}:J(n)&&J(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:_}:e.viewBox?e.viewBox:{}},fse=function(e,n){return e?e===!0?R.createElement($t,{key:"label-implicit",viewBox:n}):Tt(e)?R.createElement($t,{key:"label-implicit",viewBox:n,value:e}):M.isValidElement(e)?e.type===$t?M.cloneElement(e,{key:"label-implicit",viewBox:n}):R.createElement($t,{key:"label-implicit",content:e,viewBox:n}):fe(e)?R.createElement($t,{key:"label-implicit",content:e,viewBox:n}):jl(e)?R.createElement($t,Yc({viewBox:n},e,{key:"label-implicit"})):null:null},dse=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=YR(e),o=Fn(i,$t).map(function(l,u){return M.cloneElement(l,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return o;var s=fse(e.label,n||a);return[s].concat(Yoe(o))};$t.parseViewBox=YR;$t.renderCallByParent=dse;function hse(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var pse=hse;const mse=Re(pse);function Qc(t){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(t)}var gse=["valueAccessor"],vse=["data","dataKey","clockWise","id","textBreakAll"];function yse(t){return xse(t)||wse(t)||bse(t)||_se()}function _se(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bse(t,e){if(t){if(typeof t=="string")return __(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return __(t,e)}}function wse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xse(t){if(Array.isArray(t))return __(t)}function __(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ip(){return Ip=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ip.apply(this,arguments)}function tO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tO(Object(n),!0).forEach(function(r){Ese(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ese(t,e,n){return e=Sse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sse(t){var e=Ase(t,"string");return Qc(e)=="symbol"?e:e+""}function Ase(t,e){if(Qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rO(t,e){if(t==null)return{};var n=Tse(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Tse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Pse=function(e){return Array.isArray(e.value)?mse(e.value):e.value};function yi(t){var e=t.valueAccessor,n=e===void 0?Pse:e,r=rO(t,gse),i=r.data,a=r.dataKey,o=r.clockWise,s=r.id,l=r.textBreakAll,u=rO(r,vse);return!i||!i.length?null:R.createElement(Ce,{className:"recharts-label-list"},i.map(function(c,f){var h=ve(a)?n(c,f):St(c&&c.payload,a),p=ve(s)?{}:{id:"".concat(s,"-").concat(f)};return R.createElement($t,Ip({},ue(c,!0),u,p,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:$t.parseViewBox(ve(o)?c:nO(nO({},c),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}yi.displayName="LabelList";function Ose(t,e){return t?t===!0?R.createElement(yi,{key:"labelList-implicit",data:e}):R.isValidElement(t)||fe(t)?R.createElement(yi,{key:"labelList-implicit",data:e,content:t}):jl(t)?R.createElement(yi,Ip({data:e},t,{key:"labelList-implicit"})):null:null}function Ise(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Fn(r,yi).map(function(o,s){return M.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var a=Ose(t.label,e);return[a].concat(yse(i))}yi.renderCallByParent=Ise;function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}function b_(){return b_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b_.apply(this,arguments)}function iO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iO(Object(n),!0).forEach(function(r){kse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kse(t,e,n){return e=Cse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cse(t){var e=Nse(t,"string");return Xc(e)=="symbol"?e:e+""}function Nse(t,e){if(Xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jse=function(e,n){var r=dn(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Fd=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,f=Math.asin(l/c)/Op,h=u?a:a+o*f,p=Ke(n,r,c,h),m=Ke(n,r,i,h),g=u?a-o*f:a,v=Ke(n,r,c*Math.cos(f*Op),g);return{center:p,circleTangency:m,lineTangency:v,theta:f}},QR=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=jse(o,s),u=o+l,c=Ke(n,r,a,o),f=Ke(n,r,a,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=Ke(n,r,i,o),m=Ke(n,r,i,u);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},$se=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=dn(c-u),h=Fd({cx:n,cy:r,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:l}),p=h.circleTangency,m=h.lineTangency,g=h.theta,v=Fd({cx:n,cy:r,radius:a,angle:c,sign:-f,cornerRadius:o,cornerIsExternal:l}),_=v.circleTangency,y=v.lineTangency,w=v.theta,I=l?Math.abs(u-c):Math.abs(u-c)-g-w;if(I<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):QR({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c});var E="M ".concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(I>180),",").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(i>0){var P=Fd({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),S=P.circleTangency,A=P.lineTangency,T=P.theta,k=Fd({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),C=k.circleTangency,j=k.lineTangency,N=k.theta,U=l?Math.abs(u-c):Math.abs(u-c)-T-N;if(U<0&&o===0)return"".concat(E,"L").concat(n,",").concat(r,"Z");E+="L".concat(j.x,",").concat(j.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(U>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,"Z")}else E+="L".concat(n,",").concat(r,"Z");return E},Rse={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},XR=function(e){var n=aO(aO({},Rse),e),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,h=n.className;if(o<a||c===f)return null;var p=_e("recharts-sector",h),m=o-a,g=hn(s,m,0,!0),v;return g>0&&Math.abs(c-f)<360?v=$se({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):v=QR({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:c,endAngle:f}),R.createElement("path",b_({},ue(n,!0),{className:p,d:v,role:"img"}))};function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}function w_(){return w_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w_.apply(this,arguments)}function oO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oO(Object(n),!0).forEach(function(r){Dse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dse(t,e,n){return e=Mse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mse(t){var e=Lse(t,"string");return Jc(e)=="symbol"?e:e+""}function Lse(t,e){if(Jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lO={curveBasisClosed:D7,curveBasisOpen:M7,curveBasis:R7,curveBumpX:w7,curveBumpY:x7,curveLinearClosed:L7,curveLinear:ng,curveMonotoneX:F7,curveMonotoneY:V7,curveNatural:U7,curveStep:B7,curveStepAfter:W7,curveStepBefore:z7},Vd=function(e){return e.x===+e.x&&e.y===+e.y},xu=function(e){return e.x},Eu=function(e){return e.y},Fse=function(e,n){if(fe(e))return e;var r="curve".concat(eg(e));return(r==="curveMonotone"||r==="curveBump")&&n?lO["".concat(r).concat(n==="vertical"?"Y":"X")]:lO[r]||ng},Vse=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=Fse(r,s),f=u?a.filter(function(g){return Vd(g)}):a,h;if(Array.isArray(o)){var p=u?o.filter(function(g){return Vd(g)}):o,m=f.map(function(g,v){return sO(sO({},g),{},{base:p[v]})});return s==="vertical"?h=kd().y(Eu).x1(xu).x0(function(g){return g.base.x}):h=kd().x(xu).y1(Eu).y0(function(g){return g.base.y}),h.defined(Vd).curve(c),h(m)}return s==="vertical"&&J(o)?h=kd().y(Eu).x1(xu).x0(o):J(o)?h=kd().x(xu).y1(Eu).y0(o):h=q2().x(xu).y(Eu),h.defined(Vd).curve(c),h(f)},kp=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?Vse(e):i;return M.createElement("path",w_({},ue(e,!1),ep(e),{className:_e("recharts-curve",n),d:o,ref:a}))},JR={exports:{}},Use="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Bse=Use,zse=Bse;function ZR(){}function eD(){}eD.resetWarningCache=ZR;var Wse=function(){function t(r,i,a,o,s,l){if(l!==zse){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:eD,resetWarningCache:ZR};return n.PropTypes=n,n};JR.exports=Wse();var qse=JR.exports;const $e=Re(qse);var Hse=Object.getOwnPropertyNames,Gse=Object.getOwnPropertySymbols,Kse=Object.prototype.hasOwnProperty;function uO(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function Ud(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,o=a.get(n),s=a.get(r);if(o&&s)return o===r&&s===n;a.set(n,r),a.set(r,n);var l=t(n,r,i);return a.delete(n),a.delete(r),l}}function cO(t){return Hse(t).concat(Gse(t))}var Yse=Object.hasOwn||function(t,e){return Kse.call(t,e)};function Do(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Qse="__v",Xse="__o",Jse="_owner",fO=Object.getOwnPropertyDescriptor,dO=Object.keys;function Zse(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function ele(t,e){return Do(t.getTime(),e.getTime())}function tle(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function nle(t,e){return t===e}function hO(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var u=e.entries(),c=!1,f=0;(s=u.next())&&!s.done;){if(i[f]){f++;continue}var h=o.value,p=s.value;if(n.equals(h[0],p[0],l,f,t,e,n)&&n.equals(h[1],p[1],h[0],p[0],t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}var rle=Do;function ile(t,e,n){var r=dO(t),i=r.length;if(dO(e).length!==i)return!1;for(;i-- >0;)if(!tD(t,e,n,r[i]))return!1;return!0}function Su(t,e,n){var r=cO(t),i=r.length;if(cO(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=r[i],!tD(t,e,n,a)||(o=fO(t,a),s=fO(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function ale(t,e){return Do(t.valueOf(),e.valueOf())}function ole(t,e){return t.source===e.source&&t.flags===e.flags}function pO(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.values(),o,s;(o=a.next())&&!o.done;){for(var l=e.values(),u=!1,c=0;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(o.value,s.value,o.value,s.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function sle(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function lle(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function tD(t,e,n,r){return(r===Jse||r===Xse||r===Qse)&&(t.$$typeof||e.$$typeof)?!0:Yse(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var ule="[object Arguments]",cle="[object Boolean]",fle="[object Date]",dle="[object Error]",hle="[object Map]",ple="[object Number]",mle="[object Object]",gle="[object RegExp]",vle="[object Set]",yle="[object String]",_le="[object URL]",ble=Array.isArray,mO=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,gO=Object.assign,wle=Object.prototype.toString.call.bind(Object.prototype.toString);function xle(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,c=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(m,g,v){if(m===g)return!0;if(m==null||g==null)return!1;var _=typeof m;if(_!==typeof g)return!1;if(_!=="object")return _==="number"?o(m,g,v):_==="function"?i(m,g,v):!1;var y=m.constructor;if(y!==g.constructor)return!1;if(y===Object)return s(m,g,v);if(ble(m))return e(m,g,v);if(mO!=null&&mO(m))return f(m,g,v);if(y===Date)return n(m,g,v);if(y===RegExp)return u(m,g,v);if(y===Map)return a(m,g,v);if(y===Set)return c(m,g,v);var w=wle(m);return w===fle?n(m,g,v):w===gle?u(m,g,v):w===hle?a(m,g,v):w===vle?c(m,g,v):w===mle?typeof m.then!="function"&&typeof g.then!="function"&&s(m,g,v):w===_le?h(m,g,v):w===dle?r(m,g,v):w===ule?s(m,g,v):w===cle||w===ple||w===yle?l(m,g,v):!1}}function Ele(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Su:Zse,areDatesEqual:ele,areErrorsEqual:tle,areFunctionsEqual:nle,areMapsEqual:r?uO(hO,Su):hO,areNumbersEqual:rle,areObjectsEqual:r?Su:ile,arePrimitiveWrappersEqual:ale,areRegExpsEqual:ole,areSetsEqual:r?uO(pO,Su):pO,areTypedArraysEqual:r?Su:sle,areUrlsEqual:lle};if(n&&(i=gO({},i,n(i))),e){var a=Ud(i.areArraysEqual),o=Ud(i.areMapsEqual),s=Ud(i.areObjectsEqual),l=Ud(i.areSetsEqual);i=gO({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function Sle(t){return function(e,n,r,i,a,o,s){return t(e,n,s)}}function Ale(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(l,u){var c=r(),f=c.cache,h=f===void 0?e?new WeakMap:void 0:f,p=c.meta;return n(l,u,{cache:h,equals:i,meta:p,strict:a})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,u){return n(l,u,o)}}var Tle=ja();ja({strict:!0});ja({circular:!0});ja({circular:!0,strict:!0});ja({createInternalComparator:function(){return Do}});ja({strict:!0,createInternalComparator:function(){return Do}});ja({circular:!0,createInternalComparator:function(){return Do}});ja({circular:!0,createInternalComparator:function(){return Do},strict:!0});function ja(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=Ele(t),l=xle(s),u=r?r(l):Sle(l);return Ale({circular:n,comparator:l,createState:i,equals:u,strict:o})}function Ple(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function vO(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):Ple(i)};requestAnimationFrame(r)}function x_(t){"@babel/helpers - typeof";return x_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x_(t)}function Ole(t){return Nle(t)||Cle(t)||kle(t)||Ile()}function Ile(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kle(t,e){if(t){if(typeof t=="string")return yO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yO(t,e)}}function yO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Cle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Nle(t){if(Array.isArray(t))return t}function jle(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,s=Ole(o),l=s[0],u=s.slice(1);if(typeof l=="number"){vO(i.bind(null,u),l);return}i(l),vO(i.bind(null,u));return}x_(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function _O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_O(Object(n),!0).forEach(function(r){nD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_O(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nD(t,e,n){return e=$le(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $le(t){var e=Rle(t,"string");return Zc(e)==="symbol"?e:String(e)}function Rle(t,e){if(Zc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dle=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},Mle=function(e){return e},Lle=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Zu=function(e,n){return Object.keys(n).reduce(function(r,i){return bO(bO({},r),{},nD({},i,e(i,n[i])))},{})},wO=function(e,n,r){return e.map(function(i){return"".concat(Lle(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Fle(t,e){return Ble(t)||Ule(t,e)||rD(t,e)||Vle()}function Vle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ule(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Ble(t){if(Array.isArray(t))return t}function zle(t){return Hle(t)||qle(t)||rD(t)||Wle()}function Wle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rD(t,e){if(t){if(typeof t=="string")return E_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E_(t,e)}}function qle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hle(t){if(Array.isArray(t))return E_(t)}function E_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Cp=1e-4,iD=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},aD=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},xO=function(e,n){return function(r){var i=iD(e,n);return aD(i,r)}},Gle=function(e,n){return function(r){var i=iD(e,n),a=[].concat(zle(i.map(function(o,s){return o*s}).slice(1)),[0]);return aD(a,r)}},EO=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),c=Fle(u,4);i=c[0],a=c[1],o=c[2],s=c[3]}}}var f=xO(i,o),h=xO(a,s),p=Gle(i,o),m=function(_){return _>1?1:_<0?0:_},g=function(_){for(var y=_>1?1:_,w=y,I=0;I<8;++I){var E=f(w)-y,P=p(w);if(Math.abs(E-y)<Cp||P<Cp)return h(w);w=m(w-E/P)}return h(w)};return g.isStepper=!1,g},Kle=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(c,f,h){var p=-(c-f)*r,m=h*a,g=h+(p-m)*s/1e3,v=h*s/1e3+c;return Math.abs(v-f)<Cp&&Math.abs(g)<Cp?[f,0]:[v,g]};return l.isStepper=!0,l.dt=s,l},Yle=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return EO(i);case"spring":return Kle();default:if(i.split("(")[0]==="cubic-bezier")return EO(i)}return typeof i=="function"?i:null};function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}function SO(t){return Jle(t)||Xle(t)||oD(t)||Qle()}function Qle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jle(t){if(Array.isArray(t))return A_(t)}function AO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ft(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AO(Object(n),!0).forEach(function(r){S_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S_(t,e,n){return e=Zle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zle(t){var e=eue(t,"string");return ef(e)==="symbol"?e:String(e)}function eue(t,e){if(ef(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ef(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tue(t,e){return iue(t)||rue(t,e)||oD(t,e)||nue()}function nue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oD(t,e){if(t){if(typeof t=="string")return A_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A_(t,e)}}function A_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function iue(t){if(Array.isArray(t))return t}var Np=function(e,n,r){return e+(n-e)*r},T_=function(e){var n=e.from,r=e.to;return n!==r},aue=function t(e,n,r){var i=Zu(function(a,o){if(T_(o)){var s=e(o.from,o.to,o.velocity),l=tue(s,2),u=l[0],c=l[1];return Ft(Ft({},o),{},{from:u,velocity:c})}return o},n);return r<1?Zu(function(a,o){return T_(o)?Ft(Ft({},o),{},{velocity:Np(o.velocity,i[a].velocity,r),from:Np(o.from,i[a].from,r)}):o},n):t(e,i,r-1)};const oue=function(t,e,n,r,i){var a=Dle(t,e),o=a.reduce(function(v,_){return Ft(Ft({},v),{},S_({},_,[t[_],e[_]]))},{}),s=a.reduce(function(v,_){return Ft(Ft({},v),{},S_({},_,{from:t[_],velocity:0,to:e[_]}))},{}),l=-1,u,c,f=function(){return null},h=function(){return Zu(function(_,y){return y.from},s)},p=function(){return!Object.values(s).filter(T_).length},m=function(_){u||(u=_);var y=_-u,w=y/n.dt;s=aue(n,s,w),i(Ft(Ft(Ft({},t),e),h())),u=_,p()||(l=requestAnimationFrame(f))},g=function(_){c||(c=_);var y=(_-c)/r,w=Zu(function(E,P){return Np.apply(void 0,SO(P).concat([n(y)]))},o);if(i(Ft(Ft(Ft({},t),e),w)),y<1)l=requestAnimationFrame(f);else{var I=Zu(function(E,P){return Np.apply(void 0,SO(P).concat([n(1)]))},o);i(Ft(Ft(Ft({},t),e),I))}};return f=n.isStepper?m:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function al(t){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},al(t)}var sue=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function lue(t,e){if(t==null)return{};var n=uue(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uue(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ny(t){return hue(t)||due(t)||fue(t)||cue()}function cue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fue(t,e){if(t){if(typeof t=="string")return P_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P_(t,e)}}function due(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hue(t){if(Array.isArray(t))return P_(t)}function P_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function TO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TO(Object(n),!0).forEach(function(r){Ru(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ru(t,e,n){return e=sD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sD(r.key),r)}}function gue(t,e,n){return e&&mue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sD(t){var e=vue(t,"string");return al(e)==="symbol"?e:String(e)}function vue(t,e){if(al(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(al(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O_(t,e)}function O_(t,e){return O_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},O_(t,e)}function _ue(t){var e=bue();return function(){var r=jp(t),i;if(e){var a=jp(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return I_(this,i)}}function I_(t,e){if(e&&(al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k_(t)}function k_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bue(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function jp(t){return jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jp(t)}var Wr=function(t){yue(n,t);var e=_ue(n);function n(r,i){var a;pue(this,n),a=e.call(this,r,i);var o=a.props,s=o.isActive,l=o.attributeName,u=o.from,c=o.to,f=o.steps,h=o.children,p=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(k_(a)),a.changeStyle=a.changeStyle.bind(k_(a)),!s||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:c}),I_(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},I_(a);a.state={style:l?Ru({},l,u):u}}else a.state={style:{}};return a}return gue(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,c=a.to,f=a.from,h=this.state.style;if(s){if(!o){var p={style:l?Ru({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(p);return}if(!(Tle(i.to,c)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||u?f:i.to;if(this.state&&h){var v={style:l?Ru({},l,g):g};(l&&h[l]!==g||!l&&h!==g)&&this.setState(v)}this.runAnimation(lr(lr({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=oue(o,s,Yle(u),l,this.changeStyle),m=function(){a.stopJSAnimation=p()};this.manager.start([h,c,m,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,u=o[0],c=u.style,f=u.duration,h=f===void 0?0:f,p=function(g,v,_){if(_===0)return g;var y=v.duration,w=v.easing,I=w===void 0?"ease":w,E=v.style,P=v.properties,S=v.onAnimationEnd,A=_>0?o[_-1]:v,T=P||Object.keys(E);if(typeof I=="function"||I==="spring")return[].concat(ny(g),[a.runJSAnimation.bind(a,{from:A.style,to:E,duration:y,easing:I}),y]);var k=wO(T,y,I),C=lr(lr(lr({},A.style),E),{},{transition:k});return[].concat(ny(g),[C,y,S]).filter(Mle)};return this.manager.start([l].concat(ny(o.reduce(p,[c,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=jle());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var g=s?Ru({},s,l):l,v=wO(Object.keys(g),o,u);m.start([c,a,lr(lr({},g),{},{transition:v}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=lue(i,sue),u=M.Children.count(a),c=this.state.style;if(typeof a=="function")return a(c);if(!s||u===0||o<=0)return a;var f=function(p){var m=p.props,g=m.style,v=g===void 0?{}:g,_=m.className,y=M.cloneElement(p,lr(lr({},l),{},{style:lr(lr({},v),c),className:_}));return y};return u===1?f(M.Children.only(a)):R.createElement("div",null,M.Children.map(a,function(h){return f(h)}))}}]),n}(M.PureComponent);Wr.displayName="Animate";Wr.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Wr.propTypes={from:$e.oneOfType([$e.object,$e.string]),to:$e.oneOfType([$e.object,$e.string]),attributeName:$e.string,duration:$e.number,begin:$e.number,easing:$e.oneOfType([$e.string,$e.func]),steps:$e.arrayOf($e.shape({duration:$e.number.isRequired,style:$e.object.isRequired,easing:$e.oneOfType([$e.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),$e.func]),properties:$e.arrayOf("string"),onAnimationEnd:$e.func})),children:$e.oneOfType([$e.node,$e.func]),isActive:$e.bool,canBegin:$e.bool,onAnimationEnd:$e.func,shouldReAnimate:$e.bool,onAnimationStart:$e.func,onAnimationReStart:$e.func};function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}function $p(){return $p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$p.apply(this,arguments)}function wue(t,e){return Aue(t)||Sue(t,e)||Eue(t,e)||xue()}function xue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eue(t,e){if(t){if(typeof t=="string")return PO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PO(t,e)}}function PO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Aue(t){if(Array.isArray(t))return t}function OO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OO(Object(n),!0).forEach(function(r){Tue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tue(t,e,n){return e=Pue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pue(t){var e=Oue(t,"string");return tf(e)=="symbol"?e:e+""}function Oue(t,e){if(tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kO=function(e,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=a[h]>o?o:a[h];c="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*f[1])),c+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*f[3])),c+="Z"}else if(o>0&&a===+a&&a>0){var m=Math.min(o,a);c="M ".concat(e,",").concat(n+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+l*m,",").concat(n,`
            L `).concat(e+r-l*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*m,`
            L `).concat(e+r,",").concat(n+i-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+r-l*m,",").concat(n+i,`
            L `).concat(e+l*m,",").concat(n+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*m," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},Iue=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,o=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(a,a+s),c=Math.max(a,a+s),f=Math.min(o,o+l),h=Math.max(o,o+l);return r>=u&&r<=c&&i>=f&&i<=h}return!1},kue={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Hx=function(e){var n=IO(IO({},kue),e),r=M.useRef(),i=M.useState(-1),a=wue(i,2),o=a[0],s=a[1];M.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var I=r.current.getTotalLength();I&&s(I)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,h=n.radius,p=n.className,m=n.animationEasing,g=n.animationDuration,v=n.animationBegin,_=n.isAnimationActive,y=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var w=_e("recharts-rectangle",p);return y?R.createElement(Wr,{canBegin:o>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:g,animationEasing:m,isActive:y},function(I){var E=I.width,P=I.height,S=I.x,A=I.y;return R.createElement(Wr,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:_,easing:m},R.createElement("path",$p({},ue(n,!0),{className:w,d:kO(S,A,E,P,h),ref:r})))}):R.createElement("path",$p({},ue(n,!0),{className:w,d:kO(l,u,c,f,h)}))},Cue=["points","className","baseLinePoints","connectNulls"];function hs(){return hs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hs.apply(this,arguments)}function Nue(t,e){if(t==null)return{};var n=jue(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function CO(t){return Mue(t)||Due(t)||Rue(t)||$ue()}function $ue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rue(t,e){if(t){if(typeof t=="string")return C_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C_(t,e)}}function Due(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mue(t){if(Array.isArray(t))return C_(t)}function C_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var NO=function(e){return e&&e.x===+e.x&&e.y===+e.y},Lue=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){NO(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),NO(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},ec=function(e,n){var r=Lue(e);n&&(r=[r.reduce(function(a,o){return[].concat(CO(a),CO(o))},[])]);var i=r.map(function(a){return a.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},Fue=function(e,n,r){var i=ec(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(ec(n.reverse(),r).slice(1))},Vue=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,a=e.connectNulls,o=Nue(e,Cue);if(!n||!n.length)return null;var s=_e("recharts-polygon",r);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",u=Fue(n,i,a);return R.createElement("g",{className:s},R.createElement("path",hs({},ue(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),l?R.createElement("path",hs({},ue(o,!0),{fill:"none",d:ec(n,a)})):null,l?R.createElement("path",hs({},ue(o,!0),{fill:"none",d:ec(i,a)})):null)}var c=ec(n,a);return R.createElement("path",hs({},ue(o,!0),{fill:c.slice(-1)==="Z"?o.fill:"none",className:s,d:c}))};function N_(){return N_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N_.apply(this,arguments)}var yg=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,o=_e("recharts-dot",a);return n===+n&&r===+r&&i===+i?M.createElement("circle",N_({},ue(e,!1),ep(e),{className:o,cx:n,cy:r,r:i})):null};function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}var Uue=["x","y","top","left","width","height","className"];function j_(){return j_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j_.apply(this,arguments)}function jO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jO(Object(n),!0).forEach(function(r){zue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zue(t,e,n){return e=Wue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wue(t){var e=que(t,"string");return nf(e)=="symbol"?e:e+""}function que(t,e){if(nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hue(t,e){if(t==null)return{};var n=Gue(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Gue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Kue=function(e,n,r,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},Yue=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,h=e.height,p=h===void 0?0:h,m=e.className,g=Hue(e,Uue),v=Bue({x:r,y:a,top:s,left:u,width:f,height:p},g);return!J(r)||!J(a)||!J(f)||!J(p)||!J(s)||!J(u)?null:R.createElement("path",j_({},ue(v,!0),{className:_e("recharts-cross",m),d:Kue(r,a,f,p,s,u)}))},Que=hg,Xue=_R,Jue=Gr;function Zue(t,e){return t&&t.length?Que(t,Jue(e),Xue):void 0}var ece=Zue;const tce=Re(ece);var nce=hg,rce=Gr,ice=bR;function ace(t,e){return t&&t.length?nce(t,rce(e),ice):void 0}var oce=ace;const sce=Re(oce);var lce=["cx","cy","angle","ticks","axisLine"],uce=["ticks","tick","angle","tickFormatter","stroke"];function ol(t){"@babel/helpers - typeof";return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ol(t)}function tc(){return tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tc.apply(this,arguments)}function $O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Va(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$O(Object(n),!0).forEach(function(r){_g(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$O(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RO(t,e){if(t==null)return{};var n=cce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function fce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uD(r.key),r)}}function dce(t,e,n){return e&&DO(t.prototype,e),n&&DO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hce(t,e,n){return e=Rp(e),pce(t,lD()?Reflect.construct(e,n||[],Rp(t).constructor):e.apply(t,n))}function pce(t,e){if(e&&(ol(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mce(t)}function mce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lD=function(){return!!t})()}function Rp(t){return Rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rp(t)}function gce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$_(t,e)}function $_(t,e){return $_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$_(t,e)}function _g(t,e,n){return e=uD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uD(t){var e=vce(t,"string");return ol(e)=="symbol"?e:e+""}function vce(t,e){if(ol(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bg=function(t){function e(){return fce(this,e),hce(this,e,arguments)}return gce(e,t),dce(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,o=a.angle,s=a.cx,l=a.cy;return Ke(s,l,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,s=r.ticks,l=tce(s,function(c){return c.coordinate||0}),u=sce(s,function(c){return c.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,s=r.ticks,l=r.axisLine,u=RO(r,lce),c=s.reduce(function(m,g){return[Math.min(m[0],g.coordinate),Math.max(m[1],g.coordinate)]},[1/0,-1/0]),f=Ke(i,a,c[0],o),h=Ke(i,a,c[1],o),p=Va(Va(Va({},ue(u,!1)),{},{fill:"none"},ue(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return R.createElement("line",tc({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,s=i.angle,l=i.tickFormatter,u=i.stroke,c=RO(i,uce),f=this.getTickTextAnchor(),h=ue(c,!1),p=ue(o,!1),m=a.map(function(g,v){var _=r.getTickValueCoord(g),y=Va(Va(Va(Va({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(_.x,", ").concat(_.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:v},_),{},{payload:g});return R.createElement(Ce,tc({className:_e("recharts-polar-radius-axis-tick",KR(o)),key:"tick-".concat(g.coordinate)},Eo(r.props,g,v)),e.renderTickItem(o,y,l?l(g.value,v):g.value))});return R.createElement(Ce,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,o=r.tick;return!i||!i.length?null:R.createElement(Ce,{className:_e("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),$t.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return R.isValidElement(r)?o=R.cloneElement(r,i):fe(r)?o=r(i):o=R.createElement(So,tc({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(M.PureComponent);_g(bg,"displayName","PolarRadiusAxis");_g(bg,"axisType","radiusAxis");_g(bg,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function sl(t){"@babel/helpers - typeof";return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sl(t)}function Ya(){return Ya=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ya.apply(this,arguments)}function MO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ua(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MO(Object(n),!0).forEach(function(r){wg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fD(r.key),r)}}function _ce(t,e,n){return e&&LO(t.prototype,e),n&&LO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bce(t,e,n){return e=Dp(e),wce(t,cD()?Reflect.construct(e,n||[],Dp(t).constructor):e.apply(t,n))}function wce(t,e){if(e&&(sl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xce(t)}function xce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cD=function(){return!!t})()}function Dp(t){return Dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dp(t)}function Ece(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R_(t,e)}function R_(t,e){return R_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},R_(t,e)}function wg(t,e,n){return e=fD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fD(t){var e=Sce(t,"string");return sl(e)=="symbol"?e:e+""}function Sce(t,e){if(sl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ace=Math.PI/180,FO=1e-5,xg=function(t){function e(){return yce(this,e),bce(this,e,arguments)}return Ece(e,t),_ce(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,o=i.cy,s=i.radius,l=i.orientation,u=i.tickSize,c=u||8,f=Ke(a,o,s,r.coordinate),h=Ke(a,o,s+(l==="inner"?-1:1)*c,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*Ace),o;return a>FO?o=i==="outer"?"start":"end":a<-FO?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.radius,s=r.axisLine,l=r.axisLineType,u=Ua(Ua({},ue(this.props,!1)),{},{fill:"none"},ue(s,!1));if(l==="circle")return R.createElement(yg,Ya({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:o}));var c=this.props.ticks,f=c.map(function(h){return Ke(i,a,o,h.coordinate)});return R.createElement(Vue,Ya({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,s=i.tickLine,l=i.tickFormatter,u=i.stroke,c=ue(this.props,!1),f=ue(o,!1),h=Ua(Ua({},c),{},{fill:"none"},ue(s,!1)),p=a.map(function(m,g){var v=r.getTickLineCoord(m),_=r.getTickTextAnchor(m),y=Ua(Ua(Ua({textAnchor:_},c),{},{stroke:"none",fill:u},f),{},{index:g,payload:m,x:v.x2,y:v.y2});return R.createElement(Ce,Ya({className:_e("recharts-polar-angle-axis-tick",KR(o)),key:"tick-".concat(m.coordinate)},Eo(r.props,m,g)),s&&R.createElement("line",Ya({className:"recharts-polar-angle-axis-tick-line"},h,v)),o&&e.renderTickItem(o,y,l?l(m.value,g):m.value))});return R.createElement(Ce,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,o=r.axisLine;return a<=0||!i||!i.length?null:R.createElement(Ce,{className:_e("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var o;return R.isValidElement(r)?o=R.cloneElement(r,i):fe(r)?o=r(i):o=R.createElement(So,Ya({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(M.PureComponent);wg(xg,"displayName","PolarAngleAxis");wg(xg,"axisType","angleAxis");wg(xg,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Tce=m$,Pce=Tce(Object.getPrototypeOf,Object),Oce=Pce,Ice=$i,kce=Oce,Cce=Ri,Nce="[object Object]",jce=Function.prototype,$ce=Object.prototype,dD=jce.toString,Rce=$ce.hasOwnProperty,Dce=dD.call(Object);function Mce(t){if(!Cce(t)||Ice(t)!=Nce)return!1;var e=kce(t);if(e===null)return!0;var n=Rce.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&dD.call(n)==Dce}var Lce=Mce;const Fce=Re(Lce);var Vce=$i,Uce=Ri,Bce="[object Boolean]";function zce(t){return t===!0||t===!1||Uce(t)&&Vce(t)==Bce}var Wce=zce;const qce=Re(Wce);function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}function Mp(){return Mp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mp.apply(this,arguments)}function Hce(t,e){return Qce(t)||Yce(t,e)||Kce(t,e)||Gce()}function Gce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kce(t,e){if(t){if(typeof t=="string")return VO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VO(t,e)}}function VO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Qce(t){if(Array.isArray(t))return t}function UO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UO(Object(n),!0).forEach(function(r){Xce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xce(t,e,n){return e=Jce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jce(t){var e=Zce(t,"string");return rf(e)=="symbol"?e:e+""}function Zce(t,e){if(rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zO=function(e,n,r,i,a){var o=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-o/2,",").concat(n+a),s+="L ".concat(e+r-o/2-i,",").concat(n+a),s+="L ".concat(e,",").concat(n," Z"),s},efe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tfe=function(e){var n=BO(BO({},efe),e),r=M.useRef(),i=M.useState(-1),a=Hce(i,2),o=a[0],s=a[1];M.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&s(w)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,h=n.height,p=n.className,m=n.animationEasing,g=n.animationDuration,v=n.animationBegin,_=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||h!==+h||c===0&&f===0||h===0)return null;var y=_e("recharts-trapezoid",p);return _?R.createElement(Wr,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:h,x:l,y:u},duration:g,animationEasing:m,isActive:_},function(w){var I=w.upperWidth,E=w.lowerWidth,P=w.height,S=w.x,A=w.y;return R.createElement(Wr,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:m},R.createElement("path",Mp({},ue(n,!0),{className:y,d:zO(S,A,I,E,P),ref:r})))}):R.createElement("g",null,R.createElement("path",Mp({},ue(n,!0),{className:y,d:zO(l,u,c,f,h)})))},nfe=["option","shapeType","propTransformer","activeClassName","isActive"];function af(t){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(t)}function rfe(t,e){if(t==null)return{};var n=ife(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ife(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function WO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WO(Object(n),!0).forEach(function(r){afe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function afe(t,e,n){return e=ofe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ofe(t){var e=sfe(t,"string");return af(e)=="symbol"?e:e+""}function sfe(t,e){if(af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lfe(t,e){return Lp(Lp({},e),t)}function ufe(t,e){return t==="symbols"}function qO(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return R.createElement(Hx,n);case"trapezoid":return R.createElement(tfe,n);case"sector":return R.createElement(XR,n);case"symbols":if(ufe(e))return R.createElement(fx,n);break;default:return null}}function cfe(t){return M.isValidElement(t)?t.props:t}function hD(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?lfe:r,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=rfe(t,nfe),u;if(M.isValidElement(e))u=M.cloneElement(e,Lp(Lp({},l),cfe(e)));else if(fe(e))u=e(l);else if(Fce(e)&&!qce(e)){var c=i(e,l);u=R.createElement(qO,{shapeType:n,elementProps:c})}else{var f=l;u=R.createElement(qO,{shapeType:n,elementProps:f})}return s?R.createElement(Ce,{className:o},u):u}function Eg(t,e){return e!=null&&"trapezoids"in t.props}function Sg(t,e){return e!=null&&"sectors"in t.props}function of(t,e){return e!=null&&"points"in t.props}function ffe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function dfe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function hfe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function pfe(t,e){var n;return Eg(t,e)?n=ffe:Sg(t,e)?n=dfe:of(t,e)&&(n=hfe),n}function mfe(t,e){var n;return Eg(t,e)?n="trapezoids":Sg(t,e)?n="sectors":of(t,e)&&(n="points"),n}function gfe(t,e){if(Eg(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Sg(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return of(t,e)?e.payload:{}}function vfe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=mfe(n,e),a=gfe(n,e),o=r.filter(function(l,u){var c=Lf(a,l),f=n.props[i].filter(function(m){var g=pfe(n,e);return g(m,e)}),h=n.props[i].indexOf(f[f.length-1]),p=u===h;return c&&p}),s=r.indexOf(o[o.length-1]);return s}var dh;function ll(t){"@babel/helpers - typeof";return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ll(t)}function ps(){return ps=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ps.apply(this,arguments)}function HO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function We(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HO(Object(n),!0).forEach(function(r){Xn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mD(r.key),r)}}function _fe(t,e,n){return e&&GO(t.prototype,e),n&&GO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bfe(t,e,n){return e=Fp(e),wfe(t,pD()?Reflect.construct(e,n||[],Fp(t).constructor):e.apply(t,n))}function wfe(t,e){if(e&&(ll(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xfe(t)}function xfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pD=function(){return!!t})()}function Fp(t){return Fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fp(t)}function Efe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D_(t,e)}function D_(t,e){return D_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},D_(t,e)}function Xn(t,e,n){return e=mD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mD(t){var e=Sfe(t,"string");return ll(e)=="symbol"?e:e+""}function Sfe(t,e){if(ll(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ll(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kr=function(t){function e(n){var r;return yfe(this,e),r=bfe(this,e,[n]),Xn(r,"pieRef",null),Xn(r,"sectorRefs",[]),Xn(r,"id",Ml("recharts-pie-")),Xn(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),fe(i)&&i()}),Xn(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),fe(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Efe(e,t),_fe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,s=a.labelLine,l=a.dataKey,u=a.valueKey,c=ue(this.props,!1),f=ue(o,!1),h=ue(s,!1),p=o&&o.offsetRadius||20,m=r.map(function(g,v){var _=(g.startAngle+g.endAngle)/2,y=Ke(g.cx,g.cy,g.outerRadius+p,_),w=We(We(We(We({},c),g),{},{stroke:"none"},f),{},{index:v,textAnchor:e.getTextAnchor(y.x,g.cx)},y),I=We(We(We(We({},c),g),{},{fill:"none",stroke:g.fill},h),{},{index:v,points:[Ke(g.cx,g.cy,g.outerRadius,_),y]}),E=l;return ve(l)&&ve(u)?E="value":ve(l)&&(E=u),R.createElement(Ce,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(v)},s&&e.renderLabelLineItem(s,I,"line"),e.renderLabelItem(o,w,St(g,E)))});return R.createElement(Ce,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,o=a.activeShape,s=a.blendStroke,l=a.inactiveShape;return r.map(function(u,c){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(c),h=l&&i.hasActiveIndex()?l:null,p=f?o:h,m=We(We({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return R.createElement(Ce,ps({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Eo(i.props,u,c),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(c)}),R.createElement(hD,ps({option:p,isActive:f,shapeType:"sector"},m)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return R.createElement(Wr,{begin:s,duration:l,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var g=m.t,v=[],_=a&&a[0],y=_.startAngle;return a.forEach(function(w,I){var E=h&&h[I],P=I>0?Ln(w,"paddingAngle",0):0;if(E){var S=$n(E.endAngle-E.startAngle,w.endAngle-w.startAngle),A=We(We({},w),{},{startAngle:y+P,endAngle:y+S(g)+P});v.push(A),y=A.endAngle}else{var T=w.endAngle,k=w.startAngle,C=$n(0,T-k),j=C(g),N=We(We({},w),{},{startAngle:y+P,endAngle:y+j+P});v.push(N),y=N.endAngle}}),R.createElement(Ce,null,r.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!Lf(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,o=i.sectors,s=i.className,l=i.label,u=i.cx,c=i.cy,f=i.innerRadius,h=i.outerRadius,p=i.isAnimationActive,m=this.state.isAnimationFinished;if(a||!o||!o.length||!J(u)||!J(c)||!J(f)||!J(h))return null;var g=_e("recharts-pie",s);return R.createElement(Ce,{tabIndex:this.props.rootTabIndex,className:g,ref:function(_){r.pieRef=_}},this.renderSectors(),l&&this.renderLabels(o),$t.renderCallByParent(this.props,null,!1),(!p||m)&&yi.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if(R.isValidElement(r))return R.cloneElement(r,i);if(fe(r))return r(i);var o=_e("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return R.createElement(kp,ps({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,a){if(R.isValidElement(r))return R.cloneElement(r,i);var o=a;if(fe(r)&&(o=r(i),R.isValidElement(o)))return o;var s=_e("recharts-pie-label-text",typeof r!="boolean"&&!fe(r)?r.className:"");return R.createElement(So,ps({},i,{alignmentBaseline:"middle",className:s}),o)}}])}(M.PureComponent);dh=Kr;Xn(Kr,"displayName","Pie");Xn(Kr,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!jo.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Xn(Kr,"parseDeltaAngle",function(t,e){var n=dn(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Xn(Kr,"getRealPieData",function(t){var e=t.data,n=t.children,r=ue(t,!1),i=Fn(n,jf);return e&&e.length?e.map(function(a,o){return We(We(We({payload:a},r),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return We(We({},r),a.props)}):[]});Xn(Kr,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,a=e.height,o=GR(i,a),s=r+hn(t.cx,i,i/2),l=n+hn(t.cy,a,a/2),u=hn(t.innerRadius,o,0),c=hn(t.outerRadius,o,o*.8),f=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:c,maxRadius:f}});Xn(Kr,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?We(We({},e.type.defaultProps),e.props):e.props,i=dh.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,o=r.startAngle,s=r.endAngle,l=r.paddingAngle,u=r.dataKey,c=r.nameKey,f=r.valueKey,h=r.tooltipType,p=Math.abs(r.minAngle),m=dh.parseCoordinateOfPie(r,n),g=dh.parseDeltaAngle(o,s),v=Math.abs(g),_=u;ve(u)&&ve(f)?(_r(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_="value"):ve(u)&&(_r(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_=f);var y=i.filter(function(A){return St(A,_,0)!==0}).length,w=(v>=360?y:y-1)*l,I=v-y*p-w,E=i.reduce(function(A,T){var k=St(T,_,0);return A+(J(k)?k:0)},0),P;if(E>0){var S;P=i.map(function(A,T){var k=St(A,_,0),C=St(A,c,T),j=(J(k)?k:0)/E,N;T?N=S.endAngle+dn(g)*l*(k!==0?1:0):N=o;var U=N+dn(g)*((k!==0?p:0)+j*I),D=(N+U)/2,F=(m.innerRadius+m.outerRadius)/2,q=[{name:C,value:k,payload:A,dataKey:_,type:h}],V=Ke(m.cx,m.cy,F,D);return S=We(We(We({percent:j,cornerRadius:a,name:C,tooltipPayload:q,midAngle:D,middleRadius:F,tooltipPosition:V},A),m),{},{value:St(A,_),startAngle:N,endAngle:U,payload:A,paddingAngle:dn(g)*l}),S})}return We(We({},m),{},{sectors:P,data:i})});var Afe=Math.ceil,Tfe=Math.max;function Pfe(t,e,n,r){for(var i=-1,a=Tfe(Afe((e-t)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=t,t+=n;return o}var Ofe=Pfe,Ife=$$,KO=1/0,kfe=17976931348623157e292;function Cfe(t){if(!t)return t===0?t:0;if(t=Ife(t),t===KO||t===-KO){var e=t<0?-1:1;return e*kfe}return t===t?t:0}var gD=Cfe,Nfe=Ofe,jfe=og,ry=gD;function $fe(t){return function(e,n,r){return r&&typeof r!="number"&&jfe(e,n,r)&&(n=r=void 0),e=ry(e),n===void 0?(n=e,e=0):n=ry(n),r=r===void 0?e<n?1:-1:ry(r),Nfe(e,n,r,t)}}var Rfe=$fe,Dfe=Rfe,Mfe=Dfe(),Lfe=Mfe;const Vp=Re(Lfe);function sf(t){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sf(t)}function YO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YO(Object(n),!0).forEach(function(r){vD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vD(t,e,n){return e=Ffe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ffe(t){var e=Vfe(t,"string");return sf(e)=="symbol"?e:e+""}function Vfe(t,e){if(sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ufe=["Webkit","Moz","O","ms"],Bfe=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Ufe.reduce(function(a,o){return QO(QO({},a),{},vD({},o+r,n))},{});return i[e]=n,i};function ul(t){"@babel/helpers - typeof";return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ul(t)}function Up(){return Up=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Up.apply(this,arguments)}function XO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XO(Object(n),!0).forEach(function(r){Cn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_D(r.key),r)}}function Wfe(t,e,n){return e&&JO(t.prototype,e),n&&JO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function qfe(t,e,n){return e=Bp(e),Hfe(t,yD()?Reflect.construct(e,n||[],Bp(t).constructor):e.apply(t,n))}function Hfe(t,e){if(e&&(ul(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gfe(t)}function Gfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yD=function(){return!!t})()}function Bp(t){return Bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bp(t)}function Kfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M_(t,e)}function M_(t,e){return M_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},M_(t,e)}function Cn(t,e,n){return e=_D(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _D(t){var e=Yfe(t,"string");return ul(e)=="symbol"?e:e+""}function Yfe(t,e){if(ul(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qfe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Xu().domain(Vp(0,l)).range([a,a+o-s]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},ZO=function(e){return e.changedTouches&&!!e.changedTouches.length},cl=function(t){function e(n){var r;return zfe(this,e),r=qfe(this,e,[n]),Cn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Cn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Cn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),r.detachDragEndListener()}),Cn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Cn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Cn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Cn(r,"handleSlideDragStart",function(i){var a=ZO(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Kfe(e,t),Wfe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,f=Math.min(i,a),h=Math.max(i,a),p=e.getIndexInRange(o,f),m=e.getIndexInRange(o,h);return{startIndex:p-p%l,endIndex:m===c?c:m-m%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=St(a[r],s,r);return fe(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,m=l.onChange,g=r.pageX-a;g>0?g=Math.min(g,u+c-f-s,u+c-f-o):g<0&&(g=Math.max(g,u-o,u-s));var v=this.getIndex({startX:o+g,endX:s+g});(v.startIndex!==h||v.endIndex!==p)&&m&&m(v),this.setState({startX:o+g,endX:s+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=ZO(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[o],c=this.props,f=c.x,h=c.width,p=c.travellerWidth,m=c.onChange,g=c.gap,v=c.data,_={startX:this.state.startX,endX:this.state.endX},y=r.pageX-a;y>0?y=Math.min(y,f+h-p-u):y<0&&(y=Math.max(y,f-u)),_[o]=u+y;var w=this.getIndex(_),I=w.startIndex,E=w.endIndex,P=function(){var A=v.length-1;return o==="startX"&&(s>l?I%g===0:E%g===0)||s<l&&E===A||o==="endX"&&(s>l?E%g===0:I%g===0)||s>l&&E===A};this.setState(Cn(Cn({},o,u+y),"brushMoveStartX",r.pageX),function(){m&&P()&&m(w)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,u=o.endX,c=this.state[i],f=s.indexOf(c);if(f!==-1){var h=f+r;if(!(h===-1||h>=s.length)){var p=s[h];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(Cn({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.fill,u=r.stroke;return R.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,f=M.Children.only(u);return f?R.cloneElement(f,{x:i,y:a,width:o,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,s=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,m=l.data,g=l.startIndex,v=l.endIndex,_=Math.max(r,this.props.x),y=iy(iy({},ue(this.props,!1)),{},{x:_,y:u,width:c,height:f}),w=p||"Min value: ".concat((a=m[g])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=m[v])===null||o===void 0?void 0:o.name);return R.createElement(Ce,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),s.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,y))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,u=a.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return R.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:o,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,h=c.endX,p=5,m={pointerEvents:"none",fill:u};return R.createElement(Ce,{className:"recharts-brush-texts"},R.createElement(So,Up({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+s/2},m),this.getTextOfTick(i)),R.createElement(So,Up({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:o+s/2},m),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,s=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,h=this.state,p=h.startX,m=h.endX,g=h.isTextActive,v=h.isSlideMoving,_=h.isTravellerMoving,y=h.isTravellerFocused;if(!i||!i.length||!J(s)||!J(l)||!J(u)||!J(c)||u<=0||c<=0)return null;var w=_e("recharts-brush",a),I=R.Children.count(o)===1,E=Bfe("userSelect","none");return R.createElement(Ce,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),I&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(g||v||_||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,s=r.height,l=r.stroke,u=Math.floor(a+s/2)-1;return R.createElement(R.Fragment,null,R.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),R.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),R.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return R.isValidElement(r)?a=R.cloneElement(r,i):fe(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return iy({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o},a&&a.length?Qfe({data:a,width:o,x:s,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);r[l]>i?s=l:o=l}return i>=r[s]?s:o}}])}(M.PureComponent);Cn(cl,"displayName","Brush");Cn(cl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Xfe=yx;function Jfe(t,e){var n;return Xfe(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var Zfe=Jfe,ede=s$,tde=Gr,nde=Zfe,rde=Pn,ide=og;function ade(t,e,n){var r=rde(t)?ede:nde;return n&&ide(t,e,n)&&(e=void 0),r(t,tde(e))}var ode=ade;const sde=Re(ode);var Vr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},eI=I$;function lde(t,e,n){e=="__proto__"&&eI?eI(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var ude=lde,cde=ude,fde=P$,dde=Gr;function hde(t,e){var n={};return e=dde(e),fde(t,function(r,i,a){cde(n,i,e(r,i,a))}),n}var pde=hde;const mde=Re(pde);function gde(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var vde=gde,yde=yx;function _de(t,e){var n=!0;return yde(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var bde=_de,wde=vde,xde=bde,Ede=Gr,Sde=Pn,Ade=og;function Tde(t,e,n){var r=Sde(t)?wde:xde;return n&&Ade(t,e,n)&&(e=void 0),r(t,Ede(e))}var Pde=Tde;const bD=Re(Pde);var Ode=["x","y"];function lf(t){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(t)}function L_(){return L_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L_.apply(this,arguments)}function tI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Au(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tI(Object(n),!0).forEach(function(r){Ide(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ide(t,e,n){return e=kde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kde(t){var e=Cde(t,"string");return lf(e)=="symbol"?e:e+""}function Cde(t,e){if(lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nde(t,e){if(t==null)return{};var n=jde(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $de(t,e){var n=t.x,r=t.y,i=Nde(t,Ode),a="".concat(n),o=parseInt(a,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Au(Au(Au(Au(Au({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function nI(t){return R.createElement(hD,L_({shapeType:"rectangle",propTransformer:$de,activeClassName:"recharts-active-bar"},t))}var Rde=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=J(r)||oH(r);return a?e(r,i):(a||To(),n)}},Dde=["value","background"],wD;function fl(t){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fl(t)}function Mde(t,e){if(t==null)return{};var n=Lde(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Lde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function zp(){return zp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zp.apply(this,arguments)}function rI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rI(Object(n),!0).forEach(function(r){aa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ED(r.key),r)}}function Vde(t,e,n){return e&&iI(t.prototype,e),n&&iI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ude(t,e,n){return e=Wp(e),Bde(t,xD()?Reflect.construct(e,n||[],Wp(t).constructor):e.apply(t,n))}function Bde(t,e){if(e&&(fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zde(t)}function zde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xD=function(){return!!t})()}function Wp(t){return Wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wp(t)}function Wde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F_(t,e)}function F_(t,e){return F_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},F_(t,e)}function aa(t,e,n){return e=ED(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ED(t){var e=qde(t,"string");return fl(e)=="symbol"?e:e+""}function qde(t,e){if(fl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vf=function(t){function e(){var n;Fde(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Ude(this,e,[].concat(i)),aa(n,"state",{isAnimationFinished:!1}),aa(n,"id",Ml("recharts-bar-")),aa(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),aa(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return Wde(e,t),Vde(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,u=a.activeBar,c=ue(this.props,!1);return r&&r.map(function(f,h){var p=h===l,m=p?u:o,g=gt(gt(gt({},c),f),{},{isActive:p,option:m,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return R.createElement(Ce,zp({className:"recharts-bar-rectangle"},Eo(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),R.createElement(nI,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,h=this.state.prevData;return R.createElement(Wr,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,g=a.map(function(v,_){var y=h&&h[_];if(y){var w=$n(y.x,v.x),I=$n(y.y,v.y),E=$n(y.width,v.width),P=$n(y.height,v.height);return gt(gt({},v),{},{x:w(m),y:I(m),width:E(m),height:P(m)})}if(o==="horizontal"){var S=$n(0,v.height),A=S(m);return gt(gt({},v),{},{y:v.y+v.height-A,height:A})}var T=$n(0,v.width),k=T(m);return gt(gt({},v),{},{width:k})});return R.createElement(Ce,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Lf(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=ue(this.props.background,!1);return a.map(function(u,c){u.value;var f=u.background,h=Mde(u,Dde);if(!f)return null;var p=gt(gt(gt(gt(gt({},h),{},{fill:"#eee"},f),l),Eo(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:c,className:"recharts-bar-background-rectangle"});return R.createElement(nI,zp({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,f=Fn(c,Ff);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(v,_){var y=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:y,errorVal:St(v,_)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return R.createElement(Ce,m,f.map(function(g){return R.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,h=r.height,p=r.isAnimationActive,m=r.background,g=r.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,_=_e("recharts-bar",o),y=s&&s.allowDataOverflow,w=l&&l.allowDataOverflow,I=y||w,E=ve(g)?this.id:g;return R.createElement(Ce,{className:_},y||w?R.createElement("defs",null,R.createElement("clipPath",{id:"clipPath-".concat(E)},R.createElement("rect",{x:y?u:u-f/2,y:w?c:c-h/2,width:y?f:f*2,height:w?h:h*2}))):null,R.createElement(Ce,{className:"recharts-bar-rectangles",clipPath:I?"url(#clipPath-".concat(E,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(I,E),(!p||v)&&yi.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(M.PureComponent);wD=Vf;aa(Vf,"displayName","Bar");aa(Vf,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!jo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});aa(Vf,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,h=t.offset,p=Aoe(r,n);if(!p)return null;var m=e.layout,g=n.type.defaultProps,v=g!==void 0?gt(gt({},g),n.props):n.props,_=v.dataKey,y=v.children,w=v.minPointSize,I=m==="horizontal"?o:a,E=u?I.scale.domain():null,P=Noe({numericAxis:I}),S=Fn(y,jf),A=f.map(function(T,k){var C,j,N,U,D,F;u?C=Toe(u[c+k],E):(C=St(T,_),Array.isArray(C)||(C=[P,C]));var q=Rde(w,wD.defaultProps.minPointSize)(C[1],k);if(m==="horizontal"){var V,z=[o.scale(C[0]),o.scale(C[1])],Y=z[0],ee=z[1];j=GP({axis:a,ticks:s,bandSize:i,offset:p.offset,entry:T,index:k}),N=(V=ee??Y)!==null&&V!==void 0?V:void 0,U=p.size;var Q=Y-ee;if(D=Number.isNaN(Q)?0:Q,F={x:j,y:o.y,width:U,height:o.height},Math.abs(q)>0&&Math.abs(D)<Math.abs(q)){var ne=dn(D||q)*(Math.abs(q)-Math.abs(D));N-=ne,D+=ne}}else{var Ee=[a.scale(C[0]),a.scale(C[1])],je=Ee[0],rt=Ee[1];if(j=je,N=GP({axis:o,ticks:l,bandSize:i,offset:p.offset,entry:T,index:k}),U=rt-je,D=p.size,F={x:a.x,y:N,width:a.width,height:D},Math.abs(q)>0&&Math.abs(U)<Math.abs(q)){var Mt=dn(U||q)*(Math.abs(q)-Math.abs(U));U+=Mt}}return gt(gt(gt({},T),{},{x:j,y:N,width:U,height:D,value:u?C:C[1],payload:T,background:F},S&&S[k]&&S[k].props),{},{tooltipPayload:[qR(n,T)],tooltipPosition:{x:j+U/2,y:N+D/2}})});return gt({data:A,layout:m},h)});function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}function Hde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SD(r.key),r)}}function Gde(t,e,n){return e&&aI(t.prototype,e),n&&aI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function oI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oI(Object(n),!0).forEach(function(r){Ag(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ag(t,e,n){return e=SD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SD(t){var e=Kde(t,"string");return uf(e)=="symbol"?e:e+""}function Kde(t,e){if(uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yde=function(e,n,r,i,a){var o=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!jn(u,Vf);return c.reduce(function(p,m){var g=n[m],v=g.orientation,_=g.domain,y=g.padding,w=y===void 0?{}:y,I=g.mirror,E=g.reversed,P="".concat(v).concat(I?"Mirror":""),S,A,T,k,C;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var j=_[1]-_[0],N=1/0,U=g.categoricalDomain.sort(uH);if(U.forEach(function(Ee,je){je>0&&(N=Math.min((Ee||0)-(U[je-1]||0),N))}),Number.isFinite(N)){var D=N/j,F=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(S=D*F/2),g.padding==="no-gap"){var q=hn(e.barCategoryGap,D*F),V=D*F/2;S=V-q-(V-q)/F*q}}}i==="xAxis"?A=[r.left+(w.left||0)+(S||0),r.left+r.width-(w.right||0)-(S||0)]:i==="yAxis"?A=l==="horizontal"?[r.top+r.height-(w.bottom||0),r.top+(w.top||0)]:[r.top+(w.top||0)+(S||0),r.top+r.height-(w.bottom||0)-(S||0)]:A=g.range,E&&(A=[A[1],A[0]]);var z=UR(g,a,h),Y=z.scale,ee=z.realScaleType;Y.domain(_).range(A),BR(Y);var Q=zR(Y,fr(fr({},g),{},{realScaleType:ee}));i==="xAxis"?(C=v==="top"&&!I||v==="bottom"&&I,T=r.left,k=f[P]-C*g.height):i==="yAxis"&&(C=v==="left"&&!I||v==="right"&&I,T=f[P]-C*g.width,k=r.top);var ne=fr(fr(fr({},g),Q),{},{realScaleType:ee,x:T,y:k,scale:Y,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return ne.bandSize=Pp(ne,Q),!g.hide&&i==="xAxis"?f[P]+=(C?-1:1)*ne.height:g.hide||(f[P]+=(C?-1:1)*ne.width),fr(fr({},p),{},Ag({},m,ne))},{})},AD=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},Qde=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return AD({x:n,y:r},{x:i,y:a})},TD=function(){function t(e){Hde(this,t),this.scale=e}return Gde(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Ag(TD,"EPS",1e-4);var Gx=function(e){var n=Object.keys(e).reduce(function(r,i){return fr(fr({},r),{},Ag({},i,TD.create(e[i])))},{});return fr(fr({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return mde(i,function(l,u){return n[u].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return bD(i,function(a,o){return n[o].isInRange(a)})}})};function Xde(t){return(t%180+180)%180}var Jde=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Xde(i),o=a*Math.PI/180,s=Math.atan(r/n),l=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},Zde=Gr,ehe=Nf,the=ig;function nhe(t){return function(e,n,r){var i=Object(e);if(!ehe(e)){var a=Zde(n);e=the(e),n=function(s){return a(i[s],s,i)}}var o=t(e,n,r);return o>-1?i[a?e[o]:o]:void 0}}var rhe=nhe,ihe=gD;function ahe(t){var e=ihe(t),n=e%1;return e===e?n?e-n:e:0}var ohe=ahe,she=w$,lhe=Gr,uhe=ohe,che=Math.max;function fhe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:uhe(n);return i<0&&(i=che(r+i,0)),she(t,lhe(e),i)}var dhe=fhe,hhe=rhe,phe=dhe,mhe=hhe(phe),ghe=mhe;const vhe=Re(ghe);var yhe=dq(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),Kx=M.createContext(void 0),Yx=M.createContext(void 0),PD=M.createContext(void 0),OD=M.createContext({}),ID=M.createContext(void 0),kD=M.createContext(0),CD=M.createContext(0),sI=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=e.clipPathId,s=e.children,l=e.width,u=e.height,c=yhe(a);return R.createElement(Kx.Provider,{value:r},R.createElement(Yx.Provider,{value:i},R.createElement(OD.Provider,{value:a},R.createElement(PD.Provider,{value:c},R.createElement(ID.Provider,{value:o},R.createElement(kD.Provider,{value:u},R.createElement(CD.Provider,{value:l},s)))))))},_he=function(){return M.useContext(ID)},ND=function(e){var n=M.useContext(Kx);n==null&&To();var r=n[e];return r==null&&To(),r},bhe=function(){var e=M.useContext(Kx);return ta(e)},whe=function(){var e=M.useContext(Yx),n=vhe(e,function(r){return bD(r.domain,Number.isFinite)});return n||ta(e)},jD=function(e){var n=M.useContext(Yx);n==null&&To();var r=n[e];return r==null&&To(),r},xhe=function(){var e=M.useContext(PD);return e},Ehe=function(){return M.useContext(OD)},Qx=function(){return M.useContext(CD)},Xx=function(){return M.useContext(kD)};function dl(t){"@babel/helpers - typeof";return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dl(t)}function She(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ahe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RD(r.key),r)}}function The(t,e,n){return e&&Ahe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Phe(t,e,n){return e=qp(e),Ohe(t,$D()?Reflect.construct(e,n||[],qp(t).constructor):e.apply(t,n))}function Ohe(t,e){if(e&&(dl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ihe(t)}function Ihe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $D(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($D=function(){return!!t})()}function qp(t){return qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qp(t)}function khe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V_(t,e)}function V_(t,e){return V_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},V_(t,e)}function lI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lI(Object(n),!0).forEach(function(r){Jx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jx(t,e,n){return e=RD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RD(t){var e=Che(t,"string");return dl(e)=="symbol"?e:e+""}function Che(t,e){if(dl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Nhe(t,e){return Dhe(t)||Rhe(t,e)||$he(t,e)||jhe()}function jhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $he(t,e){if(t){if(typeof t=="string")return cI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cI(t,e)}}function cI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rhe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Dhe(t){if(Array.isArray(t))return t}function U_(){return U_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U_.apply(this,arguments)}var Mhe=function(e,n){var r;return R.isValidElement(e)?r=R.cloneElement(e,n):fe(e)?r=e(n):r=R.createElement("line",U_({},n,{className:"recharts-reference-line-line"})),r},Lhe=function(e,n,r,i,a,o,s,l,u){var c=a.x,f=a.y,h=a.width,p=a.height;if(r){var m=u.y,g=e.y.apply(m,{position:o});if(Vr(u,"discard")&&!e.y.isInRange(g))return null;var v=[{x:c+h,y:g},{x:c,y:g}];return l==="left"?v.reverse():v}if(n){var _=u.x,y=e.x.apply(_,{position:o});if(Vr(u,"discard")&&!e.x.isInRange(y))return null;var w=[{x:y,y:f+p},{x:y,y:f}];return s==="top"?w.reverse():w}if(i){var I=u.segment,E=I.map(function(P){return e.apply(P,{position:o})});return Vr(u,"discard")&&sde(E,function(P){return!e.isInRange(P)})?null:E}return null};function Fhe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,u=_he(),c=ND(i),f=jD(a),h=xhe();if(!u||!h)return null;_r(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Gx({x:c.scale,y:f.scale}),m=Tt(e),g=Tt(n),v=r&&r.length===2,_=Lhe(p,m,g,v,h,t.position,c.orientation,f.orientation,t);if(!_)return null;var y=Nhe(_,2),w=y[0],I=w.x,E=w.y,P=y[1],S=P.x,A=P.y,T=Vr(t,"hidden")?"url(#".concat(u,")"):void 0,k=uI(uI({clipPath:T},ue(t,!0)),{},{x1:I,y1:E,x2:S,y2:A});return R.createElement(Ce,{className:_e("recharts-reference-line",s)},Mhe(o,k),$t.renderCallByParent(t,Qde({x1:I,y1:E,x2:S,y2:A})))}var Zx=function(t){function e(){return She(this,e),Phe(this,e,arguments)}return khe(e,t),The(e,[{key:"render",value:function(){return R.createElement(Fhe,this.props)}}])}(R.Component);Jx(Zx,"displayName","ReferenceLine");Jx(Zx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function B_(){return B_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B_.apply(this,arguments)}function hl(t){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hl(t)}function fI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fI(Object(n),!0).forEach(function(r){Tg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uhe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MD(r.key),r)}}function Bhe(t,e,n){return e&&Uhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zhe(t,e,n){return e=Hp(e),Whe(t,DD()?Reflect.construct(e,n||[],Hp(t).constructor):e.apply(t,n))}function Whe(t,e){if(e&&(hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qhe(t)}function qhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DD=function(){return!!t})()}function Hp(t){return Hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hp(t)}function Hhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z_(t,e)}function z_(t,e){return z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},z_(t,e)}function Tg(t,e,n){return e=MD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MD(t){var e=Ghe(t,"string");return hl(e)=="symbol"?e:e+""}function Ghe(t,e){if(hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Khe=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,o=Gx({x:i.scale,y:a.scale}),s=o.apply({x:n,y:r},{bandAware:!0});return Vr(e,"discard")&&!o.isInRange(s)?null:s},Pg=function(t){function e(){return Vhe(this,e),zhe(this,e,arguments)}return Hhe(e,t),Bhe(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,s=r.alwaysShow,l=r.clipPathId,u=Tt(i),c=Tt(a);if(_r(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=Khe(this.props);if(!f)return null;var h=f.x,p=f.y,m=this.props,g=m.shape,v=m.className,_=Vr(this.props,"hidden")?"url(#".concat(l,")"):void 0,y=dI(dI({clipPath:_},ue(this.props,!0)),{},{cx:h,cy:p});return R.createElement(Ce,{className:_e("recharts-reference-dot",v)},e.renderDot(g,y),$t.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(R.Component);Tg(Pg,"displayName","ReferenceDot");Tg(Pg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Tg(Pg,"renderDot",function(t,e){var n;return R.isValidElement(t)?n=R.cloneElement(t,e):fe(t)?n=t(e):n=R.createElement(yg,B_({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function W_(){return W_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W_.apply(this,arguments)}function pl(t){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pl(t)}function hI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hI(Object(n),!0).forEach(function(r){Og(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qhe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FD(r.key),r)}}function Xhe(t,e,n){return e&&Qhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jhe(t,e,n){return e=Gp(e),Zhe(t,LD()?Reflect.construct(e,n||[],Gp(t).constructor):e.apply(t,n))}function Zhe(t,e){if(e&&(pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return epe(t)}function epe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LD=function(){return!!t})()}function Gp(t){return Gp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gp(t)}function tpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q_(t,e)}function q_(t,e){return q_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},q_(t,e)}function Og(t,e,n){return e=FD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FD(t){var e=npe(t,"string");return pl(e)=="symbol"?e:e+""}function npe(t,e){if(pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rpe=function(e,n,r,i,a){var o=a.x1,s=a.x2,l=a.y1,u=a.y2,c=a.xAxis,f=a.yAxis;if(!c||!f)return null;var h=Gx({x:c.scale,y:f.scale}),p={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Vr(a,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:AD(p,m)},Ig=function(t){function e(){return Yhe(this,e),Jhe(this,e,arguments)}return tpe(e,t),Xhe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;_r(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Tt(i),h=Tt(a),p=Tt(o),m=Tt(s),g=this.props.shape;if(!f&&!h&&!p&&!m&&!g)return null;var v=rpe(f,h,p,m,this.props);if(!v&&!g)return null;var _=Vr(this.props,"hidden")?"url(#".concat(c,")"):void 0;return R.createElement(Ce,{className:_e("recharts-reference-area",l)},e.renderRect(g,pI(pI({clipPath:_},ue(this.props,!0)),v)),$t.renderCallByParent(this.props,v))}}])}(R.Component);Og(Ig,"displayName","ReferenceArea");Og(Ig,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Og(Ig,"renderRect",function(t,e){var n;return R.isValidElement(t)?n=R.cloneElement(t,e):fe(t)?n=t(e):n=R.createElement(Hx,W_({},e,{className:"recharts-reference-area-rect"})),n});function VD(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function ipe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Jde(r,n)}function ape(t,e,n){var r=n==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function Kp(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function ope(t,e){return VD(t,e+1)}function spe(t,e,n,r,i){for(var a=(r||[]).slice(),o=e.start,s=e.end,l=0,u=1,c=o,f=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:VD(r,u)};var g=l,v,_=function(){return v===void 0&&(v=n(m,g)),v},y=m.coordinate,w=l===0||Kp(t,y,_,c,s);w||(l=0,c=o,u+=1),w&&(c=y+t*(_()/2+i),l+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}function mI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mI(Object(n),!0).forEach(function(r){lpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lpe(t,e,n){return e=upe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function upe(t){var e=cpe(t,"string");return cf(e)=="symbol"?e:e+""}function cpe(t,e){if(cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fpe(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,s=e.start,l=e.end,u=function(h){var p=a[h],m,g=function(){return m===void 0&&(m=n(p,h)),m};if(h===o-1){var v=t*(p.coordinate+t*g()/2-l);a[h]=p=tn(tn({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate})}else a[h]=p=tn(tn({},p),{},{tickCoord:p.coordinate});var _=Kp(t,p.tickCoord,g,s,l);_&&(l=p.tickCoord-t*(g()/2+i),a[h]=tn(tn({},p),{},{isShow:!0}))},c=o-1;c>=0;c--)u(c);return a}function dpe(t,e,n,r,i,a){var o=(r||[]).slice(),s=o.length,l=e.start,u=e.end;if(a){var c=r[s-1],f=n(c,s-1),h=t*(c.coordinate+t*f/2-u);o[s-1]=c=tn(tn({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var p=Kp(t,c.tickCoord,function(){return f},l,u);p&&(u=c.tickCoord-t*(f/2+i),o[s-1]=tn(tn({},c),{},{isShow:!0}))}for(var m=a?s-1:s,g=function(y){var w=o[y],I,E=function(){return I===void 0&&(I=n(w,y)),I};if(y===0){var P=t*(w.coordinate-t*E()/2-l);o[y]=w=tn(tn({},w),{},{tickCoord:P<0?w.coordinate-P*t:w.coordinate})}else o[y]=w=tn(tn({},w),{},{tickCoord:w.coordinate});var S=Kp(t,w.tickCoord,E,l,u);S&&(l=w.tickCoord+t*(E()/2+i),o[y]=tn(tn({},w),{},{isShow:!0}))},v=0;v<m;v++)g(v);return o}function eE(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(J(l)||jo.isSsr)return ope(i,typeof l=="number"&&J(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",m=c&&p==="width"?Qu(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},g=function(w,I){var E=fe(u)?u(w.value,I):w.value;return p==="width"?ipe(Qu(E,{fontSize:e,letterSpacing:n}),m,f):Qu(E,{fontSize:e,letterSpacing:n})[p]},v=i.length>=2?dn(i[1].coordinate-i[0].coordinate):1,_=ape(a,v,p);return l==="equidistantPreserveStart"?spe(v,_,g,i,o):(l==="preserveStart"||l==="preserveStartEnd"?h=dpe(v,_,g,i,o,l==="preserveStartEnd"):h=fpe(v,_,g,i,o),h.filter(function(y){return y.isShow}))}var hpe=["viewBox"],ppe=["viewBox"],mpe=["ticks"];function ml(t){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ml(t)}function ms(){return ms=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ms.apply(this,arguments)}function gI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gI(Object(n),!0).forEach(function(r){tE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ay(t,e){if(t==null)return{};var n=gpe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function vpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BD(r.key),r)}}function ype(t,e,n){return e&&vI(t.prototype,e),n&&vI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _pe(t,e,n){return e=Yp(e),bpe(t,UD()?Reflect.construct(e,n||[],Yp(t).constructor):e.apply(t,n))}function bpe(t,e){if(e&&(ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wpe(t)}function wpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UD=function(){return!!t})()}function Yp(t){return Yp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yp(t)}function xpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H_(t,e)}function H_(t,e){return H_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},H_(t,e)}function tE(t,e,n){return e=BD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BD(t){var e=Epe(t,"string");return ml(e)=="symbol"?e:e+""}function Epe(t,e){if(ml(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ml(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wl=function(t){function e(n){var r;return vpe(this,e),r=_pe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return xpe(e,t),ype(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=ay(r,hpe),s=this.props,l=s.viewBox,u=ay(s,ppe);return!Ps(a,l)||!Ps(o,u)||!Ps(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,h=i.tickMargin,p,m,g,v,_,y,w=f?-1:1,I=r.tickSize||c,E=J(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=m=r.coordinate,v=o+ +!f*l,g=v-w*I,y=g-w*h,_=E;break;case"left":g=v=r.coordinate,m=a+ +!f*s,p=m-w*I,_=p-w*h,y=E;break;case"right":g=v=r.coordinate,m=a+ +f*s,p=m+w*I,_=p+w*h,y=E;break;default:p=m=r.coordinate,v=o+ +f*l,g=v+w*I,y=g+w*h,_=E;break}return{line:{x1:p,y1:g,x2:m,y2:v},tick:{x:_,y}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=bt(bt(bt({},ue(this.props,!1)),ue(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=bt(bt({},f),{},{x1:i,y1:a+h*s,x2:i+o,y2:a+h*s})}else{var p=+(l==="left"&&!u||l==="right"&&u);f=bt(bt({},f),{},{x1:i+p*o,y1:a,x2:i+p*o,y2:a+s})}return R.createElement("line",ms({},f,{className:_e("recharts-cartesian-axis-line",Ln(c,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,f=s.tickFormatter,h=s.unit,p=eE(bt(bt({},this.props),{},{ticks:r}),i,a),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=ue(this.props,!1),_=ue(c,!1),y=bt(bt({},v),{},{fill:"none"},ue(l,!1)),w=p.map(function(I,E){var P=o.getTickLineCoord(I),S=P.line,A=P.tick,T=bt(bt(bt(bt({textAnchor:m,verticalAnchor:g},v),{},{stroke:"none",fill:u},_),A),{},{index:E,payload:I,visibleTicksCount:p.length,tickFormatter:f});return R.createElement(Ce,ms({className:"recharts-cartesian-axis-tick",key:"tick-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},Eo(o.props,I,E)),l&&R.createElement("line",ms({},y,S,{className:_e("recharts-cartesian-axis-tick-line",Ln(l,"className"))})),c&&e.renderTickItem(c,T,"".concat(fe(f)?f(I.value,E):I.value).concat(h||"")))});return R.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,h=f.ticks,p=ay(f,mpe),m=h;return fe(l)&&(m=h&&h.length>0?l(this.props):l(p)),o<=0||s<=0||!m||!m.length?null:R.createElement(Ce,{className:_e("recharts-cartesian-axis",u),ref:function(v){r.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),$t.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o,s=_e(i.className,"recharts-cartesian-axis-tick-value");return R.isValidElement(r)?o=R.cloneElement(r,bt(bt({},i),{},{className:s})):fe(r)?o=r(bt(bt({},i),{},{className:s})):o=R.createElement(So,ms({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(M.Component);tE(Wl,"displayName","CartesianAxis");tE(Wl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Spe=["x1","y1","x2","y2","key"],Ape=["offset"];function Po(t){"@babel/helpers - typeof";return Po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Po(t)}function yI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function on(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yI(Object(n),!0).forEach(function(r){Tpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tpe(t,e,n){return e=Ppe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ppe(t){var e=Ope(t,"string");return Po(e)=="symbol"?e:e+""}function Ope(t,e){if(Po(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Po(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function io(){return io=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},io.apply(this,arguments)}function _I(t,e){if(t==null)return{};var n=Ipe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ipe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var kpe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.ry;return R.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function zD(t,e){var n;if(R.isValidElement(t))n=R.cloneElement(t,e);else if(fe(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=_I(e,Spe),u=ue(l,!1);u.offset;var c=_I(u,Ape);n=R.createElement("line",io({},c,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:s}))}return n}function Cpe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=on(on({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return zD(i,u)});return R.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Npe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=on(on({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return zD(i,u)});return R.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function jpe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==c[0]&&c.unshift(0);var f=c.map(function(h,p){var m=!c[p+1],g=m?i+o-h:c[p+1]-h;if(g<=0)return null;var v=p%e.length;return R.createElement("rect",{key:"react-".concat(p),y:h,x:r,height:g,width:a,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function $pe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==c[0]&&c.unshift(0);var f=c.map(function(h,p){var m=!c[p+1],g=m?a+s-h:c[p+1]-h;if(g<=0)return null;var v=p%r.length;return R.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:g,height:l,stroke:"none",fill:r[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Rpe=function(e,n){var r=e.xAxis,i=e.width,a=e.height,o=e.offset;return VR(eE(on(on(on({},Wl.defaultProps),r),{},{ticks:hi(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},Dpe=function(e,n){var r=e.yAxis,i=e.width,a=e.height,o=e.offset;return VR(eE(on(on(on({},Wl.defaultProps),r),{},{ticks:hi(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},Go={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function WD(t){var e,n,r,i,a,o,s=Qx(),l=Xx(),u=Ehe(),c=on(on({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Go.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Go.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Go.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Go.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Go.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Go.verticalFill,x:J(t.x)?t.x:u.left,y:J(t.y)?t.y:u.top,width:J(t.width)?t.width:u.width,height:J(t.height)?t.height:u.height}),f=c.x,h=c.y,p=c.width,m=c.height,g=c.syncWithTicks,v=c.horizontalValues,_=c.verticalValues,y=bhe(),w=whe();if(!J(p)||p<=0||!J(m)||m<=0||!J(f)||f!==+f||!J(h)||h!==+h)return null;var I=c.verticalCoordinatesGenerator||Rpe,E=c.horizontalCoordinatesGenerator||Dpe,P=c.horizontalPoints,S=c.verticalPoints;if((!P||!P.length)&&fe(E)){var A=v&&v.length,T=E({yAxis:w?on(on({},w),{},{ticks:A?v:w.ticks}):void 0,width:s,height:l,offset:u},A?!0:g);_r(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Po(T),"]")),Array.isArray(T)&&(P=T)}if((!S||!S.length)&&fe(I)){var k=_&&_.length,C=I({xAxis:y?on(on({},y),{},{ticks:k?_:y.ticks}):void 0,width:s,height:l,offset:u},k?!0:g);_r(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Po(C),"]")),Array.isArray(C)&&(S=C)}return R.createElement("g",{className:"recharts-cartesian-grid"},R.createElement(kpe,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),R.createElement(Cpe,io({},c,{offset:u,horizontalPoints:P,xAxis:y,yAxis:w})),R.createElement(Npe,io({},c,{offset:u,verticalPoints:S,xAxis:y,yAxis:w})),R.createElement(jpe,io({},c,{horizontalPoints:P})),R.createElement($pe,io({},c,{verticalPoints:S})))}WD.displayName="CartesianGrid";var Mpe=["type","layout","connectNulls","ref"],Lpe=["key"];function gl(t){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gl(t)}function bI(t,e){if(t==null)return{};var n=Fpe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nc(){return nc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nc.apply(this,arguments)}function wI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wI(Object(n),!0).forEach(function(r){dr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ko(t){return zpe(t)||Bpe(t)||Upe(t)||Vpe()}function Vpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Upe(t,e){if(t){if(typeof t=="string")return G_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G_(t,e)}}function Bpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zpe(t){if(Array.isArray(t))return G_(t)}function G_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HD(r.key),r)}}function qpe(t,e,n){return e&&xI(t.prototype,e),n&&xI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hpe(t,e,n){return e=Qp(e),Gpe(t,qD()?Reflect.construct(e,n||[],Qp(t).constructor):e.apply(t,n))}function Gpe(t,e){if(e&&(gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kpe(t)}function Kpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qD=function(){return!!t})()}function Qp(t){return Qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qp(t)}function Ype(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K_(t,e)}function K_(t,e){return K_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},K_(t,e)}function dr(t,e,n){return e=HD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HD(t){var e=Qpe(t,"string");return gl(e)=="symbol"?e:e+""}function Qpe(t,e){if(gl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vl=function(t){function e(){var n;Wpe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Hpe(this,e,[].concat(i)),dr(n,"state",{isAnimationFinished:!0,totalLength:0}),dr(n,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),dr(n,"getStrokeDasharray",function(o,s,l){var u=l.reduce(function(_,y){return _+y});if(!u)return n.generateSimpleStrokeDasharray(s,o);for(var c=Math.floor(o/u),f=o%u,h=s-o,p=[],m=0,g=0;m<l.length;g+=l[m],++m)if(g+l[m]>f){p=[].concat(Ko(l.slice(0,m)),[f-g]);break}var v=p.length%2===0?[0,h]:[h];return[].concat(Ko(e.repeat(l,c)),Ko(p),v).map(function(_){return"".concat(_,"px")}).join(", ")}),dr(n,"id",Ml("recharts-line-")),dr(n,"pathRef",function(o){n.mainCurve=o}),dr(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),dr(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Ype(e,t),qpe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,s=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,f=Fn(c,Ff);if(!f)return null;var h=function(g,v){return{x:g.x,y:g.y,value:g.value,errorVal:St(g.payload,v)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return R.createElement(Ce,p,f.map(function(m){return R.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,c=s.dataKey,f=ue(this.props,!1),h=ue(l,!0),p=u.map(function(g,v){var _=kn(kn(kn({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:g.x,cy:g.y,value:g.value,dataKey:c,payload:g.payload,points:u});return e.renderDotItem(l,_)}),m={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return R.createElement(Ce,nc({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(r,i,a,o){var s=this.props,l=s.type,u=s.layout,c=s.connectNulls;s.ref;var f=bI(s,Mpe),h=kn(kn(kn({},ue(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},o),{},{type:l,layout:u,connectNulls:c});return R.createElement(kp,nc({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,o=this.props,s=o.points,l=o.strokeDasharray,u=o.isAnimationActive,c=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,m=o.animateNewValues,g=o.width,v=o.height,_=this.state,y=_.prevPoints,w=_.totalLength;return R.createElement(Wr,{begin:c,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(I){var E=I.t;if(y){var P=y.length/s.length,S=s.map(function(j,N){var U=Math.floor(N*P);if(y[U]){var D=y[U],F=$n(D.x,j.x),q=$n(D.y,j.y);return kn(kn({},j),{},{x:F(E),y:q(E)})}if(m){var V=$n(g*2,j.x),z=$n(v/2,j.y);return kn(kn({},j),{},{x:V(E),y:z(E)})}return kn(kn({},j),{},{x:j.x,y:j.y})});return a.renderCurveStatically(S,r,i)}var A=$n(0,w),T=A(E),k;if(l){var C="".concat(l).split(/[,\s]+/gim).map(function(j){return parseFloat(j)});k=a.getStrokeDasharray(T,w,C)}else k=a.generateSimpleStrokeDasharray(w,T);return a.renderCurveStatically(s,r,i,{strokeDasharray:k})})}},{key:"renderCurve",value:function(r,i){var a=this.props,o=a.points,s=a.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return s&&o&&o.length&&(!u&&c>0||!Lf(u,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,u=i.xAxis,c=i.yAxis,f=i.top,h=i.left,p=i.width,m=i.height,g=i.isAnimationActive,v=i.id;if(a||!s||!s.length)return null;var _=this.state.isAnimationFinished,y=s.length===1,w=_e("recharts-line",l),I=u&&u.allowDataOverflow,E=c&&c.allowDataOverflow,P=I||E,S=ve(v)?this.id:v,A=(r=ue(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},T=A.r,k=T===void 0?3:T,C=A.strokeWidth,j=C===void 0?2:C,N=yH(o)?o:{},U=N.clipDot,D=U===void 0?!0:U,F=k*2+j;return R.createElement(Ce,{className:w},I||E?R.createElement("defs",null,R.createElement("clipPath",{id:"clipPath-".concat(S)},R.createElement("rect",{x:I?h:h-p/2,y:E?f:f-m/2,width:I?p:p*2,height:E?m:m*2})),!D&&R.createElement("clipPath",{id:"clipPath-dots-".concat(S)},R.createElement("rect",{x:h-F/2,y:f-F/2,width:p+F,height:m+F}))):null,!y&&this.renderCurve(P,S),this.renderErrorBar(P,S),(y||o)&&this.renderDots(P,D,S),(!g||_)&&yi.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(Ko(r),[0]):r,o=[],s=0;s<i;++s)o=[].concat(Ko(o),Ko(a));return o}},{key:"renderDotItem",value:function(r,i){var a;if(R.isValidElement(r))a=R.cloneElement(r,i);else if(fe(r))a=r(i);else{var o=i.key,s=bI(i,Lpe),l=_e("recharts-line-dot",typeof r!="boolean"?r.className:"");a=R.createElement(yg,nc({key:o},s,{className:l}))}return a}}])}(M.PureComponent);dr(vl,"displayName","Line");dr(vl,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!jo.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});dr(vl,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,f=l.map(function(h,p){var m=St(h,o);return c==="horizontal"?{x:HP({axis:n,ticks:i,bandSize:s,entry:h,index:p}),y:ve(m)?null:r.scale(m),value:m,payload:h}:{x:ve(m)?null:n.scale(m),y:HP({axis:r,ticks:a,bandSize:s,entry:h,index:p}),value:m,payload:h}});return kn({points:f,layout:c},u)});function yl(t){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yl(t)}function Xpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YD(r.key),r)}}function Zpe(t,e,n){return e&&Jpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eme(t,e,n){return e=Xp(e),tme(t,GD()?Reflect.construct(e,n||[],Xp(t).constructor):e.apply(t,n))}function tme(t,e){if(e&&(yl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nme(t)}function nme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GD=function(){return!!t})()}function Xp(t){return Xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xp(t)}function rme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y_(t,e)}function Y_(t,e){return Y_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Y_(t,e)}function KD(t,e,n){return e=YD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YD(t){var e=ime(t,"string");return yl(e)=="symbol"?e:e+""}function ime(t,e){if(yl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Q_(){return Q_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q_.apply(this,arguments)}function ame(t){var e=t.xAxisId,n=Qx(),r=Xx(),i=ND(e);return i==null?null:M.createElement(Wl,Q_({},i,{className:_e("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return hi(o,!0)}}))}var kg=function(t){function e(){return Xpe(this,e),eme(this,e,arguments)}return rme(e,t),Zpe(e,[{key:"render",value:function(){return M.createElement(ame,this.props)}}])}(M.Component);KD(kg,"displayName","XAxis");KD(kg,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function _l(t){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_l(t)}function ome(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JD(r.key),r)}}function lme(t,e,n){return e&&sme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ume(t,e,n){return e=Jp(e),cme(t,QD()?Reflect.construct(e,n||[],Jp(t).constructor):e.apply(t,n))}function cme(t,e){if(e&&(_l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fme(t)}function fme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QD=function(){return!!t})()}function Jp(t){return Jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jp(t)}function dme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X_(t,e)}function X_(t,e){return X_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},X_(t,e)}function XD(t,e,n){return e=JD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JD(t){var e=hme(t,"string");return _l(e)=="symbol"?e:e+""}function hme(t,e){if(_l(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function J_(){return J_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J_.apply(this,arguments)}var pme=function(e){var n=e.yAxisId,r=Qx(),i=Xx(),a=jD(n);return a==null?null:M.createElement(Wl,J_({},a,{className:_e("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return hi(s,!0)}}))},Cg=function(t){function e(){return ome(this,e),ume(this,e,arguments)}return dme(e,t),lme(e,[{key:"render",value:function(){return M.createElement(pme,this.props)}}])}(M.Component);XD(Cg,"displayName","YAxis");XD(Cg,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function EI(t){return yme(t)||vme(t)||gme(t)||mme()}function mme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gme(t,e){if(t){if(typeof t=="string")return Z_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z_(t,e)}}function vme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yme(t){if(Array.isArray(t))return Z_(t)}function Z_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var eb=function(e,n,r,i,a){var o=Fn(e,Zx),s=Fn(e,Pg),l=[].concat(EI(o),EI(s)),u=Fn(e,Ig),c="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(g,v){if(v.props[c]===r&&Vr(v.props,"extendDomain")&&J(v.props[f])){var _=v.props[f];return[Math.min(g[0],_),Math.max(g[1],_)]}return g},h)),u.length){var p="".concat(f,"1"),m="".concat(f,"2");h=u.reduce(function(g,v){if(v.props[c]===r&&Vr(v.props,"extendDomain")&&J(v.props[p])&&J(v.props[m])){var _=v.props[p],y=v.props[m];return[Math.min(g[0],_,y),Math.max(g[1],_,y)]}return g},h)}return a&&a.length&&(h=a.reduce(function(g,v){return J(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},h)),h},ZD={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,f||l,h),m=n?n+u:u;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},s.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,c,f,h,p,m){var g=n?n+u:u;if(!this._events[g])return!1;var v=this._events[g],_=arguments.length,y,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),_){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,f),!0;case 4:return v.fn.call(v.context,c,f,h),!0;case 5:return v.fn.call(v.context,c,f,h,p),!0;case 6:return v.fn.call(v.context,c,f,h,p,m),!0}for(w=1,y=new Array(_-1);w<_;w++)y[w-1]=arguments[w];v.fn.apply(v.context,y)}else{var I=v.length,E;for(w=0;w<I;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),_){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,c);break;case 3:v[w].fn.call(v[w].context,c,f);break;case 4:v[w].fn.call(v[w].context,c,f,h);break;default:if(!y)for(E=1,y=new Array(_-1);E<_;E++)y[E-1]=arguments[E];v[w].fn.apply(v[w].context,y)}}return!0},s.prototype.on=function(u,c,f){return a(this,u,c,f,!1)},s.prototype.once=function(u,c,f){return a(this,u,c,f,!0)},s.prototype.removeListener=function(u,c,f,h){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===c&&(!h||m.once)&&(!f||m.context===f)&&o(this,p);else{for(var g=0,v=[],_=m.length;g<_;g++)(m[g].fn!==c||h&&!m[g].once||f&&m[g].context!==f)&&v.push(m[g]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(ZD);var _me=ZD.exports;const bme=Re(_me);var oy=new bme,sy="recharts.syncMouseEvents";function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}function wme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eM(r.key),r)}}function Eme(t,e,n){return e&&xme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ly(t,e,n){return e=eM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eM(t){var e=Sme(t,"string");return ff(e)=="symbol"?e:e+""}function Sme(t,e){if(ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ame=function(){function t(){wme(this,t),ly(this,"activeIndex",0),ly(this,"coordinateList",[]),ly(this,"layout","horizontal")}return Eme(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,s=o===void 0?null:o,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=a+l+u,h=o+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Tme(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&J(r)&&J(i))return!0}return!1}function Pme(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function tM(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,o=Ke(e,n,r,i),s=Ke(e,n,r,a);return{points:[o,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function Ome(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,h=Ke(s,l,u,f),p=Ke(s,l,c,f);r=h.x,i=h.y,a=p.x,o=p.y}else return tM(e);return[{x:r,y:i},{x:a,y:o}]}function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function SI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SI(Object(n),!0).forEach(function(r){Ime(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ime(t,e,n){return e=kme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kme(t){var e=Cme(t,"string");return df(e)=="symbol"?e:e+""}function Cme(t,e){if(df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nme(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!a||!o||h!=="ScatterChart"&&i!=="axis")return null;var m,g=kp;if(h==="ScatterChart")m=o,g=Yue;else if(h==="BarChart")m=Pme(f,o,l,c),g=Hx;else if(f==="radial"){var v=tM(o),_=v.cx,y=v.cy,w=v.radius,I=v.startAngle,E=v.endAngle;m={cx:_,cy:y,startAngle:I,endAngle:E,innerRadius:w,outerRadius:w},g=XR}else m={points:Ome(f,o,l)},g=kp;var P=Bd(Bd(Bd(Bd({stroke:"#ccc",pointerEvents:"none"},l),m),ue(p,!1)),{},{payload:s,payloadIndex:u,className:_e("recharts-tooltip-cursor",p.className)});return M.isValidElement(p)?M.cloneElement(p,P):M.createElement(g,P)}var jme=["item"],$me=["children","className","width","height","style","compact","title","desc"];function bl(t){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bl(t)}function gs(){return gs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gs.apply(this,arguments)}function AI(t,e){return Mme(t)||Dme(t,e)||rM(t,e)||Rme()}function Rme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dme(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Mme(t){if(Array.isArray(t))return t}function TI(t,e){if(t==null)return{};var n=Lme(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Lme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Fme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iM(r.key),r)}}function Ume(t,e,n){return e&&Vme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bme(t,e,n){return e=Zp(e),zme(t,nM()?Reflect.construct(e,n||[],Zp(t).constructor):e.apply(t,n))}function zme(t,e){if(e&&(bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wme(t)}function Wme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nM=function(){return!!t})()}function Zp(t){return Zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zp(t)}function qme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tb(t,e)}function tb(t,e){return tb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tb(t,e)}function wl(t){return Kme(t)||Gme(t)||rM(t)||Hme()}function Hme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rM(t,e){if(t){if(typeof t=="string")return nb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nb(t,e)}}function Gme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kme(t){if(Array.isArray(t))return nb(t)}function nb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function PI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function W(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PI(Object(n),!0).forEach(function(r){ce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ce(t,e,n){return e=iM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iM(t){var e=Yme(t,"string");return bl(e)=="symbol"?e:e+""}function Yme(t,e){if(bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qme={xAxis:["bottom","top"],yAxis:["left","right"]},Xme={width:"100%",height:"100%"},aM={x:0,y:0};function zd(t){return t}var Jme=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Zme=function(e,n,r,i){var a=n.find(function(c){return c&&c.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return W(W(W({},i),Ke(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,u=i.angle;return W(W(W({},i),Ke(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return aM},Ng=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(wl(s),wl(u)):s},[]);return o.length>0?o:e&&e.length&&J(i)&&J(a)?e.slice(i,a+1):[]};function oM(t){return t==="number"?[0,"auto"]:void 0}var rb=function(e,n,r,i){var a=e.graphicalItems,o=e.tooltipAxis,s=Ng(n,e);return r<0||!a||!a.length||r>=s.length?null:a.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?s:f;h=Zh(p,o.dataKey,i)}else h=f&&f[r]||s[r];return h?[].concat(wl(l),[qR(u,h)]):l},[])},OI=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},o=Jme(a,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=_oe(o,s,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,h=rb(e,n,c,f),p=Zme(r,s,c,a);return{activeTooltipIndex:c,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},ege=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=e.stackOffset,p=FR(c,a);return r.reduce(function(m,g){var v,_=g.type.defaultProps!==void 0?W(W({},g.type.defaultProps),g.props):g.props,y=_.type,w=_.dataKey,I=_.allowDataOverflow,E=_.allowDuplicatedCategory,P=_.scale,S=_.ticks,A=_.includeHidden,T=_[o];if(m[T])return m;var k=Ng(e.data,{graphicalItems:i.filter(function(Q){var ne,Ee=o in Q.props?Q.props[o]:(ne=Q.type.defaultProps)===null||ne===void 0?void 0:ne[o];return Ee===T}),dataStartIndex:l,dataEndIndex:u}),C=k.length,j,N,U;Tme(_.domain,I,y)&&(j=v_(_.domain,null,I),p&&(y==="number"||P!=="auto")&&(U=Ju(k,w,"category")));var D=oM(y);if(!j||j.length===0){var F,q=(F=_.domain)!==null&&F!==void 0?F:D;if(w){if(j=Ju(k,w,y),y==="category"&&p){var V=lH(j);E&&V?(N=j,j=Vp(0,C)):E||(j=QP(q,j,g).reduce(function(Q,ne){return Q.indexOf(ne)>=0?Q:[].concat(wl(Q),[ne])},[]))}else if(y==="category")E?j=j.filter(function(Q){return Q!==""&&!ve(Q)}):j=QP(q,j,g).reduce(function(Q,ne){return Q.indexOf(ne)>=0||ne===""||ve(ne)?Q:[].concat(wl(Q),[ne])},[]);else if(y==="number"){var z=Soe(k,i.filter(function(Q){var ne,Ee,je=o in Q.props?Q.props[o]:(ne=Q.type.defaultProps)===null||ne===void 0?void 0:ne[o],rt="hide"in Q.props?Q.props.hide:(Ee=Q.type.defaultProps)===null||Ee===void 0?void 0:Ee.hide;return je===T&&(A||!rt)}),w,a,c);z&&(j=z)}p&&(y==="number"||P!=="auto")&&(U=Ju(k,w,"category"))}else p?j=Vp(0,C):s&&s[T]&&s[T].hasStack&&y==="number"?j=h==="expand"?[0,1]:WR(s[T].stackGroups,l,u):j=LR(k,i.filter(function(Q){var ne=o in Q.props?Q.props[o]:Q.type.defaultProps[o],Ee="hide"in Q.props?Q.props.hide:Q.type.defaultProps.hide;return ne===T&&(A||!Ee)}),y,c,!0);if(y==="number")j=eb(f,j,T,a,S),q&&(j=v_(q,j,I));else if(y==="category"&&q){var Y=q,ee=j.every(function(Q){return Y.indexOf(Q)>=0});ee&&(j=Y)}}return W(W({},m),{},ce({},T,W(W({},_),{},{axisType:a,domain:j,categoricalDomain:U,duplicateDomain:N,originalDomain:(v=_.domain)!==null&&v!==void 0?v:D,isCategorical:p,layout:c})))},{})},tge=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=Ng(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),p=h.length,m=FR(c,a),g=-1;return r.reduce(function(v,_){var y=_.type.defaultProps!==void 0?W(W({},_.type.defaultProps),_.props):_.props,w=y[o],I=oM("number");if(!v[w]){g++;var E;return m?E=Vp(0,p):s&&s[w]&&s[w].hasStack?(E=WR(s[w].stackGroups,l,u),E=eb(f,E,w,a)):(E=v_(I,LR(h,r.filter(function(P){var S,A,T=o in P.props?P.props[o]:(S=P.type.defaultProps)===null||S===void 0?void 0:S[o],k="hide"in P.props?P.props.hide:(A=P.type.defaultProps)===null||A===void 0?void 0:A.hide;return T===w&&!k}),"number",c),i.defaultProps.allowDataOverflow),E=eb(f,E,w,a)),W(W({},v),{},ce({},w,W(W({axisType:a},i.defaultProps),{},{hide:!0,orientation:Ln(Qme,"".concat(a,".").concat(g%2),null),domain:E,originalDomain:I,isCategorical:m,layout:c})))}return v},{})},nge=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),h=Fn(c,a),p={};return h&&h.length?p=ege(e,{axes:h,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(p=tge(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),p},rge=function(e){var n=ta(e),r=hi(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:_x(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Pp(n,r)}},II=function(e){var n=e.children,r=e.defaultShowTooltip,i=jn(n,cl),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},ige=function(e){return!e||!e.length?!1:e.some(function(n){var r=gi(n&&n.type);return r&&r.indexOf("Bar")>=0})},kI=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},age=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,f=r.children,h=r.margin||{},p=jn(f,cl),m=jn(f,Os),g=Object.keys(l).reduce(function(E,P){var S=l[P],A=S.orientation;return!S.mirror&&!S.hide?W(W({},E),{},ce({},A,E[A]+S.width)):E},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(E,P){var S=o[P],A=S.orientation;return!S.mirror&&!S.hide?W(W({},E),{},ce({},A,Ln(E,"".concat(A))+S.height)):E},{top:h.top||0,bottom:h.bottom||0}),_=W(W({},v),g),y=_.bottom;p&&(_.bottom+=p.props.height||cl.defaultProps.height),m&&n&&(_=xoe(_,i,r,n));var w=u-_.left-_.right,I=c-_.top-_.bottom;return W(W({brushBottom:y},_),{},{width:Math.max(w,0),height:Math.max(I,0)})},oge=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},sM=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,h=function(_,y){var w=y.graphicalItems,I=y.stackGroups,E=y.offset,P=y.updateId,S=y.dataStartIndex,A=y.dataEndIndex,T=_.barSize,k=_.layout,C=_.barGap,j=_.barCategoryGap,N=_.maxBarSize,U=kI(k),D=U.numericAxisName,F=U.cateAxisName,q=ige(w),V=[];return w.forEach(function(z,Y){var ee=Ng(_.data,{graphicalItems:[z],dataStartIndex:S,dataEndIndex:A}),Q=z.type.defaultProps!==void 0?W(W({},z.type.defaultProps),z.props):z.props,ne=Q.dataKey,Ee=Q.maxBarSize,je=Q["".concat(D,"Id")],rt=Q["".concat(F,"Id")],Mt={},Gt=l.reduce(function(Ar,Qr){var $a=y["".concat(Qr.axisType,"Map")],Mo=Q["".concat(Qr.axisType,"Id")];$a&&$a[Mo]||Qr.axisType==="zAxis"||To();var Hl=$a[Mo];return W(W({},Ar),{},ce(ce({},Qr.axisType,Hl),"".concat(Qr.axisType,"Ticks"),hi(Hl)))},Mt),te=Gt[F],de=Gt["".concat(F,"Ticks")],me=I&&I[je]&&I[je].hasStack&&joe(z,I[je].stackGroups),G=gi(z.type).indexOf("Bar")>=0,ze=Pp(te,de),be=[],it=q&&boe({barSize:T,stackGroups:I,totalSize:oge(Gt,F)});if(G){var ut,Kt,Sr=ve(Ee)?N:Ee,Yr=(ut=(Kt=Pp(te,de,!0))!==null&&Kt!==void 0?Kt:Sr)!==null&&ut!==void 0?ut:0;be=woe({barGap:C,barCategoryGap:j,bandSize:Yr!==ze?Yr:ze,sizeList:it[rt],maxBarSize:Sr}),Yr!==ze&&(be=be.map(function(Ar){return W(W({},Ar),{},{position:W(W({},Ar.position),{},{offset:Ar.position.offset-Yr/2})})}))}var Mi=z&&z.type&&z.type.getComposedData;Mi&&V.push({props:W(W({},Mi(W(W({},Gt),{},{displayedData:ee,props:_,dataKey:ne,item:z,bandSize:ze,barPosition:be,offset:E,stackedData:me,layout:k,dataStartIndex:S,dataEndIndex:A}))),{},ce(ce(ce({key:z.key||"item-".concat(Y)},D,Gt[D]),F,Gt[F]),"animationId",P)),childIndex:wH(z,_.children),item:z})}),V},p=function(_,y){var w=_.props,I=_.dataStartIndex,E=_.dataEndIndex,P=_.updateId;if(!zA({props:w}))return null;var S=w.children,A=w.layout,T=w.stackOffset,k=w.data,C=w.reverseStackOrder,j=kI(A),N=j.numericAxisName,U=j.cateAxisName,D=Fn(S,r),F=Coe(k,D,"".concat(N,"Id"),"".concat(U,"Id"),T,C),q=l.reduce(function(Q,ne){var Ee="".concat(ne.axisType,"Map");return W(W({},Q),{},ce({},Ee,nge(w,W(W({},ne),{},{graphicalItems:D,stackGroups:ne.axisType===N&&F,dataStartIndex:I,dataEndIndex:E}))))},{}),V=age(W(W({},q),{},{props:w,graphicalItems:D}),y==null?void 0:y.legendBBox);Object.keys(q).forEach(function(Q){q[Q]=c(w,q[Q],V,Q.replace("Map",""),n)});var z=q["".concat(U,"Map")],Y=rge(z),ee=h(w,W(W({},q),{},{dataStartIndex:I,dataEndIndex:E,updateId:P,graphicalItems:D,stackGroups:F,offset:V}));return W(W({formattedGraphicalItems:ee,graphicalItems:D,offset:V,stackGroups:F},Y),q)},m=function(v){function _(y){var w,I,E;return Fme(this,_),E=Bme(this,_,[y]),ce(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ce(E,"accessibilityManager",new Ame),ce(E,"handleLegendBBoxUpdate",function(P){if(P){var S=E.state,A=S.dataStartIndex,T=S.dataEndIndex,k=S.updateId;E.setState(W({legendBBox:P},p({props:E.props,dataStartIndex:A,dataEndIndex:T,updateId:k},W(W({},E.state),{},{legendBBox:P}))))}}),ce(E,"handleReceiveSyncEvent",function(P,S,A){if(E.props.syncId===P){if(A===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(S)}}),ce(E,"handleBrushChange",function(P){var S=P.startIndex,A=P.endIndex;if(S!==E.state.dataStartIndex||A!==E.state.dataEndIndex){var T=E.state.updateId;E.setState(function(){return W({dataStartIndex:S,dataEndIndex:A},p({props:E.props,dataStartIndex:S,dataEndIndex:A,updateId:T},E.state))}),E.triggerSyncEvent({dataStartIndex:S,dataEndIndex:A})}}),ce(E,"handleMouseEnter",function(P){var S=E.getMouseInfo(P);if(S){var A=W(W({},S),{},{isTooltipActive:!0});E.setState(A),E.triggerSyncEvent(A);var T=E.props.onMouseEnter;fe(T)&&T(A,P)}}),ce(E,"triggeredAfterMouseMove",function(P){var S=E.getMouseInfo(P),A=S?W(W({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(A),E.triggerSyncEvent(A);var T=E.props.onMouseMove;fe(T)&&T(A,P)}),ce(E,"handleItemMouseEnter",function(P){E.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),ce(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),ce(E,"handleMouseMove",function(P){P.persist(),E.throttleTriggeredAfterMouseMove(P)}),ce(E,"handleMouseLeave",function(P){E.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};E.setState(S),E.triggerSyncEvent(S);var A=E.props.onMouseLeave;fe(A)&&A(S,P)}),ce(E,"handleOuterEvent",function(P){var S=bH(P),A=Ln(E.props,"".concat(S));if(S&&fe(A)){var T,k;/.*touch.*/i.test(S)?k=E.getMouseInfo(P.changedTouches[0]):k=E.getMouseInfo(P),A((T=k)!==null&&T!==void 0?T:{},P)}}),ce(E,"handleClick",function(P){var S=E.getMouseInfo(P);if(S){var A=W(W({},S),{},{isTooltipActive:!0});E.setState(A),E.triggerSyncEvent(A);var T=E.props.onClick;fe(T)&&T(A,P)}}),ce(E,"handleMouseDown",function(P){var S=E.props.onMouseDown;if(fe(S)){var A=E.getMouseInfo(P);S(A,P)}}),ce(E,"handleMouseUp",function(P){var S=E.props.onMouseUp;if(fe(S)){var A=E.getMouseInfo(P);S(A,P)}}),ce(E,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),ce(E,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.handleMouseDown(P.changedTouches[0])}),ce(E,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.handleMouseUp(P.changedTouches[0])}),ce(E,"handleDoubleClick",function(P){var S=E.props.onDoubleClick;if(fe(S)){var A=E.getMouseInfo(P);S(A,P)}}),ce(E,"handleContextMenu",function(P){var S=E.props.onContextMenu;if(fe(S)){var A=E.getMouseInfo(P);S(A,P)}}),ce(E,"triggerSyncEvent",function(P){E.props.syncId!==void 0&&oy.emit(sy,E.props.syncId,P,E.eventEmitterSymbol)}),ce(E,"applySyncEvent",function(P){var S=E.props,A=S.layout,T=S.syncMethod,k=E.state.updateId,C=P.dataStartIndex,j=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)E.setState(W({dataStartIndex:C,dataEndIndex:j},p({props:E.props,dataStartIndex:C,dataEndIndex:j,updateId:k},E.state)));else if(P.activeTooltipIndex!==void 0){var N=P.chartX,U=P.chartY,D=P.activeTooltipIndex,F=E.state,q=F.offset,V=F.tooltipTicks;if(!q)return;if(typeof T=="function")D=T(V,P);else if(T==="value"){D=-1;for(var z=0;z<V.length;z++)if(V[z].value===P.activeLabel){D=z;break}}var Y=W(W({},q),{},{x:q.left,y:q.top}),ee=Math.min(N,Y.x+Y.width),Q=Math.min(U,Y.y+Y.height),ne=V[D]&&V[D].value,Ee=rb(E.state,E.props.data,D),je=V[D]?{x:A==="horizontal"?V[D].coordinate:ee,y:A==="horizontal"?Q:V[D].coordinate}:aM;E.setState(W(W({},P),{},{activeLabel:ne,activeCoordinate:je,activePayload:Ee,activeTooltipIndex:D}))}else E.setState(P)}),ce(E,"renderCursor",function(P){var S,A=E.state,T=A.isTooltipActive,k=A.activeCoordinate,C=A.activePayload,j=A.offset,N=A.activeTooltipIndex,U=A.tooltipAxisBandSize,D=E.getTooltipEventType(),F=(S=P.props.active)!==null&&S!==void 0?S:T,q=E.props.layout,V=P.key||"_recharts-cursor";return R.createElement(Nme,{key:V,activeCoordinate:k,activePayload:C,activeTooltipIndex:N,chartName:n,element:P,isActive:F,layout:q,offset:j,tooltipAxisBandSize:U,tooltipEventType:D})}),ce(E,"renderPolarAxis",function(P,S,A){var T=Ln(P,"type.axisType"),k=Ln(E.state,"".concat(T,"Map")),C=P.type.defaultProps,j=C!==void 0?W(W({},C),P.props):P.props,N=k&&k[j["".concat(T,"Id")]];return M.cloneElement(P,W(W({},N),{},{className:_e(T,N.className),key:P.key||"".concat(S,"-").concat(A),ticks:hi(N,!0)}))}),ce(E,"renderPolarGrid",function(P){var S=P.props,A=S.radialLines,T=S.polarAngles,k=S.polarRadius,C=E.state,j=C.radiusAxisMap,N=C.angleAxisMap,U=ta(j),D=ta(N),F=D.cx,q=D.cy,V=D.innerRadius,z=D.outerRadius;return M.cloneElement(P,{polarAngles:Array.isArray(T)?T:hi(D,!0).map(function(Y){return Y.coordinate}),polarRadius:Array.isArray(k)?k:hi(U,!0).map(function(Y){return Y.coordinate}),cx:F,cy:q,innerRadius:V,outerRadius:z,key:P.key||"polar-grid",radialLines:A})}),ce(E,"renderLegend",function(){var P=E.state.formattedGraphicalItems,S=E.props,A=S.children,T=S.width,k=S.height,C=E.props.margin||{},j=T-(C.left||0)-(C.right||0),N=DR({children:A,formattedGraphicalItems:P,legendWidth:j,legendContent:u});if(!N)return null;var U=N.item,D=TI(N,jme);return M.cloneElement(U,W(W({},D),{},{chartWidth:T,chartHeight:k,margin:C,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),ce(E,"renderTooltip",function(){var P,S=E.props,A=S.children,T=S.accessibilityLayer,k=jn(A,Gn);if(!k)return null;var C=E.state,j=C.isTooltipActive,N=C.activeCoordinate,U=C.activePayload,D=C.activeLabel,F=C.offset,q=(P=k.props.active)!==null&&P!==void 0?P:j;return M.cloneElement(k,{viewBox:W(W({},F),{},{x:F.left,y:F.top}),active:q,label:D,payload:q?U:[],coordinate:N,accessibilityLayer:T})}),ce(E,"renderBrush",function(P){var S=E.props,A=S.margin,T=S.data,k=E.state,C=k.offset,j=k.dataStartIndex,N=k.dataEndIndex,U=k.updateId;return M.cloneElement(P,{key:P.key||"_recharts-brush",onChange:Ld(E.handleBrushChange,P.props.onChange),data:T,x:J(P.props.x)?P.props.x:C.left,y:J(P.props.y)?P.props.y:C.top+C.height+C.brushBottom-(A.bottom||0),width:J(P.props.width)?P.props.width:C.width,startIndex:j,endIndex:N,updateId:"brush-".concat(U)})}),ce(E,"renderReferenceElement",function(P,S,A){if(!P)return null;var T=E,k=T.clipPathId,C=E.state,j=C.xAxisMap,N=C.yAxisMap,U=C.offset,D=P.type.defaultProps||{},F=P.props,q=F.xAxisId,V=q===void 0?D.xAxisId:q,z=F.yAxisId,Y=z===void 0?D.yAxisId:z;return M.cloneElement(P,{key:P.key||"".concat(S,"-").concat(A),xAxis:j[V],yAxis:N[Y],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:k})}),ce(E,"renderActivePoints",function(P){var S=P.item,A=P.activePoint,T=P.basePoint,k=P.childIndex,C=P.isRange,j=[],N=S.props.key,U=S.item.type.defaultProps!==void 0?W(W({},S.item.type.defaultProps),S.item.props):S.item.props,D=U.activeDot,F=U.dataKey,q=W(W({index:k,dataKey:F,cx:A.x,cy:A.y,r:4,fill:qx(S.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},ue(D,!1)),ep(D));return j.push(_.renderActiveDot(D,q,"".concat(N,"-activePoint-").concat(k))),T?j.push(_.renderActiveDot(D,W(W({},q),{},{cx:T.x,cy:T.y}),"".concat(N,"-basePoint-").concat(k))):C&&j.push(null),j}),ce(E,"renderGraphicChild",function(P,S,A){var T=E.filterFormatItem(P,S,A);if(!T)return null;var k=E.getTooltipEventType(),C=E.state,j=C.isTooltipActive,N=C.tooltipAxis,U=C.activeTooltipIndex,D=C.activeLabel,F=E.props.children,q=jn(F,Gn),V=T.props,z=V.points,Y=V.isRange,ee=V.baseLine,Q=T.item.type.defaultProps!==void 0?W(W({},T.item.type.defaultProps),T.item.props):T.item.props,ne=Q.activeDot,Ee=Q.hide,je=Q.activeBar,rt=Q.activeShape,Mt=!!(!Ee&&j&&q&&(ne||je||rt)),Gt={};k!=="axis"&&q&&q.props.trigger==="click"?Gt={onClick:Ld(E.handleItemMouseEnter,P.props.onClick)}:k!=="axis"&&(Gt={onMouseLeave:Ld(E.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:Ld(E.handleItemMouseEnter,P.props.onMouseEnter)});var te=M.cloneElement(P,W(W({},T.props),Gt));function de(Qr){return typeof N.dataKey=="function"?N.dataKey(Qr.payload):null}if(Mt)if(U>=0){var me,G;if(N.dataKey&&!N.allowDuplicatedCategory){var ze=typeof N.dataKey=="function"?de:"payload.".concat(N.dataKey.toString());me=Zh(z,ze,D),G=Y&&ee&&Zh(ee,ze,D)}else me=z==null?void 0:z[U],G=Y&&ee&&ee[U];if(rt||je){var be=P.props.activeIndex!==void 0?P.props.activeIndex:U;return[M.cloneElement(P,W(W(W({},T.props),Gt),{},{activeIndex:be})),null,null]}if(!ve(me))return[te].concat(wl(E.renderActivePoints({item:T,activePoint:me,basePoint:G,childIndex:U,isRange:Y})))}else{var it,ut=(it=E.getItemByXY(E.state.activeCoordinate))!==null&&it!==void 0?it:{graphicalItem:te},Kt=ut.graphicalItem,Sr=Kt.item,Yr=Sr===void 0?P:Sr,Mi=Kt.childIndex,Ar=W(W(W({},T.props),Gt),{},{activeIndex:Mi});return[M.cloneElement(Yr,Ar),null,null]}return Y?[te,null,null]:[te,null]}),ce(E,"renderCustomized",function(P,S,A){return M.cloneElement(P,W(W({key:"recharts-customized-".concat(A)},E.props),E.state))}),ce(E,"renderMap",{CartesianGrid:{handler:zd,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:zd},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:zd},YAxis:{handler:zd},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((w=y.id)!==null&&w!==void 0?w:Ml("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=R$(E.triggeredAfterMouseMove,(I=y.throttleDelay)!==null&&I!==void 0?I:1e3/60),E.state={},E}return qme(_,v),Ume(_,[{key:"componentDidMount",value:function(){var w,I;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,I=w.children,E=w.data,P=w.height,S=w.layout,A=jn(I,Gn);if(A){var T=A.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,C=rb(this.state,E,T,k),j=this.state.tooltipTicks[T].coordinate,N=(this.state.offset.top+P)/2,U=S==="horizontal",D=U?{x:j,y:N}:{y:j,x:N},F=this.state.formattedGraphicalItems.find(function(V){var z=V.item;return z.type.name==="Scatter"});F&&(D=W(W({},D),F.props.points[T].tooltipPosition),C=F.props.points[T].tooltipPayload);var q={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:k,activePayload:C,activeCoordinate:D};this.setState(q),this.renderCursor(A),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,I){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==I.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var E,P;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(w){C0([jn(w.children,Gn)],[jn(this.props.children,Gn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=jn(this.props.children,Gn);if(w&&typeof w.props.shared=="boolean"){var I=w.props.shared?"axis":"item";return s.indexOf(I)>=0?I:a}return a}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var I=this.container,E=I.getBoundingClientRect(),P=Gte(E),S={chartX:Math.round(w.pageX-P.left),chartY:Math.round(w.pageY-P.top)},A=E.width/I.offsetWidth||1,T=this.inRange(S.chartX,S.chartY,A);if(!T)return null;var k=this.state,C=k.xAxisMap,j=k.yAxisMap,N=this.getTooltipEventType(),U=OI(this.state,this.props.data,this.props.layout,T);if(N!=="axis"&&C&&j){var D=ta(C).scale,F=ta(j).scale,q=D&&D.invert?D.invert(S.chartX):null,V=F&&F.invert?F.invert(S.chartY):null;return W(W({},S),{},{xValue:q,yValue:V},U)}return U?W(W({},S),U):null}},{key:"inRange",value:function(w,I){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,S=w/E,A=I/E;if(P==="horizontal"||P==="vertical"){var T=this.state.offset,k=S>=T.left&&S<=T.left+T.width&&A>=T.top&&A<=T.top+T.height;return k?{x:S,y:A}:null}var C=this.state,j=C.angleAxisMap,N=C.radiusAxisMap;if(j&&N){var U=ta(j);return ZP({x:S,y:A},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,I=this.getTooltipEventType(),E=jn(w,Gn),P={};E&&I==="axis"&&(E.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=ep(this.props,this.handleOuterEvent);return W(W({},S),P)}},{key:"addListener",value:function(){oy.on(sy,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){oy.removeListener(sy,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,I,E){for(var P=this.state.formattedGraphicalItems,S=0,A=P.length;S<A;S++){var T=P[S];if(T.item===w||T.props.key===w.key||I===gi(T.item.type)&&E===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,I=this.state.offset,E=I.left,P=I.top,S=I.height,A=I.width;return R.createElement("defs",null,R.createElement("clipPath",{id:w},R.createElement("rect",{x:E,y:P,height:S,width:A})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(I,E){var P=AI(E,2),S=P[0],A=P[1];return W(W({},I),{},ce({},S,A.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(I,E){var P=AI(E,2),S=P[0],A=P[1];return W(W({},I),{},ce({},S,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var I;return(I=this.state.xAxisMap)===null||I===void 0||(I=I[w])===null||I===void 0?void 0:I.scale}},{key:"getYScaleByAxisId",value:function(w){var I;return(I=this.state.yAxisMap)===null||I===void 0||(I=I[w])===null||I===void 0?void 0:I.scale}},{key:"getItemByXY",value:function(w){var I=this.state,E=I.formattedGraphicalItems,P=I.activeItem;if(E&&E.length)for(var S=0,A=E.length;S<A;S++){var T=E[S],k=T.props,C=T.item,j=C.type.defaultProps!==void 0?W(W({},C.type.defaultProps),C.props):C.props,N=gi(C.type);if(N==="Bar"){var U=(k.data||[]).find(function(V){return Iue(w,V)});if(U)return{graphicalItem:T,payload:U}}else if(N==="RadialBar"){var D=(k.data||[]).find(function(V){return ZP(w,V)});if(D)return{graphicalItem:T,payload:D}}else if(Eg(T,P)||Sg(T,P)||of(T,P)){var F=vfe({graphicalItem:T,activeTooltipItem:P,itemData:j.data}),q=j.activeIndex===void 0?F:j.activeIndex;return{graphicalItem:W(W({},T),{},{childIndex:q}),payload:of(T,P)?j.data[F]:T.props.data[F]}}}return null}},{key:"render",value:function(){var w=this;if(!zA(this))return null;var I=this.props,E=I.children,P=I.className,S=I.width,A=I.height,T=I.style,k=I.compact,C=I.title,j=I.desc,N=TI(I,$me),U=ue(N,!1);if(k)return R.createElement(sI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},R.createElement(j0,gs({},U,{width:S,height:A,title:C,desc:j}),this.renderClipPath(),qA(E,this.renderMap)));if(this.props.accessibilityLayer){var D,F;U.tabIndex=(D=this.props.tabIndex)!==null&&D!==void 0?D:0,U.role=(F=this.props.role)!==null&&F!==void 0?F:"application",U.onKeyDown=function(V){w.accessibilityManager.keyboardEvent(V)},U.onFocus=function(){w.accessibilityManager.focus()}}var q=this.parseEventsOfWrapper();return R.createElement(sI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},R.createElement("div",gs({className:_e("recharts-wrapper",P),style:W({position:"relative",cursor:"default",width:S,height:A},T)},q,{ref:function(z){w.container=z}}),R.createElement(j0,gs({},U,{width:S,height:A,title:C,desc:j,style:Xme}),this.renderClipPath(),qA(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(M.Component);ce(m,"displayName",n),ce(m,"defaultProps",W({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ce(m,"getDerivedStateFromProps",function(v,_){var y=v.dataKey,w=v.data,I=v.children,E=v.width,P=v.height,S=v.layout,A=v.stackOffset,T=v.margin,k=_.dataStartIndex,C=_.dataEndIndex;if(_.updateId===void 0){var j=II(v);return W(W(W({},j),{},{updateId:0},p(W(W({props:v},j),{},{updateId:0}),_)),{},{prevDataKey:y,prevData:w,prevWidth:E,prevHeight:P,prevLayout:S,prevStackOffset:A,prevMargin:T,prevChildren:I})}if(y!==_.prevDataKey||w!==_.prevData||E!==_.prevWidth||P!==_.prevHeight||S!==_.prevLayout||A!==_.prevStackOffset||!Ps(T,_.prevMargin)){var N=II(v),U={chartX:_.chartX,chartY:_.chartY,isTooltipActive:_.isTooltipActive},D=W(W({},OI(_,w,S)),{},{updateId:_.updateId+1}),F=W(W(W({},N),U),D);return W(W(W({},F),p(W({props:v},F),_)),{},{prevDataKey:y,prevData:w,prevWidth:E,prevHeight:P,prevLayout:S,prevStackOffset:A,prevMargin:T,prevChildren:I})}if(!C0(I,_.prevChildren)){var q,V,z,Y,ee=jn(I,cl),Q=ee&&(q=(V=ee.props)===null||V===void 0?void 0:V.startIndex)!==null&&q!==void 0?q:k,ne=ee&&(z=(Y=ee.props)===null||Y===void 0?void 0:Y.endIndex)!==null&&z!==void 0?z:C,Ee=Q!==k||ne!==C,je=!ve(w),rt=je&&!Ee?_.updateId:_.updateId+1;return W(W({updateId:rt},p(W(W({props:v},_),{},{updateId:rt,dataStartIndex:Q,dataEndIndex:ne}),_)),{},{prevChildren:I,dataStartIndex:Q,dataEndIndex:ne})}return null}),ce(m,"renderActiveDot",function(v,_,y){var w;return M.isValidElement(v)?w=M.cloneElement(v,_):fe(v)?w=v(_):w=R.createElement(yg,_),R.createElement(Ce,{className:"recharts-active-dot",key:y},w)});var g=M.forwardRef(function(_,y){return R.createElement(m,gs({},_,{ref:y}))});return g.displayName=m.displayName,g},sge=sM({chartName:"LineChart",GraphicalChild:vl,axisComponents:[{axisType:"xAxis",AxisComp:kg},{axisType:"yAxis",AxisComp:Cg}],formatAxisMap:Yde}),lM=sM({chartName:"PieChart",GraphicalChild:Kr,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:xg},{axisType:"radiusAxis",AxisComp:bg}],formatAxisMap:zoe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const lge=({date:t})=>{const{currentUser:e,users:n,getEntriesForDate:r}=qr(),i=n.find(c=>c.id===e),a=r(e,t),o=(i==null?void 0:i.goals)||{protein_g:160,carbs_g:220,fat_g:60,kcal:2400,water_ml:3e3},s=a.reduce((c,f)=>({protein_g:c.protein_g+f.protein_g,carbs_g:c.carbs_g+f.carbs_g,fat_g:c.fat_g+f.fat_g,kcal:c.kcal+f.kcal,water_ml:c.water_ml+(f.foodId==="agua"?f.qty:0)}),{protein_g:0,carbs_g:0,fat_g:0,kcal:0,water_ml:0}),l=c=>{const[f,h,p]=c.split("-");return`${p}/${h}/${f}`},u=[{name:"Proteínas",value:s.protein_g,color:"#3B82F6"},{name:"Carboidratos",value:s.carbs_g,color:"#10B981"},{name:"Gorduras",value:s.fat_g,color:"#F59E0B"}];return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"text-center",children:[x.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Relatório Diário"}),x.jsx("p",{className:"text-gray-600",children:l(t)})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[x.jsx(He,{children:x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"text-2xl font-bold text-blue-600 mb-2",children:[Ie(s.protein_g),"g"]}),x.jsx("div",{className:"text-sm text-gray-600 mb-3",children:"Proteínas"}),x.jsx(Zo,{value:s.protein_g,max:o.protein_g,color:"blue"}),x.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Meta: ",o.protein_g,"g"]})]})}),x.jsx(He,{children:x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"text-2xl font-bold text-green-600 mb-2",children:[Ie(s.carbs_g),"g"]}),x.jsx("div",{className:"text-sm text-gray-600 mb-3",children:"Carboidratos"}),x.jsx(Zo,{value:s.carbs_g,max:o.carbs_g,color:"green"}),x.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Meta: ",o.carbs_g,"g"]})]})}),x.jsx(He,{children:x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"text-2xl font-bold text-yellow-600 mb-2",children:[Ie(s.fat_g),"g"]}),x.jsx("div",{className:"text-sm text-gray-600 mb-3",children:"Gorduras"}),x.jsx(Zo,{value:s.fat_g,max:o.fat_g,color:"yellow"}),x.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Meta: ",o.fat_g,"g"]})]})}),x.jsx(He,{children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"text-2xl font-bold text-red-600 mb-2",children:Ie(s.kcal)}),x.jsx("div",{className:"text-sm text-gray-600 mb-3",children:"Calorias"}),x.jsx(Zo,{value:s.kcal,max:o.kcal,color:"red"}),x.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Meta: ",o.kcal]})]})}),x.jsx(He,{children:x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"text-2xl font-bold text-cyan-600 mb-2",children:[Ie(s.water_ml),"ml"]}),x.jsx("div",{className:"text-sm text-gray-600 mb-3",children:"Água"}),x.jsx(Zo,{value:s.water_ml,max:o.water_ml,color:"cyan"}),x.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Meta: ",o.water_ml,"ml"]})]})})]}),x.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-1 gap-6",children:x.jsxs(He,{children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Distribuição de Macronutrientes"}),x.jsx("div",{className:"h-64",children:x.jsx(e_,{width:"100%",height:"100%",children:x.jsxs(lM,{children:[x.jsx(Kr,{data:u,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:u.map((c,f)=>x.jsx(jf,{fill:c.color},`cell-${f}`))}),x.jsx(Gn,{formatter:c=>[`${c}g`,""]})]})})}),x.jsx("div",{className:"flex justify-center space-x-4 mt-4",children:u.map(c=>x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:c.color}}),x.jsx("span",{className:"text-sm text-gray-600",children:c.name})]},c.name))})]})})]})};function em(t){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},em(t)}function xr(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function It(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function zn(t){It(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||em(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function ib(t,e){It(2,arguments);var n=zn(t),r=xr(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function uge(t,e){It(2,arguments);var n=zn(t).getTime(),r=xr(e);return new Date(n+r)}var cge={};function ql(){return cge}function uM(t,e){var n,r,i,a,o,s,l,u;It(1,arguments);var c=ql(),f=xr((n=(r=(i=(a=e==null?void 0:e.weekStartsOn)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=zn(t),p=h.getDay(),m=(p<f?7:0)+p-f;return h.setDate(h.getDate()-m),h.setHours(0,0,0,0),h}function fge(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function dge(t){return It(1,arguments),t instanceof Date||em(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function hge(t){if(It(1,arguments),!dge(t)&&typeof t!="number")return!1;var e=zn(t);return!isNaN(Number(e))}function pge(t,e){var n,r,i,a,o,s,l,u;It(1,arguments);var c=ql(),f=xr((n=(r=(i=(a=e==null?void 0:e.weekStartsOn)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=zn(t),p=h.getDay(),m=(p<f?-7:0)+6-(p-f);return h.setDate(h.getDate()+m),h.setHours(23,59,59,999),h}function mge(t,e){It(2,arguments);var n=xr(e);return uge(t,-n)}var gge=864e5;function vge(t){It(1,arguments);var e=zn(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/gge)+1}function tm(t){It(1,arguments);var e=1,n=zn(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function cM(t){It(1,arguments);var e=zn(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=tm(r),a=new Date(0);a.setUTCFullYear(n,0,4),a.setUTCHours(0,0,0,0);var o=tm(a);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function yge(t){It(1,arguments);var e=cM(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=tm(n);return r}var _ge=6048e5;function bge(t){It(1,arguments);var e=zn(t),n=tm(e).getTime()-yge(e).getTime();return Math.round(n/_ge)+1}function nm(t,e){var n,r,i,a,o,s,l,u;It(1,arguments);var c=ql(),f=xr((n=(r=(i=(a=e==null?void 0:e.weekStartsOn)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=zn(t),p=h.getUTCDay(),m=(p<f?7:0)+p-f;return h.setUTCDate(h.getUTCDate()-m),h.setUTCHours(0,0,0,0),h}function fM(t,e){var n,r,i,a,o,s,l,u;It(1,arguments);var c=zn(t),f=c.getUTCFullYear(),h=ql(),p=xr((n=(r=(i=(a=e==null?void 0:e.firstWeekContainsDate)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(f+1,0,p),m.setUTCHours(0,0,0,0);var g=nm(m,e),v=new Date(0);v.setUTCFullYear(f,0,p),v.setUTCHours(0,0,0,0);var _=nm(v,e);return c.getTime()>=g.getTime()?f+1:c.getTime()>=_.getTime()?f:f-1}function wge(t,e){var n,r,i,a,o,s,l,u;It(1,arguments);var c=ql(),f=xr((n=(r=(i=(a=e==null?void 0:e.firstWeekContainsDate)!==null&&a!==void 0?a:e==null||(o=e.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),h=fM(t,e),p=new Date(0);p.setUTCFullYear(h,0,f),p.setUTCHours(0,0,0,0);var m=nm(p,e);return m}var xge=6048e5;function Ege(t,e){It(1,arguments);var n=zn(t),r=nm(n,e).getTime()-wge(n,e).getTime();return Math.round(r/xge)+1}function De(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var qi={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return De(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):De(r+1,2)},d:function(e,n){return De(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return De(e.getUTCHours()%12||12,n.length)},H:function(e,n){return De(e.getUTCHours(),n.length)},m:function(e,n){return De(e.getUTCMinutes(),n.length)},s:function(e,n){return De(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),a=Math.floor(i*Math.pow(10,r-3));return De(a,n.length)}},Yo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Sge={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),a=i>0?i:1-i;return r.ordinalNumber(a,{unit:"year"})}return qi.y(e,n)},Y:function(e,n,r,i){var a=fM(e,i),o=a>0?a:1-a;if(n==="YY"){var s=o%100;return De(s,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):De(o,n.length)},R:function(e,n){var r=cM(e);return De(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return De(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return De(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return De(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return qi.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return De(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var a=Ege(e,i);return n==="wo"?r.ordinalNumber(a,{unit:"week"}):De(a,n.length)},I:function(e,n,r){var i=bge(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):De(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):qi.d(e,n)},D:function(e,n,r){var i=vge(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):De(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var a=e.getUTCDay(),o=(a-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return De(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var a=e.getUTCDay(),o=(a-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return De(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),a=i===0?7:i;switch(n){case"i":return String(a);case"ii":return De(a,n.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),a=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),a;switch(i===12?a=Yo.noon:i===0?a=Yo.midnight:a=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),a;switch(i>=17?a=Yo.evening:i>=12?a=Yo.afternoon:i>=4?a=Yo.morning:a=Yo.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return qi.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):qi.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):De(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):De(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):qi.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):qi.s(e,n)},S:function(e,n){return qi.S(e,n)},X:function(e,n,r,i){var a=i._originalDate||e,o=a.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return NI(o);case"XXXX":case"XX":return Ka(o);case"XXXXX":case"XXX":default:return Ka(o,":")}},x:function(e,n,r,i){var a=i._originalDate||e,o=a.getTimezoneOffset();switch(n){case"x":return NI(o);case"xxxx":case"xx":return Ka(o);case"xxxxx":case"xxx":default:return Ka(o,":")}},O:function(e,n,r,i){var a=i._originalDate||e,o=a.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+CI(o,":");case"OOOO":default:return"GMT"+Ka(o,":")}},z:function(e,n,r,i){var a=i._originalDate||e,o=a.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+CI(o,":");case"zzzz":default:return"GMT"+Ka(o,":")}},t:function(e,n,r,i){var a=i._originalDate||e,o=Math.floor(a.getTime()/1e3);return De(o,n.length)},T:function(e,n,r,i){var a=i._originalDate||e,o=a.getTime();return De(o,n.length)}};function CI(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),a=r%60;if(a===0)return n+String(i);var o=e;return n+String(i)+o+De(a,2)}function NI(t,e){if(t%60===0){var n=t>0?"-":"+";return n+De(Math.abs(t)/60,2)}return Ka(t,e)}function Ka(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),a=De(Math.floor(i/60),2),o=De(i%60,2);return r+a+n+o}var jI=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},dM=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Age=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],a=r[2];if(!a)return jI(e,n);var o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",jI(i,n)).replace("{{time}}",dM(a,n))},Tge={p:dM,P:Age},Pge=["D","DD"],Oge=["YY","YYYY"];function Ige(t){return Pge.indexOf(t)!==-1}function kge(t){return Oge.indexOf(t)!==-1}function $I(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Cge={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Nge=function(e,n,r){var i,a=Cge[e];return typeof a=="string"?i=a:n===1?i=a.one:i=a.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};function Cs(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var jge={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},$ge={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Rge={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Dge={date:Cs({formats:jge,defaultWidth:"full"}),time:Cs({formats:$ge,defaultWidth:"full"}),dateTime:Cs({formats:Rge,defaultWidth:"full"})},Mge={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Lge=function(e,n,r,i){return Mge[e]};function Ir(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var a=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{var s=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[s]}var u=t.argumentCallback?t.argumentCallback(e):e;return i[u]}}var Fge={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Vge={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Uge={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Bge={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},zge={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Wge={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},qge=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Hge={ordinalNumber:qge,era:Ir({values:Fge,defaultWidth:"wide"}),quarter:Ir({values:Vge,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Ir({values:Uge,defaultWidth:"wide"}),day:Ir({values:Bge,defaultWidth:"wide"}),dayPeriod:Ir({values:zge,defaultWidth:"wide",formattingValues:Wge,defaultFormattingWidth:"wide"})};function kr(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;var o=a[0],s=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(s)?Kge(s,function(f){return f.test(o)}):Gge(s,function(f){return f.test(o)}),u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;var c=e.slice(o.length);return{value:u,rest:c}}}function Gge(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function Kge(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function hM(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],a=e.match(t.parsePattern);if(!a)return null;var o=t.valueCallback?t.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;var s=e.slice(i.length);return{value:o,rest:s}}}var Yge=/^(\d+)(th|st|nd|rd)?/i,Qge=/\d+/i,Xge={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Jge={any:[/^b/i,/^(a|c)/i]},Zge={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},eve={any:[/1/i,/2/i,/3/i,/4/i]},tve={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},nve={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},rve={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ive={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ave={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ove={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},sve={ordinalNumber:hM({matchPattern:Yge,parsePattern:Qge,valueCallback:function(e){return parseInt(e,10)}}),era:kr({matchPatterns:Xge,defaultMatchWidth:"wide",parsePatterns:Jge,defaultParseWidth:"any"}),quarter:kr({matchPatterns:Zge,defaultMatchWidth:"wide",parsePatterns:eve,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:kr({matchPatterns:tve,defaultMatchWidth:"wide",parsePatterns:nve,defaultParseWidth:"any"}),day:kr({matchPatterns:rve,defaultMatchWidth:"wide",parsePatterns:ive,defaultParseWidth:"any"}),dayPeriod:kr({matchPatterns:ave,defaultMatchWidth:"any",parsePatterns:ove,defaultParseWidth:"any"})},lve={code:"en-US",formatDistance:Nge,formatLong:Dge,formatRelative:Lge,localize:Hge,match:sve,options:{weekStartsOn:0,firstWeekContainsDate:1}},uve=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,cve=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fve=/^'([^]*?)'?$/,dve=/''/g,hve=/[a-zA-Z]/;function Tu(t,e,n){var r,i,a,o,s,l,u,c,f,h,p,m,g,v,_,y,w,I;It(2,arguments);var E=String(e),P=ql(),S=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:P.locale)!==null&&r!==void 0?r:lve,A=xr((a=(o=(s=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(u=n.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&s!==void 0?s:P.firstWeekContainsDate)!==null&&o!==void 0?o:(f=P.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(A>=1&&A<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var T=xr((p=(m=(g=(v=n==null?void 0:n.weekStartsOn)!==null&&v!==void 0?v:n==null||(_=n.locale)===null||_===void 0||(y=_.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&g!==void 0?g:P.weekStartsOn)!==null&&m!==void 0?m:(w=P.locale)===null||w===void 0||(I=w.options)===null||I===void 0?void 0:I.weekStartsOn)!==null&&p!==void 0?p:0);if(!(T>=0&&T<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!S.localize)throw new RangeError("locale must contain localize property");if(!S.formatLong)throw new RangeError("locale must contain formatLong property");var k=zn(t);if(!hge(k))throw new RangeError("Invalid time value");var C=fge(k),j=mge(k,C),N={firstWeekContainsDate:A,weekStartsOn:T,locale:S,_originalDate:k},U=E.match(cve).map(function(D){var F=D[0];if(F==="p"||F==="P"){var q=Tge[F];return q(D,S.formatLong)}return D}).join("").match(uve).map(function(D){if(D==="''")return"'";var F=D[0];if(F==="'")return pve(D);var q=Sge[F];if(q)return!(n!=null&&n.useAdditionalWeekYearTokens)&&kge(D)&&$I(D,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&Ige(D)&&$I(D,e,String(t)),q(j,D,S.localize,N);if(F.match(hve))throw new RangeError("Format string contains an unescaped latin alphabet character `"+F+"`");return D}).join("");return U}function pve(t){var e=t.match(fve);return e?e[1].replace(dve,"'"):t}function mve(t,e){It(2,arguments);var n=xr(e);return ib(t,-n)}var gve={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},vve=function(e,n,r){var i,a=gve[e];return typeof a=="string"?i=a:n===1?i=a.one:i=a.other.replace("{{count}}",String(n)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+i:"há "+i:i},yve={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},_ve={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},bve={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},wve={date:Cs({formats:yve,defaultWidth:"full"}),time:Cs({formats:_ve,defaultWidth:"full"}),dateTime:Cs({formats:bve,defaultWidth:"full"})},xve={lastWeek:function(e){var n=e.getUTCDay(),r=n===0||n===6?"último":"última";return"'"+r+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},Eve=function(e,n,r,i){var a=xve[e];return typeof a=="function"?a(n):a},Sve={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},Ave={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},Tve={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},Pve={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},Ove={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},Ive={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},kve=function(e,n){var r=Number(e);return(n==null?void 0:n.unit)==="week"?r+"ª":r+"º"},Cve={ordinalNumber:kve,era:Ir({values:Sve,defaultWidth:"wide"}),quarter:Ir({values:Ave,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Ir({values:Tve,defaultWidth:"wide"}),day:Ir({values:Pve,defaultWidth:"wide"}),dayPeriod:Ir({values:Ove,defaultWidth:"wide",formattingValues:Ive,defaultFormattingWidth:"wide"})},Nve=/^(\d+)[ºªo]?/i,jve=/\d+/i,$ve={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},Rve={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},Dve={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},Mve={any:[/1/i,/2/i,/3/i,/4/i]},Lve={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},Fve={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},Vve={narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},Uve={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},Bve={narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},zve={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},Wve={ordinalNumber:hM({matchPattern:Nve,parsePattern:jve,valueCallback:function(e){return parseInt(e,10)}}),era:kr({matchPatterns:$ve,defaultMatchWidth:"wide",parsePatterns:Rve,defaultParseWidth:"any"}),quarter:kr({matchPatterns:Dve,defaultMatchWidth:"wide",parsePatterns:Mve,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:kr({matchPatterns:Lve,defaultMatchWidth:"wide",parsePatterns:Fve,defaultParseWidth:"any"}),day:kr({matchPatterns:Vve,defaultMatchWidth:"wide",parsePatterns:Uve,defaultParseWidth:"any"}),dayPeriod:kr({matchPatterns:Bve,defaultMatchWidth:"any",parsePatterns:zve,defaultParseWidth:"any"})},uy={code:"pt-BR",formatDistance:vve,formatLong:wve,formatRelative:Eve,localize:Cve,match:Wve,options:{weekStartsOn:0,firstWeekContainsDate:1}};const qve=({weekStart:t,onWeekChange:e})=>{const{currentUser:n,users:r,getEntriesForDateRange:i}=qr(),a=r.find(g=>g.id===n),o=pge(t,{weekStartsOn:1}),s=(a==null?void 0:a.goals)||{protein_g:160,carbs_g:220,fat_g:60,kcal:2400,water_ml:3e3},l=Array.from({length:7},(g,v)=>{const _=ib(t,v),y=Tu(_,"yyyy-MM-dd"),I=i(n,y,y).reduce((E,P)=>({protein_g:E.protein_g+P.protein_g,carbs_g:E.carbs_g+P.carbs_g,fat_g:E.fat_g+P.fat_g,kcal:E.kcal+P.kcal,water_ml:E.water_ml+(P.foodId==="agua"?P.qty:0)}),{protein_g:0,carbs_g:0,fat_g:0,kcal:0,water_ml:0});return{date:y,dayName:Tu(_,"EEE",{locale:uy}),dayNumber:Tu(_,"dd"),...I}}),u=l.reduce((g,v)=>({protein_g:g.protein_g+v.protein_g,carbs_g:g.carbs_g+v.carbs_g,fat_g:g.fat_g+v.fat_g,kcal:g.kcal+v.kcal,water_ml:g.water_ml+v.water_ml}),{protein_g:0,carbs_g:0,fat_g:0,kcal:0,water_ml:0}),c={totalCalories:u.kcal,avgCalories:u.kcal/7,totalWater:u.water_ml,avgWater:u.water_ml/7,goalWater:s.water_ml*7,bestDay:l.reduce((g,v)=>Math.abs(v.kcal-s.kcal)<Math.abs(g.kcal-s.kcal)?v:g),worstDay:l.reduce((g,v)=>Math.abs(v.kcal-s.kcal)>Math.abs(g.kcal-s.kcal)?v:g),progressPercentages:{protein:s.protein_g>0?Math.round(u.protein_g/(s.protein_g*7)*100):0,carbs:s.carbs_g>0?Math.round(u.carbs_g/(s.carbs_g*7)*100):0,fat:s.fat_g>0?Math.round(u.fat_g/(s.fat_g*7)*100):0,kcal:Math.round(u.kcal/(s.kcal*7)*100),water:s.water_ml>0?Math.round(u.water_ml/(s.water_ml*7)*100):0}},f=[{name:"Proteínas",value:u.protein_g,color:"#3B82F6"},{name:"Carboidratos",value:u.carbs_g,color:"#10B981"},{name:"Gorduras",value:u.fat_g,color:"#F59E0B"}],h=()=>{e(mve(t,7))},p=()=>{e(ib(t,7))},m=()=>{e(uM(new Date,{weekStartsOn:1}))};return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"text-center",children:[x.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Relatório Semanal"}),x.jsxs("p",{className:"text-gray-600",children:[Tu(t,"dd/MM/yyyy",{locale:uy})," - ",Tu(o,"dd/MM/yyyy",{locale:uy})]})]}),x.jsxs("div",{className:"flex justify-center space-x-2",children:[x.jsx(Ae,{onClick:h,variant:"secondary",size:"sm",children:"← Semana Anterior"}),x.jsx(Ae,{onClick:m,variant:"secondary",size:"sm",children:"Semana Atual"}),x.jsx(Ae,{onClick:p,variant:"secondary",size:"sm",children:"Próxima Semana →"})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[x.jsx(He,{children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"text-2xl font-bold text-red-600 mb-2",children:Ie(u.kcal)}),x.jsx("div",{className:"text-sm text-gray-600 mb-3",children:"Calorias Totais"}),x.jsxs("div",{className:"text-xs text-gray-500",children:["Média: ",Ie(c.avgCalories),"/dia"]})]})}),x.jsx(He,{children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"text-2xl font-bold text-green-600 mb-2",children:Ie(c.bestDay.kcal)}),x.jsx("div",{className:"text-sm text-gray-600 mb-3",children:"Melhor Dia"}),x.jsxs("div",{className:"text-xs text-gray-500",children:[c.bestDay.dayName," ",c.bestDay.dayNumber]})]})}),x.jsx(He,{children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"text-2xl font-bold text-orange-600 mb-2",children:Ie(c.worstDay.kcal)}),x.jsx("div",{className:"text-sm text-gray-600 mb-3",children:"Pior Dia"}),x.jsxs("div",{className:"text-xs text-gray-500",children:[c.worstDay.dayName," ",c.worstDay.dayNumber]})]})}),x.jsx(He,{children:x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"text-2xl font-bold text-cyan-600 mb-2",children:[Ie(u.water_ml),"ml"]}),x.jsx("div",{className:"text-sm text-gray-600 mb-3",children:"Água Total"}),x.jsx(Zo,{value:u.water_ml,max:c.goalWater,color:"cyan"}),x.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Meta: ",c.goalWater,"ml"]})]})}),x.jsx(He,{children:x.jsxs("div",{className:"text-center",children:[x.jsxs("div",{className:"text-2xl font-bold text-purple-600 mb-2",children:[c.progressPercentages.kcal,"%"]}),x.jsx("div",{className:"text-sm text-gray-600 mb-3",children:"Progresso"}),x.jsx("div",{className:"text-xs text-gray-500",children:"Meta semanal"})]})})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[x.jsxs(He,{children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Calorias Diárias"}),x.jsx("div",{className:"h-64",children:x.jsx(e_,{width:"100%",height:"100%",children:x.jsxs(sge,{data:l,children:[x.jsx(WD,{strokeDasharray:"3 3"}),x.jsx(kg,{dataKey:"dayName",tick:{fontSize:12}}),x.jsx(Cg,{tick:{fontSize:12}}),x.jsx(Gn,{formatter:g=>[`${g} kcal`,"Calorias"],labelFormatter:g=>`Dia: ${g}`}),x.jsx(vl,{type:"monotone",dataKey:"kcal",stroke:"#3B82F6",strokeWidth:2,dot:{fill:"#3B82F6",strokeWidth:2,r:4}}),x.jsx(vl,{type:"monotone",dataKey:"goal",stroke:"#10B981",strokeWidth:2,strokeDasharray:"5 5",dot:!1})]})})})]}),x.jsxs(He,{children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Distribuição de Macronutrientes"}),x.jsx("div",{className:"h-64",children:x.jsx(e_,{width:"100%",height:"100%",children:x.jsxs(lM,{children:[x.jsx(Kr,{data:f,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:f.map((g,v)=>x.jsx(jf,{fill:g.color},`cell-${v}`))}),x.jsx(Gn,{formatter:g=>[`${g}g`,""]})]})})}),x.jsx("div",{className:"flex justify-center space-x-4 mt-4",children:f.map(g=>x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:g.color}}),x.jsx("span",{className:"text-sm text-gray-600",children:g.name})]},g.name))})]})]}),x.jsxs(He,{children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Resumo Diário"}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-7 gap-4",children:l.map(g=>x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"font-medium text-gray-900 mb-2",children:g.dayName}),x.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:Ie(g.kcal)}),x.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"kcal"}),x.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[x.jsxs("div",{children:[Ie(g.protein_g),"p"]}),x.jsxs("div",{children:[Ie(g.carbs_g),"c"]}),x.jsxs("div",{children:[Ie(g.fat_g),"g"]}),x.jsxs("div",{className:"text-cyan-600",children:[Ie(g.water_ml),"ml"]})]})]},g.date))})]}),x.jsxs(He,{children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Resumo Semanal"}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{children:[x.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Macronutrientes"}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{className:"text-gray-600",children:"Proteínas:"}),x.jsxs("span",{className:"font-medium",children:[Ie(u.protein_g),"g",x.jsxs("span",{className:"text-sm text-gray-500 ml-1",children:["(",c.progressPercentages.protein,"%)"]})]})]}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{className:"text-gray-600",children:"Carboidratos:"}),x.jsxs("span",{className:"font-medium",children:[Ie(u.carbs_g),"g",x.jsxs("span",{className:"text-sm text-gray-500 ml-1",children:["(",c.progressPercentages.carbs,"%)"]})]})]}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{className:"text-gray-600",children:"Gorduras:"}),x.jsxs("span",{className:"font-medium",children:[Ie(u.fat_g),"g",x.jsxs("span",{className:"text-sm text-gray-500 ml-1",children:["(",c.progressPercentages.fat,"%)"]})]})]})]})]}),x.jsxs("div",{children:[x.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Outros"}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{className:"text-gray-600",children:"Calorias:"}),x.jsxs("span",{className:"font-medium",children:[Ie(u.kcal),x.jsxs("span",{className:"text-sm text-gray-500 ml-1",children:["(",c.progressPercentages.kcal,"%)"]})]})]}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{className:"text-gray-600",children:"Água:"}),x.jsxs("span",{className:"font-medium",children:[Ie(u.water_ml),"ml",x.jsxs("span",{className:"text-sm text-gray-500 ml-1",children:["(",c.progressPercentages.water,"%)"]})]})]})]})]})]})]})]})},Hve=({isOpen:t,onClose:e})=>{const[n,r]=M.useState("daily"),[i,a]=M.useState(new Date().toISOString().split("T")[0]),[o,s]=M.useState(uM(new Date,{weekStartsOn:1})),l=h=>{a(h.target.value)},u=h=>{s(h)},c=[{id:"daily",label:"Diário",icon:"📅"},{id:"weekly",label:"Semanal",icon:"📊"},{id:"monthly",label:"Mensal",icon:"📈"}],f=()=>{switch(n){case"daily":return x.jsx(lge,{date:i});case"weekly":return x.jsx(qve,{weekStart:o,onWeekChange:u});case"monthly":return x.jsxs("div",{className:"text-center py-8",children:[x.jsx("div",{className:"text-4xl mb-4",children:"📈"}),x.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Relatório Mensal"}),x.jsx("p",{className:"text-gray-600",children:"Em desenvolvimento..."})]});default:return null}};return t?x.jsx(Oi,{isOpen:t,onClose:e,title:"📊 Relatórios",size:"xl",children:x.jsxs("div",{className:"space-y-6",children:[x.jsx("div",{className:"border-b border-gray-200",children:x.jsx("nav",{className:"-mb-px flex space-x-8",children:c.map(h=>x.jsxs("button",{onClick:()=>r(h.id),className:`py-2 px-1 border-b-2 font-medium text-sm min-h-[44px] flex items-center space-x-2 ${n===h.id?"border-blue-500 text-blue-600 bg-white":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[x.jsx("span",{children:h.icon}),x.jsx("span",{children:h.label})]},h.id))})}),n==="daily"&&x.jsxs("div",{className:"flex items-center space-x-4",children:[x.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Data:"}),x.jsx("input",{type:"date",value:i,onChange:l,className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),x.jsx("div",{className:"min-h-[600px]",children:f()})]})}):null},Gve=({isOpen:t=!1,onClose:e=()=>{},onLoadingChange:n})=>{const{users:r,setUsers:i,addEntryFromSync:a,addFood:o,updateFood:s,loadInitialData:l}=qr(),[u,c]=M.useState(!1),[f,h]=M.useState(!1),[p,m]=M.useState("idle"),[g,v]=M.useState(!1);M.useEffect(()=>{const A=xt.onAuthStateChanged(T=>{const k=T!==null;c(k),k?(console.log("✅ Usuário autenticado:",T.displayName),_()):console.log("❌ Usuário não autenticado")});return()=>A()},[]);const _=async()=>{xt.getCurrentUser()&&(c(!0),console.log("✅ Usuário autenticado, verificando sincronização..."),n==null||n(!0),console.log("✅ Sincronização automática desabilitada temporariamente"),setTimeout(()=>{n==null||n(!1)},1e3))},y=async()=>{h(!0),m("syncing"),n==null||n(!0);try{await xt.signInWithGoogle()?(c(!0),console.log("✅ Login realizado, verificando sincronização..."),console.log("✅ Sincronização automática desabilitada temporariamente")):m("error")}catch(A){console.error("Erro no login:",A),m("error")}finally{h(!1),n==null||n(!1)}},w=async()=>{await xt.signOut(),c(!1),m("idle")},I=async(A,T)=>{h(!0),m("syncing");try{if(A===void 0||T===void 0){const{entries:k,foods:C,users:j}=await xt.loadAllUsersData();console.log(`📊 Dados carregados do Firebase: ${k.length} entradas, ${C.length} alimentos, ${j.length} usuários`),console.log(`🔄 Sincronizando ${C.length} alimentos do Firebase...`),console.log("🔄 Sincronizando alimentos do Firebase para local...");for(const D of C)try{const F=await le.getFood(D.id);if(F){const q=F.updatedAt||0;(D.updatedAt||0)>q?(await s(D),console.log(`🔄 Alimento atualizado do Firebase: ${D.name}`)):console.log(`✅ Alimento local mais recente: ${D.name}`)}else await o(D),console.log(`✅ Alimento adicionado do Firebase: ${D.name}`)}catch(F){console.warn(`⚠️ Erro ao sincronizar alimento ${D.name}:`,F)}const N=await le.getAllEntries();console.log(`📊 Entradas locais: ${N.length}, Firebase: ${k.length}`);const U=new Set(N.map(D=>D.id));for(const D of k)U.has(D.id)?(await le.updateEntry(D),console.log(`🔄 Entrada atualizada: ${D.id}`)):(await le.addEntry(D),a(D),console.log(`✅ Entrada adicionada: ${D.id}`));if(j.length>0){const D=j.map(F=>!F.goals.water_ml||F.goals.water_ml===0?(console.log(`🔧 Migrando usuário ${F.name} - aplicando metas padrão`),{...F,goals:{protein_g:F.goals.protein_g||(F.id==="kirk"?160:120),carbs_g:F.goals.carbs_g||(F.id==="kirk"?220:180),fat_g:F.goals.fat_g||(F.id==="kirk"?60:50),kcal:F.goals.kcal||(F.id==="kirk"?2400:2e3),water_ml:F.goals.water_ml||(F.id==="kirk"?3e3:2500)}}):F);i(D)}}m("success")}catch(k){console.error("Erro ao carregar dados:",k),m("error")}finally{h(!1)}},E=async()=>{h(!0),m("syncing");try{console.log("🧹 Limpando duplicatas locais antes da sincronização...");const{foodsRemoved:A,entriesRemoved:T}=await le.cleanDuplicatesBeforeSync();(A>0||T>0)&&(console.log(`✅ Limpeza local concluída: ${A} alimentos e ${T} entradas duplicadas removidas`),await l()),await xt.saveUsers(r),console.log("✅ Usuários sincronizados com Firebase");const k=await le.getAllEntries();await xt.saveEntries(k),console.log(`✅ ${k.length} entradas sincronizadas com Firebase`);const C=await le.getAllFoods();await xt.saveFoods(C),console.log(`✅ ${C.length} alimentos sincronizados com Firebase`),console.log("🔍 Verificando alimentos deletados localmente...");const j=await xt.loadFoods(),N=new Set(C.map(D=>D.id)),U=j.filter(D=>!N.has(D.id));if(U.length>0){console.log(`🗑️ Encontrados ${U.length} alimentos para deletar do Firebase:`,U.map(D=>D.name));for(const D of U)try{await xt.deleteFood(D.id),console.log(`✅ Alimento deletado do Firebase: ${D.name}`)}catch(F){console.error(`❌ Erro ao deletar alimento ${D.name}:`,F)}}else console.log("✅ Nenhum alimento deletado localmente encontrado");m("success")}catch(A){console.error("Erro ao salvar dados:",A),m("error")}finally{h(!1)}},P=()=>{switch(p){case"syncing":return"text-yellow-600";case"success":return"text-green-600";case"error":return"text-red-600";default:return"text-gray-600"}},S=()=>{switch(p){case"syncing":return"Sincronizando...";case"success":return"Sincronizado";case"error":return"Erro na sincronização";default:return"Pronto para sincronizar"}};return t?x.jsx(Oi,{isOpen:t,onClose:e,title:"🔄 Sincronização Firebase",size:"lg",children:x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:`text-lg font-medium ${P()}`,children:S()}),x.jsx("div",{className:"text-sm text-gray-600 mt-1",children:u?"Conectado ao Firebase":"Não conectado"})]}),x.jsx("div",{className:"space-y-4",children:u?x.jsxs("div",{className:"space-y-3",children:[x.jsx(Ae,{onClick:()=>I(),disabled:f,className:"w-full",children:f?"Carregando...":"📥 Baixar Dados"}),x.jsx(Ae,{onClick:E,disabled:f,variant:"secondary",className:"w-full",children:f?"Enviando...":"📤 Enviar Dados"}),x.jsx(Ae,{onClick:w,variant:"secondary",className:"w-full",children:"🚪 Sair"})]}):x.jsx(Ae,{onClick:y,disabled:f,className:"w-full",children:f?"Conectando...":"🔐 Entrar com Google"})}),x.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[x.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Como Funciona"}),x.jsxs("ul",{className:"text-sm text-blue-800 space-y-1 list-disc list-inside",children:[x.jsxs("li",{children:["📱 ",x.jsx("strong",{children:"Dados locais primeiro"})," - carregamento rápido e offline"]}),x.jsxs("li",{children:["🔄 ",x.jsx("strong",{children:"Sincronização automática"})," - mudanças são salvas instantaneamente"]}),x.jsxs("li",{children:["☁️ ",x.jsx("strong",{children:"Firebase sob demanda"})," - carrega apenas quando necessário"]}),x.jsxs("li",{children:["🧹 ",x.jsx("strong",{children:"Sem duplicações"})," - verificação automática evita duplicatas"]}),x.jsx("li",{children:"Qualquer usuário pode editar entradas de outros"})]})]})]})}):x.jsxs(He,{children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Sincronização"}),x.jsx("p",{className:`text-sm ${P()}`,children:S()})]}),x.jsx("div",{className:"flex space-x-2",children:x.jsx(Ae,{onClick:()=>v(!0),variant:"secondary",size:"sm",className:"flex-1",children:u?"Gerenciar":"Conectar"})})]}),x.jsx(Oi,{isOpen:g,onClose:()=>v(!1),title:"🔄 Sincronização Firebase",size:"lg",children:x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:`text-lg font-medium ${P()}`,children:S()}),x.jsx("div",{className:"text-sm text-gray-600 mt-1",children:u?"Conectado ao Firebase":"Não conectado"})]}),x.jsx("div",{className:"space-y-4",children:u?x.jsxs("div",{className:"space-y-3",children:[x.jsx(Ae,{onClick:()=>I(),disabled:f,className:"w-full",children:f?"Carregando...":"📥 Baixar Dados"}),x.jsx(Ae,{onClick:E,disabled:f,variant:"secondary",className:"w-full",children:f?"Enviando...":"📤 Enviar Dados"}),x.jsx(Ae,{onClick:w,variant:"secondary",className:"w-full",children:"🚪 Sair"})]}):x.jsx(Ae,{onClick:y,disabled:f,className:"w-full",children:f?"Conectando...":"🔐 Entrar com Google"})}),x.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[x.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Como Funciona"}),x.jsxs("ul",{className:"text-sm text-blue-800 space-y-1 list-disc list-inside",children:[x.jsxs("li",{children:["📱 ",x.jsx("strong",{children:"Dados locais primeiro"})," - carregamento rápido e offline"]}),x.jsxs("li",{children:["🔄 ",x.jsx("strong",{children:"Sincronização automática"})," - mudanças são salvas instantaneamente"]}),x.jsxs("li",{children:["☁️ ",x.jsx("strong",{children:"Firebase sob demanda"})," - carrega apenas quando necessário"]}),x.jsxs("li",{children:["🧹 ",x.jsx("strong",{children:"Sem duplicações"})," - verificação automática evita duplicatas"]}),x.jsx("li",{children:"Qualquer usuário pode editar entradas de outros"})]})]})]})})]})},Kve=({isOpen:t,message:e="Sincronizando dados..."})=>x.jsx(Oi,{isOpen:t,onClose:()=>{},title:"🔄 Sincronizando",size:"sm",children:x.jsxs("div",{className:"text-center py-8",children:[x.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"}),x.jsx("p",{className:"text-gray-600 text-lg font-medium mb-2",children:e}),x.jsx("p",{className:"text-gray-500 text-sm",children:"Carregando dados do Firebase..."})]})});function Yve(){const{initializeApp:t,isLoading:e,error:n,updateEntry:r,deleteEntry:i}=qr(),[a,o]=M.useState(!1),[s,l]=M.useState(!1),[u,c]=M.useState(!1),[f,h]=M.useState(!1),[p,m]=M.useState(null),[g,v]=M.useState(!1);M.useEffect(()=>{t()},[t]),M.useEffect(()=>{const P=()=>{o(!0)},S=()=>{l(!0)},A=()=>{c(!0)},T=()=>{h(!0)};return window.addEventListener("openFoodEntry",P),window.addEventListener("openFoodsManager",S),window.addEventListener("openReports",A),window.addEventListener("openAddWater",T),()=>{window.removeEventListener("openFoodEntry",P),window.removeEventListener("openFoodsManager",S),window.removeEventListener("openReports",A),window.removeEventListener("openAddWater",T)}},[]);const _=P=>{m(P),o(!0)},y=async P=>{await i(P)},w=P=>{r(P),m(null)},I=()=>{o(!1),l(!1),c(!1),h(!1),m(null)},E=P=>{v(P)};return e?x.jsx("div",{className:"min-h-screen flex items-center justify-center",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),x.jsx("p",{className:"text-gray-600",children:"Carregando..."})]})}):n?x.jsx("div",{className:"min-h-screen flex items-center justify-center",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"text-red-600 text-xl mb-4",children:"❌"}),x.jsx("p",{className:"text-gray-600",children:n})]})}):x.jsxs("div",{className:"min-h-screen bg-gray-50",children:[x.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[x.jsx(w9,{}),x.jsx("div",{className:"mt-8",children:x.jsx(T9,{onEdit:_,onDelete:y})})]}),x.jsx(E9,{isOpen:a,onClose:I,editingEntry:p,onUpdate:w}),x.jsx(O9,{isOpen:s,onClose:I}),x.jsx(I9,{isOpen:f,onClose:I}),x.jsx(Hve,{isOpen:u,onClose:I}),x.jsx(Gve,{onLoadingChange:E}),x.jsx(Kve,{isOpen:g,message:"Sincronizando dados do Firebase..."}),x.jsx(t4,{position:"top-right"})]})}cy.createRoot(document.getElementById("root")).render(x.jsx(R.StrictMode,{children:x.jsx(Yve,{})}));
